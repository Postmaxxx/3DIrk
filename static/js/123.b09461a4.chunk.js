(globalThis.webpackChunk_3dprint=globalThis.webpackChunk_3dprint||[]).push([[123],{2653:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});var a=t(390),r=t(2024),n=t(2559);const i=e=>{let{src:s,alt:t,id:i}=e;const[l,d]=(0,a.useState)(!1),c=(0,a.useRef)(null);return(0,n.jsxs)(n.Fragment,{children:[l||(0,n.jsx)(r.Z,{}),(0,n.jsx)("img",{ref:c,src:s,alt:t,onLoad:()=>{d(!0)},style:{display:l?"block":"none"},id:i})]})}},3646:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});var a=t(390),r=t(2559);const n=e=>{let{idInstance:s,onChange:t,initialAmount:n,lang:i,reset:l}=e;const[d,c]=(0,a.useState)(n),o=e=>{const a=e>=0?e:0;c(a),t(s,a)};return(0,a.useEffect)((()=>{l&&(c(l.amount),t(s,l.amount))}),[l]),(0,r.jsxs)("div",{className:"amount__changer",children:[(0,r.jsx)("button",{className:d<=1?"disabled":"","aria-label":"Decrease amount",onClick:e=>{e.preventDefault(),d>1&&o(d>2?d-1:1)},children:"\u2013"}),(0,r.jsx)("input",{onBlur:e=>(e=>{const a=e>0?e:1;c(a),t(s,a)})(Number(e.target.value)),type:"text",value:d,onChange:e=>{e.preventDefault(),o(Number(e.target.value))},"aria-label":"en"===i?"Enter amount":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),(0,r.jsx)("button",{"aria-label":"Increase amount",onClick:e=>{e.preventDefault(),o(d+1)},children:"+"})]})}},5484:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});var a=t(390),r=t(2024),n=t(2559);const i=e=>{let{props:s}=e;const[t,i]=(0,a.useState)(!1),l=(0,a.useRef)(null),d=()=>{i(!0)};return(0,a.useEffect)((()=>{var e;const t=new Image;return t.src=s.path,null===(e=l.current)||void 0===e||e.appendChild(t),t.addEventListener("load",d),i(!1),()=>{var e;t.removeEventListener("load",d),null===(e=l.current)||void 0===e||e.removeChild(t)}}),[s.path]),(0,n.jsxs)("div",{className:"message_image__container",children:[(0,n.jsx)("div",{className:"img__wrapper",ref:l,children:!t&&(0,n.jsx)(r.Z,{})}),(0,n.jsx)("div",{className:"descr__container",children:(0,n.jsx)("span",{children:s.descr})})]})}},3875:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});var a=t(390),r=t(2559);const n=e=>{let{status:s,header:t,text:n,buttonText:i,buttonAction:l}=e;return(0,a.useEffect)((()=>{}),[]),(0,r.jsxs)("div",{className:`message_info__container ${s}`,children:[(0,r.jsx)("h3",{children:t}),(0,r.jsx)("div",{className:"text-block",children:n.map(((e,s)=>(0,r.jsx)("p",{children:e},s)))}),(0,r.jsx)("button",{onClick:l,children:i})]})}},2508:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});var a=t(6599),r=t(390),n=t(2559);const i=e=>{let{visible:s,escExit:t,close:i,children:l}=e;const d=document.getElementById("modal"),c=e=>{t&&27===e.keyCode&&i()};return(0,r.useEffect)((()=>(document.addEventListener("keyup",c),()=>{document.removeEventListener("keyup",c)})),[]),d?(0,a.createPortal)((0,n.jsxs)("div",{className:s?"modal-window visible":"modal-window",children:[(0,n.jsx)("button",{className:"closer","aria-label":"close | \u0437\u0430\u043a\u0440\u044b\u0442\u044c",onClick:i,children:(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{fillRule:"evenodd",stroke:"#979797",clipRule:"evenodd",d:"M16 31C24.2843 31 31 24.2843 31 16C31 7.71573 24.2843 1 16 1C7.71573 1 1 7.71573 1 16C1 24.2843 7.71573 31 16 31Z",strokeWidth:"2"}),(0,n.jsx)("path",{d:"M9 9L24 24",strokeWidth:"2",strokeLinecap:"square"}),(0,n.jsx)("path",{d:"M8.49512 23.4586L24.5049 9.54144",strokeWidth:"2",strokeLinecap:"square"})]})}),(0,n.jsx)("div",{className:"content",children:s?l:null})]}),d):(0,n.jsx)("div",{className:"modal-window_absence",children:"Node for Modal Windows was not found"})}},12:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>R});var a=t(390),r=t(5545),n=t(2024),i=t(5902),l=t(5040),d=(t(8677),t(8790)),c=t(2653),o=t(4071),u=t(2508),h=t(5484),p=t(2559);const m={loadProduct:o.LX},x=(0,l.$j)((e=>({product:e.product,lang:e.base.lang})),(e=>({setState:{product:(0,i.DE)(m,e)}})))((e=>{var s,t;let{lang:r,product:n,setState:i}=e;const l=(0,a.useRef)(null),o=(0,a.useRef)(null),m=(0,a.useRef)(),x=(0,a.useRef)(),[v,g]=(0,a.useState)({visible:!1}),j={lazyLoad:!1,perPage:5,gap:"5%",rewind:!1,pagination:!1,isNavigation:!0,focus:"center",direction:"ltr",wheel:!0,releaseWheel:!0,height:"100%",breakpoints:{1600:{perPage:5},1241:{perPage:5},992:{perPage:4},768:{perPage:3,direction:"ltr",height:"auto",gap:"5%"},480:{perPage:3}}},f={lazyLoad:!0,type:"fade",rewind:!1,pagination:!1,speed:500,wheel:!1,wheelSleep:300,breakpoints:{768:{wheel:!1}}};return(0,a.useEffect)((()=>{if(o.current&&l.current)return x.current=new d.ZP(o.current,j),m.current=new d.ZP(l.current,f),m.current.sync(x.current),m.current.mount(),x.current.mount(),()=>{var e,s;null===(e=x.current)||void 0===e||e.destroy(),null===(s=m.current)||void 0===s||s.destroy()}}),[]),(0,p.jsxs)("div",{className:"splider_preview",children:[(0,p.jsx)("div",{id:"modalMain",className:"splide",ref:l,children:(0,p.jsx)("div",{className:"splide__track",children:(0,p.jsx)("ul",{className:"splide__list",children:n.imgs.map(((e,s)=>(0,p.jsx)("li",{className:"splide__slide",onClick:()=>{g({visible:!0})},children:(0,p.jsx)(c.Z,{src:e.url,alt:e.name[r]})},s)))})})}),(0,p.jsx)("div",{id:"modalThumbs",className:"splide",ref:o,children:(0,p.jsx)("div",{className:"splide__track",children:(0,p.jsx)("ul",{className:"splide__list",children:n.imgs.map(((e,s)=>(0,p.jsx)("li",{className:"splide__slide",children:(0,p.jsx)(c.Z,{src:e.url,alt:e.name[r]})},s)))})})}),(0,p.jsx)(u.Z,{visible:v.visible,close:()=>{g({visible:!1})},escExit:!0,children:(0,p.jsx)(h.Z,{props:{path:n.imgs[(null===(s=m.current)||void 0===s?void 0:s.index)||0].url,descr:n.imgs[(null===(t=m.current)||void 0===t?void 0:t.index)||0].name[r]}})})]})}));var v=t(7767),g=t(2722),j=t(8205),f=t(3875),b=t(3646),_=t(529);const N={addItem:j.jX,saveCart:j.FP},S=(0,l.$j)((e=>({cart:e.cart,lang:e.base.lang})),(e=>({setState:{cart:(0,i.DE)(N,e)}})))((e=>{let{product:s,type:t,fiber:r,color:n,lang:i,cart:l,setState:d}=e;const[c,o]=(0,a.useState)(1),[h,m]=(0,a.useState)({visible:!1}),[x,v]=(0,a.useState)({header:"",status:"",text:[]}),[g,j]=(0,a.useState)({amount:1}),N=()=>{m({visible:!1})};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"cart-adder",children:[(0,p.jsxs)("span",{children:["en"===i?"Amount":"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",": "]}),(0,p.jsx)("div",{className:"amount-changer__container",children:(0,p.jsx)(b.Z,{idInstance:s.id,initialAmount:c,reset:g,lang:i,onChange:(e,s)=>{o(s)}})}),(0,p.jsx)("button",{className:"button_news",title:"Add to cart",onClick:()=>{const e=[];if(!n&&e.push("en"===i?"Please choose the color":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0446\u0432\u0435\u0442"),!r&&e.push("en"===i?"Please choose the fiber":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b"),!t&&e.push("en"===i?"Please choose the type":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0435\u0440\u0441\u0438\u044e"),!c&&e.push("en"===i?"Please set the amount":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),n&&r&&t&&c){const e={product:s,fiber:r,color:n,amount:c,type:t,id:_()};d.cart.addItem(e),d.cart.saveCart([...l.items,e]),j({amount:1});const a=l.items.reduce(((e,s)=>e+s.amount),0)+c;v({status:"success",header:"en"===i?"Added":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e",text:"en"===i?["This item has been added to your \u0441art.",`You now have ${a} item${a>1?"s":""} in your \u0441art`]:["\u042d\u0442\u043e\u0442 \u0442\u043e\u0432\u0430\u0440 \u0431\u044b\u043b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u0412\u0430\u0448\u0443 \u043a\u043e\u0440\u0437\u0438\u043d\u0443.",`\u0421\u0435\u0439\u0447\u0430\u0441 \u0443 \u0412\u0430\u0441 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0435: ${a}`]})}else v({status:"error",header:"en"===i?"Error":"\u041e\u0448\u0438\u0431\u043a\u0430",text:e});m({visible:!0})},children:"en"===i?"Add to cart":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]}),(0,p.jsx)(u.Z,{visible:h.visible,close:N,escExit:!0,children:(0,p.jsx)(f.Z,{status:x.status,header:x.header,text:x.text,buttonText:"en"===i?"Close":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",buttonAction:N})})]})}));var w=t(5400);const C=e=>{let{lang:s,colors:t,onSelect:r}=e;const[n,i]=(0,a.useState)(),[l,d]=(0,a.useState)(!1),[c,o]=(0,a.useState)({visible:!1}),[m,x]=(0,a.useState)({descr:"",path:""});return(0,p.jsxs)("div",{className:"color-picker "+(l?"expanded":""),children:[(0,p.jsx)("div",{className:"option current",onClick:()=>{d((e=>!e))},children:n?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"img__container",children:(0,p.jsx)("img",{src:n.url,alt:n.name[s]})}),(0,p.jsx)("span",{children:n.name[s]})]}):(0,p.jsxs)("span",{children:["en"===s?"Choose the fiber before":"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b"," "]})}),(0,p.jsx)("div",{className:"list",children:t.map((e=>(0,p.jsxs)("div",{className:"option",onClick:()=>{return s=e.id,i(t.find((e=>e.id===s))),d(!1),void r(s);var s},children:[(0,p.jsx)("div",{className:"img__container",children:(0,p.jsx)("img",{src:e.url,alt:e.name[s]})}),(0,p.jsx)("span",{children:e.name[s]}),(0,p.jsx)("span",{onClick:t=>((e,t)=>{e.stopPropagation(),x({descr:t.name[s],path:t.url}),o({visible:!0})})(t,e),children:"en"===s?"(details)":"(\u0434\u0435\u0442\u0430\u043b\u044c\u043d\u0435\u0435)"})]},e.id)))}),(0,p.jsx)(u.Z,{visible:c.visible,close:()=>{o({visible:!1})},escExit:!0,children:(0,p.jsx)(h.Z,{props:{path:m.path,descr:m.descr}})})]})},L={loadProduct:o.LX},E={loadColors:g.Uf},y={loadFibers:v.il},k=(0,l.$j)((e=>({lang:e.base.lang,selectedCategory:e.catalog.selectedCategory,categories:e.catalog.categories,selectedProduct:e.catalog.selectedProduct,product:e.product,colors:e.colors,fibers:e.fibers})),(e=>({setState:{product:(0,i.DE)(L,e),colors:(0,i.DE)(E,e),fibers:(0,i.DE)(y,e)}})))((e=>{let{lang:s,setState:t,product:r,colors:n,fibers:i}=e;const[l,d]=(0,a.useState)([]),[c,o]=(0,a.useState)(),[u,h]=(0,a.useState)(""),[m,x]=(0,a.useState)(void 0),v=(0,a.useRef)(null);return(0,a.useEffect)((()=>{"success"===n.dataLoading.status&&"success"===i.dataLoading.status&&"success"===r.dataLoading.status&&d(r.fibers.map((e=>i.fibersList.find((s=>s.id===e)))).filter((e=>void 0!==(null===e||void 0===e?void 0:e.id))))}),[i.dataLoading.status,n.dataLoading.status,r.dataLoading.status]),(0,p.jsxs)("div",{className:"details__descr",children:[(0,p.jsxs)("h2",{children:["en"===s?"Features":"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438",":"]}),(0,p.jsxs)("div",{className:"features__container",children:[(0,p.jsxs)("div",{className:"feature",children:[(0,p.jsxs)("span",{children:["en"===s?"Description":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",": "]}),r.text[s].map(((e,s)=>(0,p.jsx)("p",{children:e.part},s)))]}),r.features.map(((e,t)=>(0,p.jsxs)("div",{className:"feature",children:[(0,p.jsxs)("span",{children:[e.name[s],": "]}),(0,p.jsx)("span",{children:e.value[s]})]},t))),(0,p.jsxs)("div",{className:"feature",children:[(0,p.jsxs)("span",{children:["en"===s?"Price":"\u0426\u0435\u043d\u0430",": "]}),(0,p.jsx)("span",{children:r.price[s]})]}),r.mods.length>0?(0,p.jsxs)("div",{className:"feature wrap_xs",children:[(0,p.jsxs)("label",{htmlFor:"type",children:["en"===s?"Version":"\u0412\u0435\u0440\u0441\u0438\u044f",":"]}),(0,p.jsxs)("select",{id:"type",ref:v,defaultValue:"-1",onChange:e=>{x(r.mods[Number(e.target.value)])},children:[(0,p.jsx)("option",{value:"-1",disabled:!0,hidden:!0,children:"en"===s?"Select type":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f"},-1),r.mods.map(((e,t)=>(0,p.jsx)("option",{value:t,children:e[s]},t)))]})]}):null,(0,p.jsxs)("div",{className:"feature wrap_xs",children:[(0,p.jsx)("label",{htmlFor:"fiber",children:c?(0,p.jsxs)(w.OL,{to:`../../fibers/${c.id}`,"aria-label":"en"===s?"(About selected fiber)":" (\u041e \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u043c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0435)",children:["en"===s?"Fiber":"\u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b",":"]}):(0,p.jsxs)(p.Fragment,{children:["en"===s?"Fiber":"\u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b",":"]})}),(0,p.jsxs)("select",{id:"fiber",onChange:e=>{o(i.fibersList.find((s=>s.id===e.target.value))),h("")},defaultValue:"",children:[(0,p.jsx)("option",{disabled:!0,hidden:!0,value:"",children:"en"===s?"Select fiber":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b"},-1),l.map(((e,t)=>(0,p.jsx)("option",{value:e.id,children:e.short.name[s]},t)))]})]}),(0,p.jsxs)("div",{className:"colors__container wrap_xs",children:[(0,p.jsxs)("span",{children:["en"===s?"Available colors":"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0446\u0432\u0435\u0442\u0430",": "]}),(0,p.jsx)("div",{className:"colors__wrapper",children:(0,p.jsx)(C,{lang:s,colors:n.colors.filter((e=>null===c||void 0===c?void 0:c.colors.includes(e.id))),onSelect:e=>{h(e)}})})]})]}),(0,p.jsx)(S,{product:r,type:r.mods.length>0?m:{en:"-",ru:"-"},fiber:null===c||void 0===c?void 0:c.id,color:u})]})})),P={loadProduct:o.LX},Z={loadColors:g.Uf},D={loadFibers:v.il},R=(0,l.$j)((e=>({lang:e.base.lang,selectedCategory:e.catalog.selectedCategory,categories:e.catalog.categories,product:e.product,colors:e.colors,fibers:e.fibers})),(e=>({setState:{product:(0,i.DE)(P,e),colors:(0,i.DE)(Z,e),fibers:(0,i.DE)(D,e)}})))((e=>{let{lang:s,setState:t,product:i,colors:l,fibers:d}=e;const c=(0,r.UO)().productId||"",[o,u]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{c!==i.id&&(t.product.loadProduct(c),u(!1))}),[]),(0,a.useEffect)((()=>{"idle"===d.dataLoading.status&&(t.fibers.loadFibers(),u(!1))}),[d.dataLoading.status]),(0,a.useEffect)((()=>{"idle"===l.dataLoading.status&&(t.colors.loadColors(),u(!1))}),[l.dataLoading.status]),(0,a.useEffect)((()=>{"success"===l.dataLoading.status&&"success"===d.dataLoading.status&&"success"===i.dataLoading.status&&u(!0)}),[d.dataLoading.status,l.dataLoading.status,i.dataLoading.status]),(0,p.jsx)("div",{className:"page page_product-details",children:(0,p.jsx)("div",{className:"container_page",children:(0,p.jsxs)("div",{className:"container",children:[(0,p.jsx)("h1",{children:i.name[s]}),o?(0,p.jsxs)("div",{className:"details__block",children:[(0,p.jsx)("div",{className:"details__splider",children:(0,p.jsx)(x,{})}),(0,p.jsx)("div",{className:"details__descr-order",children:(0,p.jsx)(k,{})})]}):(0,p.jsx)(n.Z,{})]})})})}))},4071:(e,s,t)=>{"use strict";t.d(s,{Gr:()=>i,KT:()=>n,LX:()=>l});var a=t(7526),r=t(6619);const n=e=>({type:a.EH.SET_LOAD_DATA_STATUS_PRODUCT,payload:e}),i=e=>({type:a.EH.SET_DATA_PRODUCT,payload:e}),l=e=>async function(s){s(n({status:"loading",message:`Loading product ${e}`}));try{new Promise(((s,t)=>{setTimeout((()=>{const a=r.Z.find((s=>s.id===e));a?(console.log(`product ${e} loaded`),s(a)):t({mesasage:`product ${e} not found`})}),1e3)})).then((t=>{s(i(t)),s(n({status:"success",message:`Product id=${e} loaded`}))})).catch((t=>{s(n({status:"error",message:`ERROR while loading product id=${e}: ${t}`}))}))}catch(t){s(n({status:"error",message:`ERROR while loading product id=${e}: ${t}`}))}}},529:e=>{var s="undefined"!==typeof process&&process.pid?process.pid.toString(36):"";function t(){var e=Date.now(),s=t.last||e;return t.last=e>s?e:s+1}e.exports=e.exports.default=function(e,a){return(e||"")+""+s+t().toString(36)+(a||"")},e.exports.process=function(e,a){return(e||"")+s+t().toString(36)+(a||"")},e.exports.time=function(e,s){return(e||"")+t().toString(36)+(s||"")}}}]);
//# sourceMappingURL=123.b09461a4.chunk.js.map