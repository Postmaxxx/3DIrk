"use strict";(globalThis.webpackChunk_3dprint=globalThis.webpackChunk_3dprint||[]).push([[165],{2653:(e,t,a)=>{a.d(t,{Z:()=>r});var s=a(390),o=a(2024),i=a(2559);const r=e=>{let{src:t,alt:a,id:r}=e;const[d,l]=(0,s.useState)(!1),c=(0,s.useRef)(null);return(0,i.jsxs)(i.Fragment,{children:[d||(0,i.jsx)(o.Z,{}),(0,i.jsx)("img",{ref:c,src:t,alt:a,onLoad:()=>{l(!0)},style:{display:d?"block":"none"},id:r})]})}},4159:(e,t,a)=>{a.r(t),a.d(t,{default:()=>q});var s=a(5902),o=a(5040),i=a(390),r=a(8790),d=a(6619),l=a(7526);const c=[{id:"auto",name:{en:"Auto/moto",ru:"\u0410\u0432\u0442\u043e/\u043c\u043e\u0442\u043e"}},{id:"c2",name:{en:"Toys",ru:"\u0418\u0433\u0440\u0443\u0448\u043a\u0438"}},{id:"c3",name:{en:"Test",ru:"\u0422\u0435\u0441\u0442"}},{id:"c4",name:{en:"Decor",ru:"\u0414\u0435\u043a\u043e\u0440"}}],n=e=>({type:l.ED.SET_LOAD_DATA_STATUS_CATEGORIES_LIST,payload:e}),u=e=>({type:l.ED.SET_SELECTED_CATEGORY,payload:e}),g=e=>({type:l.ED.SET_SELECTED_PRODUCT,payload:e}),m=e=>({type:l.ED.SET_DATA_CATEGORIES_LIST,payload:e}),p=()=>async function(e){e(n({status:"loading",message:"Loading categories list"}));try{new Promise(((e,t)=>{setTimeout((()=>{const a=c;a?(console.log("CategoriesList list loaded"),e(a)):t({mesasage:"CategoriesList not found"})}),200)})).then((t=>{e(m(t)),e(n({status:"success",message:"Categories list loaded"}))})).catch((t=>{e(n({status:"error",message:`ERROR while loading categories list: ${t}`}))}))}catch(t){e(n({status:"error",message:`ERROR while loading categories list: ${t}`}))}},h=e=>({type:l.ED.SET_LOAD_DATA_STATUS_CATEGORY,payload:e}),v=e=>({type:l.ED.SET_DATA_CATEGORY,payload:e}),y=e=>async function(t){t(h({dataLoading:{status:"loading",message:`Loading category id: ${e}`},id:e}));try{var a;const s=await new Promise(((t,a)=>{setTimeout((()=>{const s=d.Z.filter((t=>t.categoryId===e));s?t(s):a(`Category ${e} is empty`),console.log(`category ${e} loaded`)}),200)})),o=(null===(a=c.find((t=>t.id===e)))||void 0===a?void 0:a.name)||{en:"Other",ru:"\u0414\u0440\u0443\u0433\u043e\u0435"};t(v({id:e,name:o,products:s,page:0})),t(h({dataLoading:{status:"success",message:`Loaded category id: ${e}`},id:e}))}catch(s){t(h({dataLoading:{status:"error",message:`ERROR while loading category id=${e}: error:${s}`},id:e}))}};var L=a(2024),_=a(2653),x=a(5400),C=a(4071),S=a(2559);const j={setCategoriesList:m,setLoadDataStatusCategoriesList:n,setLoadDataStatusCategory:h,setSelectedCategory:u,setSelectedProduct:g,loadCategoriesList:p,loadCategory:y},E={setProduct:C.Gr,setLoadDataStatusProduct:C.KT},T=(0,o.$j)((e=>({lang:e.base.lang})),(e=>({setState:{catalog:(0,s.DE)(j,e),product:(0,s.DE)(E,e)}})))((e=>{let{lang:t,products:a,setState:s}=e;return(0,S.jsx)("div",{className:"gallery__container",children:a.map((e=>(0,S.jsx)(x.OL,{to:e.id,onClick:()=>(e=>{s.product.setLoadDataStatusProduct({status:"success",message:""}),s.product.setProduct(e)})(e),children:(0,S.jsxs)("div",{className:"gallery__item",children:[(0,S.jsx)("div",{className:"img__container",children:(0,S.jsx)(_.Z,{src:e.imgs[0].url,alt:e.imgs[0].name[t]})}),(0,S.jsxs)("div",{className:"descr__container",children:[(0,S.jsx)("span",{className:"name",children:e.name[t]}),(0,S.jsxs)("span",{className:"price",children:["en"===t?"Price":"\u0426\u0435\u043d\u0430",": ",e.price[t]]})]})]})},e.id)))})})),f={setCategoriesList:m,setLoadDataStatusCategoriesList:n,setLoadDataStatusCategory:h,setSelectedCategory:u,setSelectedProduct:g,loadCategoriesList:p,loadCategory:y,setPage:e=>({type:l.ED.SET_PAGE,payload:e}),setCategory:v},D=(0,o.$j)((e=>{var t;return{lang:e.base.lang,loadingProducts:null===(t=e.catalog.categories[e.catalog.selectedCategory])||void 0===t?void 0:t.dataLoading,categoriesList:e.catalog.categoriesList,selectedCategory:e.catalog.selectedCategory,categories:e.catalog.categories,selectedProduct:e.catalog.selectedProduct}}),(e=>({setState:{catalog:(0,s.DE)(f,e)}})))((e=>{var t,a;let{lang:s,selectedCategory:o,setState:d,loadingProducts:l,categories:c}=e;const n=(0,i.useRef)(),u=(0,i.useRef)(null),[g,m]=(0,i.useState)([[]]),[p,h]=(0,i.useState)(6),v={lazyLoad:!1,updateOnMove:!0,perPage:1,fixedWidth:"100%",perMove:1,pagination:!0,arrows:!0,drag:!1,speed:500,wheel:!1,wheelSleep:300,interval:0,pauseOnHover:!0,breakpoints:{768:{wheel:!1}}};return(0,i.useEffect)((()=>{o&&!c[o]&&d.catalog.loadCategory(o)}),[o]),(0,i.useEffect)((()=>{var e,t;if("success"!==(null===(e=c[o])||void 0===e||null===(t=e.dataLoading)||void 0===t?void 0:t.status))return;const a=[];for(let s=0;s<c[o].products.length;s+=p)a.push(c[o].products.slice(s,s+p));m(a)}),[null===(t=c[o])||void 0===t||null===(a=t.dataLoading)||void 0===a?void 0:a.status,o]),(0,i.useEffect)((()=>{var e;if(u.current)return document.body.offsetWidth<993&&h(4),n.current=new r.ZP(u.current,v),n.current.on("pagination:updated",(function(e,t,a){e.list.classList.add("splide__pagination--custom"),e.items.forEach(((t,s)=>{0===s||s===e.items.length-1||s<=a.page+1&&s>=a.page-1?t.button.classList.remove("no-display"):t.button.classList.add("no-display"),s===a.page+2&&a.page+2<e.items.length-1||s===a.page-2&&a.page-2>0?(t.button.textContent=" ... ",t.button.classList.remove("no-display")):t.button.textContent=String(t.page+1)}))})),n.current.on("move",(()=>{var e;d.catalog.setPage(null===(e=n.current)||void 0===e?void 0:e.index)})),n.current.mount(),null===(e=n.current)||void 0===e||e.go(c[o].page),()=>{var e;null===(e=n.current)||void 0===e||e.destroy()}}),[g]),(0,S.jsx)("div",{className:"splider_single__container",children:"success"===(null===l||void 0===l?void 0:l.status)?(0,S.jsx)("div",{className:"splide splider_single",ref:u,"aria-label":"",children:(0,S.jsx)("div",{className:"splide__track",children:(0,S.jsx)("ul",{className:"splide__list",children:g.map(((e,t)=>(0,S.jsx)("li",{className:"splide__slide",children:(0,S.jsx)(T,{products:e})},t)))})})}):(0,S.jsx)(L.Z,{})})}));a(8677);const b={setCategoriesList:m,setLoadDataStatusCategoriesList:n,setLoadDataStatusCategory:h,setSelectedCategory:u,setSelectedProduct:g,loadCategoriesList:p},R=(0,o.$j)((e=>({lang:e.base.lang,loading:e.catalog.categoriesListLoading,list:e.catalog.categoriesList,selectedCategory:e.catalog.selectedCategory})),(e=>({setState:{catalog:(0,s.DE)(b,e)}})))((e=>{let{list:t,selectedCategory:a,loading:s,lang:o,setState:r}=e;return(0,i.useEffect)((()=>{var e;"success"!==s.status?r.catalog.loadCategoriesList():!a&&r.catalog.setSelectedCategory(null===(e=t[0])||void 0===e?void 0:e.id)}),[s.status]),(0,S.jsx)("div",{className:"categories-list__container",children:(0,S.jsx)("div",{className:"list",children:"success"===s.status?(0,S.jsx)("ul",{children:t.map(((e,t)=>(0,S.jsx)("li",{className:e.id===a?"selected":"",onClick:()=>{return t=e.id,void r.catalog.setSelectedCategory(t);var t},children:e.name[o]},e.id)))}):(0,S.jsx)(L.Z,{})})})})),A=a.p+"static/media/catalog_hero.1c70c36d60cbcf4afdc1.webp",P=(0,o.$j)((e=>({lang:e.base.lang})))((e=>{let{lang:t}=e;return(0,S.jsxs)("div",{className:"catalog-intro",children:[(0,S.jsx)("h1",{children:"en"===t?"Our catalog":"\u041d\u0430\u0448 \u043a\u0430\u0442\u0430\u043b\u043e\u0433"}),(0,S.jsxs)("div",{className:"descr",children:[(0,S.jsx)("div",{className:"img__container",children:(0,S.jsx)(_.Z,{src:A,alt:"en"===t?"Catalog image":"\u0424\u043e\u0442\u043e \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0430"})}),(0,S.jsxs)("div",{className:"descr__text",children:[(0,S.jsx)("h2",{children:"en"===t?"Subheader":"\u041f\u043e\u0434\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"}),(0,S.jsx)("ul",{children:"en"===t?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quo tempore atque et nostrum qui vitae! Dolor necessitatibus ipsum consectetur optio."}),(0,S.jsx)("p",{children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Necessitatibus, eveniet odit veritatis totam exercitationem id perspiciatis dolores, ipsum quos reprehenderit, consectetur facere harum rerum libero tempore incidunt modi! Placeat cumque quidem velit porro amet quam possimus dolorum eaque exercitationem quod!"}),(0,S.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quo tempore atque et nostrum qui vitae! Dolor necessitatibus ipsum consectetur optio."})]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("p",{children:"\u0412\u0410\u041f \u0432 \u0430\u043f\u0432\u0430 \u044b\u043f \u0430\u0432\u043e\u043b\u0440\u043f \u044b\u0432\u0430\u0440 \u043b\u043e\u0440\u0432\u044b\u0430 \u043e\u043b\u044b\u0432\u0430\u043f\u0440\u043b\u043e\u0432\u044b \u0440\u043f\u0432\u044b\u0430\u0434\u043b\u043e\u043f\u0440\u0432\u044b \u0430\u043f\u043b\u0432\u043e\u0430\u043f\u0440 \u043b\u0432\u0434\u0430\u044b\u043f\u0440 \u0432\u043b\u0430\u043e\u0440\u043f\u043b\u0432 \u044b\u043e\u0430\u0440\u043f \u043b\u0432\u0434\u0430\u044b\u0440\u043f\u043b\u0432\u0430\u044b\u043e\u0434\u0440\u043f\u043b\u0434 \u044b\u0432\u0440\u0430\u043f\u043b\u0432\u0430 \u043b\u043e\u0430\u0432\u0440\u043f\u043b\u0432\u043e\u0440 \u0432\u043b\u0430\u043f\u0440\u044b\u0434\u0430\u043b\u043e\u043f\u0432\u044b\u0440\u0430\u043f\u043b \u0434\u0440\u044b\u0432\u0430\u043f\u043b\u0434\u044b\u0432\u0440\u0430"}),(0,S.jsx)("p",{children:"\u0412\u0410\u041f \u0432 \u0430\u043f\u0432\u0430 \u044b\u043f \u0430\u0432\u043e\u043b\u0440\u043f \u044b\u0432\u0430\u0440 \u043b\u043e\u0440\u0432\u044b\u0430 \u043e\u043b\u044b\u0432\u0430\u043f\u0440\u043b\u043e\u0432\u044b \u0440\u043f\u0432\u044b\u0430\u0434\u043b\u043e\u043f\u0440\u0432\u044b \u0430\u043f\u043b\u0432\u043e\u0430\u043f\u0440 \u043b\u0432\u0434\u0430\u044b\u043f\u0440 \u0432\u043b\u0430\u043e\u0440\u043f\u043b\u0432 \u044b\u043e\u0430\u0440\u043f \u043b\u0432\u0434\u0430\u044b\u0440\u043f\u043b\u0432\u0430\u044b\u043e\u0434\u0440\u043f\u043b\u0434 \u044b\u0432\u0440\u0430\u043f\u043b\u0432\u0430 \u043b\u043e\u0430\u0432\u0440\u043f\u043b\u0432\u043e\u0440 \u0432\u043b\u0430\u043f\u0440\u044b\u0434\u0430\u043b\u043e\u043f\u0432\u044b\u0440\u0430\u043f\u043b \u0434\u0440\u044b\u0432\u0430\u043f\u043b\u0434\u044b\u0432\u0440\u0430"})]})})]})]})]})}));var N=a(2722),O=a(7767);const $={loadColors:N.Uf},w={loadFibers:O.il},q=(0,o.$j)((e=>({colorsLoading:e.colors.dataLoading,fibersLoading:e.fibers.dataLoading})),(e=>({setState:{colors:(0,s.DE)($,e),fibers:(0,s.DE)(w,e)}})))((e=>{let{colorsLoading:t,fibersLoading:a,setState:s}=e;return(0,i.useEffect)((()=>{"idle"===t.status&&s.colors.loadColors(),"idle"===a.status&&s.fibers.loadFibers()}),[]),(0,S.jsx)("div",{className:"page page_catalog",children:(0,S.jsx)("div",{className:"container_page",children:(0,S.jsxs)("div",{className:"container",children:[(0,S.jsx)(P,{}),(0,S.jsxs)("div",{className:"splider_catalog__main",children:[(0,S.jsx)(R,{}),(0,S.jsx)(D,{})]})]})})})}))},4071:(e,t,a)=>{a.d(t,{Gr:()=>r,KT:()=>i,LX:()=>d});var s=a(7526),o=a(6619);const i=e=>({type:s.EH.SET_LOAD_DATA_STATUS_PRODUCT,payload:e}),r=e=>({type:s.EH.SET_DATA_PRODUCT,payload:e}),d=e=>async function(t){t(i({status:"loading",message:`Loading product ${e}`}));try{new Promise(((t,a)=>{setTimeout((()=>{const s=o.Z.find((t=>t.id===e));s?(console.log(`product ${e} loaded`),t(s)):a({mesasage:`product ${e} not found`})}),1e3)})).then((a=>{t(r(a)),t(i({status:"success",message:`Product id=${e} loaded`}))})).catch((a=>{t(i({status:"error",message:`ERROR while loading product id=${e}: ${a}`}))}))}catch(a){t(i({status:"error",message:`ERROR while loading product id=${e}: ${a}`}))}}}}]);
//# sourceMappingURL=165.40e1ecf9.chunk.js.map