"use strict";(self.webpackChunk_3dprint=self.webpackChunk_3dprint||[]).push([[761],{7123:(e,s,a)=>{var t=a(5893),n=a(7294),r=a(8840);s.Z=({src:e,alt:s,id:a})=>{const[i,l]=(0,n.useState)(!1),c=(0,n.useRef)(null);return(0,t.jsxs)(t.Fragment,{children:[i||(0,t.jsx)(r.Z,{}),(0,t.jsx)("img",{ref:c,src:e,alt:s,onLoad:()=>{l(!0)},style:{display:i?"block":"none"},id:a})]})}},1611:(e,s,a)=>{var t=a(5893),n=a(7294);s.Z=({idInstance:e,onChange:s,initialAmount:a,lang:r,reset:i})=>{const[l,c]=(0,n.useState)(a),d=a=>{const t=a>=0?a:0;c(t),s(e,t)};return(0,n.useEffect)((()=>{i&&(c(i.amount),s(e,i.amount))}),[i]),(0,t.jsxs)("div",{className:"amount__changer",children:[(0,t.jsx)("button",{className:l<=1?"disabled":"","aria-label":"Decrease amount",onClick:e=>{e.preventDefault(),l>1&&d(l>2?l-1:1)},children:"–"}),(0,t.jsx)("input",{onBlur:a=>(a=>{const t=a>0?a:1;c(t),s(e,t)})(Number(a.target.value)),type:"text",value:l,onChange:e=>{e.preventDefault(),d(Number(e.target.value))},"aria-label":"en"===r?"Enter amount":"Введите количество"}),(0,t.jsx)("button",{"aria-label":"Increase amount",onClick:e=>{e.preventDefault(),d(l+1)},children:"+"})]})}},4378:(e,s,a)=>{var t=a(5893),n=a(7294),r=a(8840);s.Z=({props:e})=>{const[s,a]=(0,n.useState)(!1),i=(0,n.useRef)(null),l=()=>{a(!0)};return(0,n.useEffect)((()=>{const s=new Image;return s.src=e.path,i.current?.appendChild(s),s.addEventListener("load",l),a(!1),()=>{s.removeEventListener("load",l),i.current?.removeChild(s)}}),[e.path]),(0,t.jsxs)("div",{className:"message_image__container",children:[(0,t.jsx)("div",{className:"img__wrapper",ref:i,children:!s&&(0,t.jsx)(r.Z,{})}),(0,t.jsx)("div",{className:"descr__container",children:(0,t.jsx)("span",{children:e.descr})})]})}},7703:(e,s,a)=>{var t=a(5893),n=a(7294);s.Z=({status:e,header:s,text:a,buttonText:r,buttonAction:i})=>((0,n.useEffect)((()=>{}),[]),(0,t.jsxs)("div",{className:`message_info__container ${e}`,children:[(0,t.jsx)("h3",{children:s}),(0,t.jsx)("div",{className:"text-block",children:a.map(((e,s)=>(0,t.jsx)("p",{children:e},s)))}),(0,t.jsx)("button",{onClick:i,children:r})]}))},4915:(e,s,a)=>{var t=a(5893),n=a(3935),r=a(7294);s.Z=({visible:e,escExit:s,close:a,children:i})=>{const l=document.getElementById("modal"),c=e=>{s&&27===e.keyCode&&a()};return(0,r.useEffect)((()=>(document.addEventListener("keyup",c),()=>{document.removeEventListener("keyup",c)})),[]),l?(0,n.createPortal)((0,t.jsxs)("div",{className:e?"modal-window visible":"modal-window",children:[(0,t.jsx)("button",{className:"closer","aria-label":"close | закрыть",onClick:a,children:(0,t.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("path",{fillRule:"evenodd",stroke:"#979797",clipRule:"evenodd",d:"M16 31C24.2843 31 31 24.2843 31 16C31 7.71573 24.2843 1 16 1C7.71573 1 1 7.71573 1 16C1 24.2843 7.71573 31 16 31Z",strokeWidth:"2"}),(0,t.jsx)("path",{d:"M9 9L24 24",strokeWidth:"2",strokeLinecap:"square"}),(0,t.jsx)("path",{d:"M8.49512 23.4586L24.5049 9.54144",strokeWidth:"2",strokeLinecap:"square"})]})}),(0,t.jsx)("div",{className:"content",children:e?i:null})]}),l):(0,t.jsx)("div",{className:"modal-window_absence",children:"Node for Modal Windows was not found"})}},7826:(e,s,a)=>{a.r(s),a.d(s,{default:()=>R});var t=a(5893),n=a(4791),r=a(6113),i=a(7294),l=a(4915),c=a(7703),d=a(9590);const o=e=>({type:d.Dr.SET_SEND_DATA_STATUS_ORDER,payload:e});var u=a(5707),m=a(2886),h=a(3419),p=a(9655);var g=({remove:e,idInstance:s,lang:a})=>{const[n,r]=(0,i.useState)(!1);return(0,t.jsxs)("div",{className:"button_delete__container",onClick:()=>{r(!0)},"aria-label":"en"===a?"Delete":"Удалить",children:[(0,t.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 1000 1000",enableBackground:"new 0 0 1000 1000",children:[(0,t.jsx)("path",{d:"M262.7,101.9c0-33.8,12.1-45.9,45.9-45.9h382.8c33.8,0,45.9,12.1,45.9,45.9v23.6h45.9V71.3c0-33.8-27.4-61.3-61.3-61.3H278c-33.8,0-61.3,27.4-61.3,61.3v54.2h45.9V101.9z"}),(0,t.jsx)("path",{d:"M959.4,148.5H40.6c-16.9,0-30.6,10.3-30.6,23s13.7,23,30.6,23h918.8c16.9,0,30.6-10.3,30.6-23S976.3,148.5,959.4,148.5z"})]}),(0,t.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 1000 1000",enableBackground:"new 0 0 1000 1000",children:[(0,t.jsx)("path",{d:"M728.7,913.4c0,16.9-13.7,30.6-30.6,30.6H300c-16.9,0-30.6-13.7-30.6-30.6L192.8,239h-45.9l76.6,720.3c0,16.9,13.7,30.6,30.6,30.6h490c16.9,0,30.6-13.7,30.6-30.6L851.2,239h-45.9L728.7,913.4z"}),(0,t.jsx)("path",{d:"M366,882.8c12.7,0,23-13.7,23-30.6L343,300.9c0-16.9-10.3-30.6-23-30.6s-23,13.7-23,30.6L343,852.2C343,869.1,353.3,882.8,366,882.8z"}),(0,t.jsx)("path",{d:"M524.9,852.2V300.9c0-16.9-10.3-30.6-23-30.6c-12.7,0-23,13.7-23,30.6v551.3c0,16.9,10.3,30.6,23,30.6C514.6,882.8,524.9,869.1,524.9,852.2z"}),(0,t.jsx)("path",{d:"M660.8,852.2l45.9-551.3c0-16.9-10.3-30.6-23-30.6s-23,13.7-23,30.6l-45.9,551.3c0,16.9,10.3,30.6,23,30.6S660.8,869.1,660.8,852.2z"})]}),(0,t.jsxs)("div",{className:"confirmation__container "+(n?"active":""),children:[(0,t.jsx)("button",{onClick:a=>{a.preventDefault(),a.stopPropagation(),r(!1),e(s)},children:"en"===a?"Delete":"Удалить"}),(0,t.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),r(!1)},children:"en"===a?"Cancel":"Отмена"})]})]})},v=a(1043),x=a(1611);var f=()=>(0,t.jsxs)("div",{className:"preloader_w",children:[(0,t.jsx)("div",{className:"dash dash_1"}),(0,t.jsx)("div",{className:"dash dash_2"}),(0,t.jsx)("div",{className:"dash dash_3"}),(0,t.jsx)("div",{className:"dash dash_4"})]}),j=a(7123),b=a(4378);const _={changeItem:u.zL,saveCart:u.FP,removeItem:u.cl},E={loadColors:h.Uf},N={loadFibers:m.il},w={setProduct:v.Gr,setLoadDataStatusProduct:v.KT};var L=(0,r.$j)((e=>({cart:e.cart,lang:e.base.lang,product:e.product,colors:e.colors,fibers:e.fibers})),(e=>({setState:{cart:(0,n.DE)(_,e),colors:(0,n.DE)(E,e),fibers:(0,n.DE)(N,e),product:(0,n.DE)(w,e)}})))((({lang:e,cart:s,colors:a,fibers:n,setState:r})=>{const[c,d]=(0,i.useState)(!1),[o,u]=(0,i.useState)({visible:!1}),[m,h]=(0,i.useState)({descr:"",path:""});(0,i.useEffect)((()=>{"loading"!==s.dataLoading.status&&r.cart.saveCart(s.items)}),[s.items]);const v=e=>{r.cart.removeItem(e)};(0,i.useEffect)((()=>{"success"===a.dataLoading.status&&"success"===n.dataLoading.status&&"success"===s.dataLoading.status&&d(!0)}),[a.dataLoading.status,n.dataLoading.status,s.dataLoading.status]);const _=(e,s)=>{r.cart.changeItem({...e,amount:s})};return(0,t.jsxs)("div",{className:"cart-content",children:[c?s.items.length>0?(0,t.jsx)(t.Fragment,{children:s.items.map(((s,i)=>{const l=n.fibersList.find((e=>e.id===s.fiber))?.short.name[e],c=a.colors.find((e=>e.id===s.color));return(0,t.jsxs)("div",{className:"cart__item",children:[(0,t.jsx)(p.OL,{className:"item__product-link_img",to:`../catalog/${s.product.id}`,onClick:()=>(e=>{r.product.setLoadDataStatusProduct({status:"success",message:""}),r.product.setProduct(e)})(s.product),"aria-label":"en"===e?"Go to product":"Перейти к товару",children:(0,t.jsx)("div",{className:"img__container",children:(0,t.jsx)(j.Z,{src:s.product.imgs[0].url,alt:s.product.imgs[0].name[e]})})}),(0,t.jsxs)("div",{className:"item-descr__container",children:[(0,t.jsx)("div",{className:"item__block",children:(0,t.jsx)("span",{"aria-label":"en"===e?"Go to product page":"Перейти на страницу продукта",children:s.product.name[e]})}),s.type?(0,t.jsxs)("div",{className:"item__block",children:[(0,t.jsxs)("span",{children:["en"===e?"Type":"Модификация",":"]}),(0,t.jsx)("span",{className:"fiber",children:s.type[e]})]}):null,(0,t.jsxs)("div",{className:"item__block",children:[(0,t.jsxs)("span",{children:["en"===e?"Fiber":"Материал",":"]}),(0,t.jsx)("span",{className:"fiber",children:l})]}),(0,t.jsxs)("div",{className:"item__block",children:[(0,t.jsxs)("span",{children:["en"===e?"Color":"Цвет",":"]}),(0,t.jsxs)("div",{className:"colors__container",onClick:s=>((s,a)=>{a&&(s.stopPropagation(),h({descr:a.name[e],path:a.url}),u({visible:!0}))})(s,c),children:[(0,t.jsx)("div",{className:"color__container",children:(0,t.jsx)("img",{src:c?.url,alt:c?.name[e]})}),(0,t.jsxs)("span",{className:"color__name",children:["(",c?.name[e],")"]})]})]})]}),(0,t.jsxs)("div",{className:"item__amount-delete",children:[(0,t.jsx)("div",{className:"delete__container",children:(0,t.jsx)("div",{className:"delete__wrapper",children:(0,t.jsx)(g,{remove:v,idInstance:s,lang:e})})}),(0,t.jsx)("div",{className:"amount__container",children:(0,t.jsx)(x.Z,{idInstance:s,initialAmount:s.amount,lang:e,onChange:_})})]})]},s.id)}))}):(0,t.jsx)("h3",{className:"cart_empty__text",children:"en"===e?"Your cart is empty":"Ваша корзина пуста"}):(0,t.jsx)(f,{}),(0,t.jsx)(l.Z,{visible:o.visible,close:()=>{u({visible:!1})},escExit:!0,children:(0,t.jsx)(b.Z,{props:{path:m.path,descr:m.descr}})})]})})),$=a.p+"assets/images/icon_file_question.svg";var y=(0,i.forwardRef)((({lang:e,saveFiles:s},a)=>{(0,i.useImperativeHandle)(a,(()=>({clearAttachedFiles(){o([])}})));const n=(0,i.useRef)(null),r=(0,i.useRef)(null),l=(0,i.useRef)(null);let c=0;const[d,o]=(0,i.useState)([]),u=e=>{e.preventDefault(),e.stopPropagation()},m=e=>{u(e),c++,n.current?.classList.add("active")},h=e=>{u(e),n.current?.classList.add("active")},p=e=>{u(e),c--,0===c&&n.current?.classList.remove("active")},v=e=>{u(e),n.current?.classList.remove("active"),o((s=>[...s,...e.dataTransfer?.files]))};(0,i.useEffect)((()=>{if(n.current)return n.current.addEventListener("dragenter",m,!1),n.current.addEventListener("dragover",h,!1),n.current.addEventListener("dragleave",p,!1),n.current.addEventListener("drop",v,!1),()=>{n.current?.removeEventListener("dragenter",m,!1),n.current?.removeEventListener("dragover",h,!1),n.current?.removeEventListener("dragleave",p,!1),n.current?.removeEventListener("drop",v,!1)}})),(0,i.useEffect)((()=>{(e=>{l.current.innerHTML="";const s=["jpg","jpeg","bmp","svg","png","tiff","webp"];e.reduce((async(e,a)=>(await e,new Promise((t=>{e.then((()=>{const e=new FileReader;e.readAsDataURL(a),e.onloadend=()=>{let n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("span"),c=document.createElement("img");c.src=s.includes(a.name.split(".").pop()||"")?e.result:$,i.innerText=a.name,l.current?.appendChild(n),r.appendChild(c),n.appendChild(r),n.appendChild(i),t(`File ${a.name} added`)}}))})))),Promise.resolve("Files array is empty"))})(d),s(d)}),[d]);return(0,t.jsxs)("div",{className:"drop-area",ref:n,children:[(0,t.jsx)("svg",{width:"16",height:"25",viewBox:"0 0 16 25",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M7.31719 23.7322C7.71856 24.1116 8.35148 24.0937 8.73084 23.6924L14.9129 17.1516C15.2923 16.7502 15.2745 16.1173 14.8731 15.7379C14.4717 15.3586 13.8388 15.3764 13.4594 15.7778L7.96424 21.5918L2.15022 16.0966C1.74885 15.7172 1.11593 15.7351 0.73657 16.1365C0.357206 16.5378 0.375048 17.1707 0.776422 17.5501L7.31719 23.7322ZM6.36655 0.404461L7.00449 23.0336L9.00369 22.9773L8.36576 0.348102L6.36655 0.404461Z"})}),(0,t.jsxs)("div",{className:"link__container",children:[(0,t.jsx)("label",{htmlFor:"files",children:"en"===e?"Add files":"Выберите файлы"}),(0,t.jsx)("span",{children:"en"===e?" or drag it here":"для добавления или перетащите их сюда"})]}),(0,t.jsx)("input",{id:"files",type:"file",multiple:!0,onChange:()=>{n.current?.classList.remove("active"),o((e=>[...e,...r.current?.files]))},ref:r}),(0,t.jsx)("div",{className:"preview-gallery",ref:l}),(0,t.jsx)("div",{className:"clear-files",children:(0,t.jsx)(g,{remove:e=>{o([])},idInstance:"cartCleaner",lang:e})})]})}));const D={setName:e=>({type:d.Dr.SET_ORDER_NAME,payload:e}),setEmail:e=>({type:d.Dr.SET_ORDER_EMAIL,payload:e}),setPhone:e=>({type:d.Dr.SET_ORDER_PHONE,payload:e}),setMessage:e=>({type:d.Dr.SET_ORDER_MESSAGE,payload:e}),clearFiles:()=>({type:d.Dr.CLEAR_ORDER_FILES}),clearForm:()=>({type:d.Dr.CLEAR_ORDER_FORM}),addFiles:e=>({type:d.Dr.ADD_ORDER_FILES,payload:e}),sendOrder:({lang:e,text:s,filesArr:a,cart:t,informer:n})=>async function(t){t(o({status:"sending",message:"Sending message"})),await fetch("https://api.telegram.org/bot6231173548:AAGzgUoO-zHTG2bzAFPOp8KZxd9Iv9ddH3o/sendMessage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:"-1001849476847",text:s})}).then((s=>{s.ok||t(o({status:"error",message:"en"===e?`Error while sending a message. HTTP error, status: ${s.status}. Try again later.`:`Ошибка http при отправке сообщения, статус: ${s.status}. Пожалуйста, попробуйте позже.`}))})).then((e=>{})).catch((s=>{t(o({status:"error",message:"en"===e?`Error while sending a message: ${s.message}. Please try again later.`:`Ошибка при отправке сообщения: ${s.message}. Пожалуйста, попробуйте позже.`}))})),a.reduce((async(s,r,i)=>{await s;const l={en:"Files to send left: "+(a.length-i),ru:"Осталось отправить файлов: "+(a.length-i)};return n(l),new Promise((async(s,a)=>{const n=Date.now(),i=new FormData;i.append("chat_id","-1001849476847"),i.append("document",r,r.name);const l={method:"POST",body:i};await fetch("https://api.telegram.org/bot6231173548:AAGzgUoO-zHTG2bzAFPOp8KZxd9Iv9ddH3o/sendDocument",l).then((s=>{s.ok||(t(o({status:"error",message:"en"===e?`Error while sending files. HTTP error, status: ${s.status}. Try again later.`:`Ошибка http при отправке файлов, статус: ${s.status}. Пожалуйста, попробуйте позже.`})),a("en"===e?`Error while sending file "${r.name}": ${s.status}. Sending files has been aborted.`:`Error при отправке файла "${r.name}": ${s.status}. Отправка файлов прервана.`))})).then((e=>{const a=Date.now()-n;setTimeout((()=>{s(`File ${r.name} has been sent successfully`)}),1e3-a)})).catch((s=>{t(o({status:"error",message:"en"===e?`Your message has been sent succesfully, but the error has been occured while sending a file:, ${r.name}, error: ${s.message}`:`Ваше сообщение было успешно отправлено, но возникла ошибка при отправке файла: ${r.name}, ошибка: ${s.message}`})),a("en"===e?`Error while sending file "${r.name}": ${s.message}. Sending files has been aborted.`:`Error при отправке файла "${r.name}": ${s.message}. Отправка файлов прервана.`)}))}))}),Promise.resolve("Files sending started")).then((s=>{t(o({status:"success",message:"en"===e?`Your message ${a.length>0?"and files have":"has"} been sent`:"Ваше сообщение "+(a.length>0?"и вложения были успешно отправлены":"было успешно отправлено")}))})).catch((s=>{t(o({status:"error",message:"en"===e?`The error occur while saving files: ${s}`:`Возникла ошибка при отправке файлов: ${s}`}))}))},setSendDataStatus:o},S={loadColors:h.Uf},C={loadFibers:m.il},k={clearCart:u.LL};var R=(0,r.$j)((e=>({lang:e.base.lang,order:e.order,cart:e.cart,colors:e.colors,fibers:e.fibers})),(e=>({setState:{order:(0,n.DE)(D,e),colors:(0,n.DE)(S,e),fibers:(0,n.DE)(C,e),cart:(0,n.DE)(k,e)}})))((({lang:e,order:s,cart:a,colors:n,fibers:r,setState:d})=>{const o=(0,i.useRef)(null),u=(0,i.useRef)(null),m=(0,i.useRef)(null),h=(0,i.useRef)(null),[p,g]=(0,i.useState)({visible:!1}),v=(0,i.useRef)(null),[x,f]=(0,i.useState)({status:"",header:"",text:[]}),j=()=>{g({visible:!1}),"success"===s.dataSending.status&&(d.order.clearFiles(),d.order.clearForm(),v.current?.clearAttachedFiles(),d.cart.clearCart()),d.order.setSendDataStatus({status:"idle",message:""})},b=s=>{f({status:"",header:"en"===e?"Sending order...":"Отправка заказа...",text:[s[e]]}),g({visible:!0})};(0,i.useEffect)((()=>{"success"!==s.dataSending.status&&"error"!==s.dataSending.status||(f({status:s.dataSending.status,header:"success"===s.dataSending.status?"en"===e?"Success":"Отправлено":"en"===e?"Error":"Ошибка",text:[s.dataSending.message]}),g({visible:!0}))}),[s.dataSending.status]);const _=({e,target:s})=>{"Enter"===e.key&&(e.preventDefault(),s?.focus())},E=e=>{switch(e.target.id){case"name":d.order.setName(e.target.value);break;case"phone":d.order.setPhone(e.target.value);break;case"email":d.order.setEmail(e.target.value);break;case"message":d.order.setMessage(e.target.value)}(e=>{e.target.parentElement?.classList.remove("error")})(e)};return(0,t.jsxs)("div",{className:"page_order",children:[(0,t.jsx)("div",{className:"container_page",children:(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("div",{className:"page_order",children:[(0,t.jsx)("h1",{children:"en"===e?"Order 3D printing":"Заказать 3D печать"}),(0,t.jsx)("div",{className:"order__block",children:(0,t.jsxs)("form",{className:"order__container",children:[(0,t.jsx)("h2",{children:"en"===e?"Make an order":"Отправить заявку"}),(0,t.jsxs)("div",{className:"data-block",children:[(0,t.jsxs)("div",{className:"inputs-block",children:[(0,t.jsxs)("div",{className:"input-block",children:[(0,t.jsx)("label",{htmlFor:"name",children:"en"===e?"Your name*":"Ваше имя*"}),(0,t.jsx)("input",{className:"input-element",id:"name",type:"text",required:!0,min:2,max:25,ref:o,value:s.name,onChange:E,onKeyDown:e=>_({e,target:m.current})})]}),(0,t.jsxs)("div",{className:"input-block",children:[(0,t.jsx)("label",{htmlFor:"phone",children:"en"===e?"Your phone":"Ваш телефон"}),(0,t.jsx)("input",{className:"input-element",id:"phone",type:"tel",min:6,max:25,ref:m,value:s.phone,onChange:E,onKeyDown:e=>_({e,target:u.current})})]}),(0,t.jsxs)("div",{className:"input-block",children:[(0,t.jsx)("label",{htmlFor:"email",children:"en"===e?"Your email*":"Ваше почта*"}),(0,t.jsx)("input",{className:"input-element",id:"email",type:"email",required:!0,value:s.email,ref:u,onChange:E,onKeyDown:e=>_({e,target:h.current})})]}),(0,t.jsxs)("div",{className:"input-block message-block",children:[(0,t.jsx)("label",{htmlFor:"message",children:"en"===e?"Information about the order (at least 10 symbols)*":"Информация о заказе (минимум 10 символов)*"}),(0,t.jsx)("textarea",{className:"input-element",id:"message",required:!0,minLength:10,maxLength:1e3,ref:h,value:s.message,onChange:E})]})]}),(0,t.jsx)("div",{className:"files-block",children:(0,t.jsxs)("div",{className:"input-block files",children:[(0,t.jsx)("label",{htmlFor:"files",children:"en"===e?"Attach files":"Прикрепить файлы"}),(0,t.jsx)(y,{saveFiles:e=>{d.order.clearFiles(),d.order.addFiles(e)},lang:e,ref:v})]})})]}),(0,t.jsxs)("div",{className:"cart-content__container",children:[(0,t.jsx)("h3",{children:"en"===e?"Your cart":"Ваша корзина"}),(0,t.jsx)(L,{})]}),(0,t.jsx)("button",{type:"submit",disabled:"success"!==a.dataLoading.status&&"success"!==r.dataLoading.status&&"success"!==n.dataLoading.status&&"sending"!==s.dataSending.status,className:"button_order",onClick:t=>{(e=>{e.preventDefault(),e.stopPropagation()})(t);const i=new Date,l=s.name,c=s.phone,p=s.email,v=s.message;if((()=>{const s=[{ref:o,name:{en:"Your name",ru:"Ваше имя"}},{ref:u,name:{en:"Your email",ru:"Ваша почта"}},{ref:m,name:{en:"Your phone",ru:"Ваш телефон"}},{ref:h,name:{en:"Information about the order",ru:"Информация о заказе"}}];let a=!1;return f((s=>({status:"error",header:"en"===e?"Errors found":"Обнаружены ошибки",text:[]}))),s.forEach((s=>{s.ref.current?.checkValidity()||(f((a=>({...a,text:a.text.concat("en"===e?`Field "${s.name[e]}" is incorrect`:`Поле "${s.name[e]}" заполнено неверно`)}))),s.ref.current?.parentElement?.classList.add("error"),a=!0)})),a})())return void g({visible:!0});const x=a.items.reduce(((s,a,t)=>s+`${t+1}) ${a.product.name[e]}\n${"en"===e?"Options":"Версия"}: ${a.type} \n${"en"===e?"Fiber":"Материал"}: ${r.fibersList.find((e=>e.id===a.fiber))?.short.name[e]}\n${"en"===e?"Color":"Цвет"}: ${n.colors.find((e=>e.id===a.color))?.name[e]}\n${"en"===e?"Amount":"Количество"}: ${a.amount}\n\n`),""),j=`\n${"en"===e?"Date":"Дата"}: ${i.toISOString().slice(0,10)}\n${"en"===e?"Time":"Время"}: ${i.toISOString().slice(11,19)}\n${"en"===e?"Name":"Имя"}: ${l}\n${"en"===e?"Email":"Почта"}: ${p}\n${"en"===e?"Phone":"Телефон"}: ${c}\n${"en"===e?"Message":"Сообщение"}: ${v}`,_=`${"en"===e?"New order":"Новый заказ"}:${j}\n\n\n ${"en"===e?"Cart content":"Содержимое корзины"}: \n${x}${s.files.length>0?"en"===e?"\n\n\nAttached files:":"\n\n\nПрикрепленные файлы:":""}`;d.order.sendOrder({lang:e,text:_,filesArr:s.files,cart:a,informer:b})},children:"en"===e?"Order":"Отправить"})]})})]})})}),(0,t.jsx)(l.Z,{visible:p.visible,close:j,escExit:!0,children:(0,t.jsx)(c.Z,{status:x.status,header:x.header,text:x.text,buttonText:"en"===e?"Close":"Закрыть",buttonAction:j})})]})}))},1043:(e,s,a)=>{a.d(s,{Gr:()=>i,KT:()=>r,LX:()=>l});var t=a(9590),n=a(7820);const r=e=>({type:t.EH.SET_LOAD_DATA_STATUS_PRODUCT,payload:e}),i=e=>({type:t.EH.SET_DATA_PRODUCT,payload:e}),l=e=>async function(s){s(r({status:"loading",message:`Loading product ${e}`}));try{new Promise(((s,a)=>{setTimeout((()=>{const t=n.Z.find((s=>s.id===e));t?s(t):a({mesasage:`product ${e} not found`})}),1e3)})).then((a=>{s(i(a)),s(r({status:"success",message:`Product id=${e} loaded`}))})).catch((a=>{s(r({status:"error",message:`ERROR while loading product id=${e}: ${a}`}))}))}catch(a){s(r({status:"error",message:`ERROR while loading product id=${e}: ${a}`}))}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUssSUFDVGdLLE1BQU1xQyxJQUNMbkcsRUFBU1AsRUFBVzBHLElBQ3BCbkcsRUFBU3lCLEVBQXlCLENBQUUvRSxPQUFRLFVBQVdnRixRQUFTLGNBQWM1SCxhQUFlLElBQzlGc00sT0FBTUMsSUFDTHJHLEVBQVN5QixFQUF5QixDQUFFL0UsT0FBUSxRQUFTZ0YsUUFBUyxrQ0FBa0M1SCxNQUFPdU0sTUFBUyxHQUV4SCxDQUNBLE1BQU8vSyxHQUNIMEUsRUFBU3lCLEVBQXlCLENBQUUvRSxPQUFRLFFBQVNnRixRQUFTLGtDQUFrQzVILE1BQU93QixNQUMzRyxDQUNKLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2pzL0ltZ1dpdGhQcmVsb2FkZXIudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0Ftb3VudENoYW5nZXIvQW1vdW50Q2hhbmdlci50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvTWVzc2FnZUltYWdlL01lc3NhZ2VJbWFnZS50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvTWVzc2FnZUluZm8vTWVzc2FnZUluZm8udHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL01vZGFsL01vZGFsLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvcmVkdXgvYWN0aW9ucy9vcmRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9EZWxldGUvRGVsZXRlLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9QcmVsb2FkZXJzL1ByZWxvYWRlclcudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0NhcnRDb250ZW50L0NhcnRDb250ZW50LnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9BZGRGaWxlcy9BZGRGaWxlcy50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL09yZGVyL09yZGVyLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvcmVkdXgvYWN0aW9ucy9wcm9kdWN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpzeCBhcyBfanN4LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcclxuaW1wb3J0IHsgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgUHJlbG9hZGVyIGZyb20gXCIuLi8uLi9jb21wb25lbnRzL1ByZWxvYWRlcnMvUHJlbG9hZGVyXCI7XHJcbmNvbnN0IEltZ1dpdGhQcmVsb2FkZXIgPSAoeyBzcmMsIGFsdCwgaWQgfSkgPT4ge1xyXG4gICAgY29uc3QgW2xvYWRlZCwgc2V0TG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICAgIGNvbnN0IGltZyA9IHVzZVJlZihudWxsKTtcclxuICAgIGNvbnN0IGhhc0xvYWRlZCA9ICgpID0+IHtcclxuICAgICAgICBzZXRMb2FkZWQodHJ1ZSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIChfanN4cyhfRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtsb2FkZWQgfHwgX2pzeChQcmVsb2FkZXIsIHt9KSwgX2pzeChcImltZ1wiLCB7IHJlZjogaW1nLCBzcmM6IHNyYywgYWx0OiBhbHQsIG9uTG9hZDogaGFzTG9hZGVkLCBzdHlsZTogeyBkaXNwbGF5OiBsb2FkZWQgPyBcImJsb2NrXCIgOiBcIm5vbmVcIiB9LCBpZDogaWQgfSldIH0pKTtcclxufTtcclxuZXhwb3J0IGRlZmF1bHQgSW1nV2l0aFByZWxvYWRlcjtcclxuIiwiaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcclxuaW1wb3J0ICcuL2Ftb3VudC1jaGFuZ2VyLnNjc3MnO1xyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XHJcbmNvbnN0IEFtb3VudENoYW5nZXIgPSAoeyBpZEluc3RhbmNlLCBvbkNoYW5nZSwgaW5pdGlhbEFtb3VudCwgbGFuZywgcmVzZXQgfSkgPT4ge1xyXG4gICAgY29uc3QgW2Ftb3VudCwgc2V0QW1vdW50XSA9IHVzZVN0YXRlKGluaXRpYWxBbW91bnQpO1xyXG4gICAgY29uc3QgY2hhbmdlQW1vdW50ID0gKG5ld0Ftb3VudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGFtb3VudFRvU2V0ID0gbmV3QW1vdW50ID49IDAgPyBuZXdBbW91bnQgOiAwO1xyXG4gICAgICAgIHNldEFtb3VudChhbW91bnRUb1NldCk7XHJcbiAgICAgICAgb25DaGFuZ2UoaWRJbnN0YW5jZSwgYW1vdW50VG9TZXQpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IG9uRm9jdXNPdXQgPSAobmV3QW1vdW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgYW1vdW50VG9TZXQgPSBuZXdBbW91bnQgPiAwID8gbmV3QW1vdW50IDogMTtcclxuICAgICAgICBzZXRBbW91bnQoYW1vdW50VG9TZXQpO1xyXG4gICAgICAgIG9uQ2hhbmdlKGlkSW5zdGFuY2UsIGFtb3VudFRvU2V0KTtcclxuICAgIH07XHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGlmIChyZXNldCkge1xyXG4gICAgICAgICAgICBzZXRBbW91bnQocmVzZXQuYW1vdW50KTtcclxuICAgICAgICAgICAgb25DaGFuZ2UoaWRJbnN0YW5jZSwgcmVzZXQuYW1vdW50KTtcclxuICAgICAgICB9XHJcbiAgICB9LCBbcmVzZXRdKTtcclxuICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYW1vdW50X19jaGFuZ2VyXCIsIGNoaWxkcmVuOiBbX2pzeChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogYW1vdW50IDw9IDEgPyBcImRpc2FibGVkXCIgOiAnJywgXCJhcmlhLWxhYmVsXCI6ICdEZWNyZWFzZSBhbW91bnQnLCBvbkNsaWNrOiAoZSkgPT4geyBlLnByZXZlbnREZWZhdWx0KCk7IGFtb3VudCA+IDEgJiYgY2hhbmdlQW1vdW50KGFtb3VudCA+IDIgPyBhbW91bnQgLSAxIDogMSk7IH0sIGNoaWxkcmVuOiBcIlxcdTIwMTNcIiB9KSwgX2pzeChcImlucHV0XCIsIHsgb25CbHVyOiAoZSkgPT4gb25Gb2N1c091dChOdW1iZXIoZS50YXJnZXQudmFsdWUpKSwgdHlwZTogXCJ0ZXh0XCIsIHZhbHVlOiBhbW91bnQsIG9uQ2hhbmdlOiAoZSkgPT4geyBlLnByZXZlbnREZWZhdWx0KCk7IGNoYW5nZUFtb3VudChOdW1iZXIoZS50YXJnZXQudmFsdWUpKTsgfSwgXCJhcmlhLWxhYmVsXCI6IGxhbmcgPT09ICdlbicgPyBcIkVudGVyIGFtb3VudFwiIDogJ9CS0LLQtdC00LjRgtC1INC60L7Qu9C40YfQtdGB0YLQstC+JyB9KSwgX2pzeChcImJ1dHRvblwiLCB7IFwiYXJpYS1sYWJlbFwiOiAnSW5jcmVhc2UgYW1vdW50Jywgb25DbGljazogKGUpID0+IHsgZS5wcmV2ZW50RGVmYXVsdCgpOyBjaGFuZ2VBbW91bnQoYW1vdW50ICsgMSk7IH0sIGNoaWxkcmVuOiBcIitcIiB9KV0gfSkpO1xyXG59O1xyXG5leHBvcnQgZGVmYXVsdCBBbW91bnRDaGFuZ2VyO1xyXG4iLCJpbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xyXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBcIi4vbWVzc2FnZV9pbWFnZS5zY3NzXCI7XHJcbmltcG9ydCBQcmVsb2FkZXIgZnJvbSAnLi4vUHJlbG9hZGVycy9QcmVsb2FkZXInO1xyXG5jb25zdCBNb2RhbEltYWdlID0gKHsgcHJvcHMgfSkgPT4ge1xyXG4gICAgY29uc3QgW2xvYWRlZCwgc2V0TG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICAgIGNvbnN0IF9jb250YWluZXIgPSB1c2VSZWYobnVsbCk7XHJcbiAgICBjb25zdCBzZXRTdGF0dXNMb2FkZWQgPSAoKSA9PiB7XHJcbiAgICAgICAgc2V0TG9hZGVkKHRydWUpO1xyXG4gICAgfTtcclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgX2ltZyA9IG5ldyBJbWFnZTtcclxuICAgICAgICBfaW1nLnNyYyA9IHByb3BzLnBhdGg7XHJcbiAgICAgICAgX2NvbnRhaW5lci5jdXJyZW50Py5hcHBlbmRDaGlsZChfaW1nKTtcclxuICAgICAgICBfaW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBzZXRTdGF0dXNMb2FkZWQpO1xyXG4gICAgICAgIHNldExvYWRlZChmYWxzZSk7XHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgX2ltZy5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgc2V0U3RhdHVzTG9hZGVkKTtcclxuICAgICAgICAgICAgX2NvbnRhaW5lci5jdXJyZW50Py5yZW1vdmVDaGlsZChfaW1nKTtcclxuICAgICAgICB9O1xyXG4gICAgfSwgW3Byb3BzLnBhdGhdKTtcclxuICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibWVzc2FnZV9pbWFnZV9fY29udGFpbmVyXCIsIGNoaWxkcmVuOiBbX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJpbWdfX3dyYXBwZXJcIiwgcmVmOiBfY29udGFpbmVyLCBjaGlsZHJlbjogIWxvYWRlZCAmJiBfanN4KFByZWxvYWRlciwge30pIH0pLCBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImRlc2NyX19jb250YWluZXJcIiwgY2hpbGRyZW46IF9qc3goXCJzcGFuXCIsIHsgY2hpbGRyZW46IHByb3BzLmRlc2NyIH0pIH0pXSB9KSk7XHJcbn07XHJcbmV4cG9ydCBkZWZhdWx0IE1vZGFsSW1hZ2U7XHJcbiIsImltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XHJcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFwiLi9tZXNzYWdlX2luZm8uc2Nzc1wiO1xyXG5jb25zdCBNZXNzYWdlSW5mbyA9ICh7IHN0YXR1cywgaGVhZGVyLCB0ZXh0LCBidXR0b25UZXh0LCBidXR0b25BY3Rpb24gfSkgPT4ge1xyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIH0sIFtdKTtcclxuICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGBtZXNzYWdlX2luZm9fX2NvbnRhaW5lciAke3N0YXR1c31gLCBjaGlsZHJlbjogW19qc3goXCJoM1wiLCB7IGNoaWxkcmVuOiBoZWFkZXIgfSksIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwidGV4dC1ibG9ja1wiLCBjaGlsZHJlbjogdGV4dC5tYXAoKGN1cnJlbnRUZXh0LCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfanN4KFwicFwiLCB7IGNoaWxkcmVuOiBjdXJyZW50VGV4dCB9LCBpbmRleCk7XHJcbiAgICAgICAgICAgICAgICB9KSB9KSwgX2pzeChcImJ1dHRvblwiLCB7IG9uQ2xpY2s6IGJ1dHRvbkFjdGlvbiwgY2hpbGRyZW46IGJ1dHRvblRleHQgfSldIH0pKTtcclxufTtcclxuZXhwb3J0IGRlZmF1bHQgTWVzc2FnZUluZm87XHJcbiIsImltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XHJcbmltcG9ydCAnLi9tb2RhbC5zY3NzJztcclxuaW1wb3J0IHsgY3JlYXRlUG9ydGFsIH0gZnJvbSAncmVhY3QtZG9tJztcclxuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG5jb25zdCBNb2RhbCA9ICh7IHZpc2libGUsIGVzY0V4aXQsIGNsb3NlLCBjaGlsZHJlbiB9KSA9PiB7XHJcbiAgICBjb25zdCBfbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWwnKTtcclxuICAgIGNvbnN0IG1vZGFsS2V5TGlzdGVuZXIgPSAoZSkgPT4ge1xyXG4gICAgICAgIGVzY0V4aXQgJiYgZS5rZXlDb2RlID09PSAyNyAmJiBjbG9zZSgpO1xyXG4gICAgfTtcclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIG1vZGFsS2V5TGlzdGVuZXIpO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBtb2RhbEtleUxpc3RlbmVyKTtcclxuICAgICAgICB9O1xyXG4gICAgfSwgW10pO1xyXG4gICAgcmV0dXJuIF9tb2RhbCA/IGNyZWF0ZVBvcnRhbChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogdmlzaWJsZSA/IFwibW9kYWwtd2luZG93IHZpc2libGVcIiA6IFwibW9kYWwtd2luZG93XCIsIGNoaWxkcmVuOiBbX2pzeChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogXCJjbG9zZXJcIiwgXCJhcmlhLWxhYmVsXCI6ICdjbG9zZSB8IFxcdTA0MzdcXHUwNDMwXFx1MDQzQVxcdTA0NDBcXHUwNDRCXFx1MDQ0MlxcdTA0NEMnLCBvbkNsaWNrOiBjbG9zZSwgY2hpbGRyZW46IF9qc3hzKFwic3ZnXCIsIHsgd2lkdGg6IFwiMzJcIiwgaGVpZ2h0OiBcIjMyXCIsIHZpZXdCb3g6IFwiMCAwIDMyIDMyXCIsIGZpbGw6IFwibm9uZVwiLCB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBjaGlsZHJlbjogW19qc3goXCJwYXRoXCIsIHsgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLCBzdHJva2U6IFwiIzk3OTc5N1wiLCBjbGlwUnVsZTogXCJldmVub2RkXCIsIGQ6IFwiTTE2IDMxQzI0LjI4NDMgMzEgMzEgMjQuMjg0MyAzMSAxNkMzMSA3LjcxNTczIDI0LjI4NDMgMSAxNiAxQzcuNzE1NzMgMSAxIDcuNzE1NzMgMSAxNkMxIDI0LjI4NDMgNy43MTU3MyAzMSAxNiAzMVpcIiwgc3Ryb2tlV2lkdGg6IFwiMlwiIH0pLCBfanN4KFwicGF0aFwiLCB7IGQ6IFwiTTkgOUwyNCAyNFwiLCBzdHJva2VXaWR0aDogXCIyXCIsIHN0cm9rZUxpbmVjYXA6IFwic3F1YXJlXCIgfSksIF9qc3goXCJwYXRoXCIsIHsgZDogXCJNOC40OTUxMiAyMy40NTg2TDI0LjUwNDkgOS41NDE0NFwiLCBzdHJva2VXaWR0aDogXCIyXCIsIHN0cm9rZUxpbmVjYXA6IFwic3F1YXJlXCIgfSldIH0pIH0pLCBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNvbnRlbnRcIiwgY2hpbGRyZW46IHZpc2libGUgPyBjaGlsZHJlbiA6IG51bGwgfSldIH0pLCBfbW9kYWwpXHJcbiAgICAgICAgOlxyXG4gICAgICAgICAgICBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm1vZGFsLXdpbmRvd19hYnNlbmNlXCIsIGNoaWxkcmVuOiBcIk5vZGUgZm9yIE1vZGFsIFdpbmRvd3Mgd2FzIG5vdCBmb3VuZFwiIH0pO1xyXG59O1xyXG5leHBvcnQgZGVmYXVsdCBNb2RhbDtcclxuIiwiaW1wb3J0IHsgYWN0aW9uc0xpc3RPcmRlciB9IGZyb20gJy4vYWN0aW9uc0xpc3QnO1xyXG5leHBvcnQgY29uc3Qgc2V0TmFtZSA9IChwYXlsb2FkKSA9PiAoe1xyXG4gICAgdHlwZTogYWN0aW9uc0xpc3RPcmRlci5TRVRfT1JERVJfTkFNRSxcclxuICAgIHBheWxvYWRcclxufSk7XHJcbmV4cG9ydCBjb25zdCBzZXRQaG9uZSA9IChwYXlsb2FkKSA9PiAoe1xyXG4gICAgdHlwZTogYWN0aW9uc0xpc3RPcmRlci5TRVRfT1JERVJfUEhPTkUsXHJcbiAgICBwYXlsb2FkXHJcbn0pO1xyXG5leHBvcnQgY29uc3Qgc2V0RW1haWwgPSAocGF5bG9hZCkgPT4gKHtcclxuICAgIHR5cGU6IGFjdGlvbnNMaXN0T3JkZXIuU0VUX09SREVSX0VNQUlMLFxyXG4gICAgcGF5bG9hZFxyXG59KTtcclxuZXhwb3J0IGNvbnN0IHNldE1lc3NhZ2UgPSAocGF5bG9hZCkgPT4gKHtcclxuICAgIHR5cGU6IGFjdGlvbnNMaXN0T3JkZXIuU0VUX09SREVSX01FU1NBR0UsXHJcbiAgICBwYXlsb2FkXHJcbn0pO1xyXG5leHBvcnQgY29uc3QgY2xlYXJGaWxlcyA9ICgpID0+ICh7XHJcbiAgICB0eXBlOiBhY3Rpb25zTGlzdE9yZGVyLkNMRUFSX09SREVSX0ZJTEVTLFxyXG59KTtcclxuZXhwb3J0IGNvbnN0IGNsZWFyRm9ybSA9ICgpID0+ICh7XHJcbiAgICB0eXBlOiBhY3Rpb25zTGlzdE9yZGVyLkNMRUFSX09SREVSX0ZPUk0sXHJcbn0pO1xyXG5leHBvcnQgY29uc3QgYWRkRmlsZXMgPSAocGF5bG9hZCkgPT4gKHtcclxuICAgIHR5cGU6IGFjdGlvbnNMaXN0T3JkZXIuQUREX09SREVSX0ZJTEVTLFxyXG4gICAgcGF5bG9hZFxyXG59KTtcclxuZXhwb3J0IGNvbnN0IHNldFNlbmREYXRhU3RhdHVzID0gKHBheWxvYWQpID0+ICh7XHJcbiAgICB0eXBlOiBhY3Rpb25zTGlzdE9yZGVyLlNFVF9TRU5EX0RBVEFfU1RBVFVTX09SREVSLFxyXG4gICAgcGF5bG9hZFxyXG59KTtcclxuY29uc3QgbWluVGltZUJldHdlZW5TZW5kaW5ncyA9IDEwMDA7IC8vaW4gbXNcclxuZXhwb3J0IGNvbnN0IHNlbmRPcmRlciA9ICh7IGxhbmcsIHRleHQsIGZpbGVzQXJyLCBjYXJ0LCBpbmZvcm1lciB9KSA9PiB7XHJcbiAgICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gKGRpc3BhdGNoKSB7XHJcbiAgICAgICAgY29uc3QgdXJsTWVzc2FnZSA9IGBodHRwczovL2FwaS50ZWxlZ3JhbS5vcmcvYm90JHtwcm9jZXNzLmVudi5SRUFDVF9BUFBfVEdfVE9LfS9zZW5kTWVzc2FnZWA7XHJcbiAgICAgICAgY29uc3QgdXJsRG9jdW1lbnQgPSBgaHR0cHM6Ly9hcGkudGVsZWdyYW0ub3JnL2JvdCR7cHJvY2Vzcy5lbnYuUkVBQ1RfQVBQX1RHX1RPS30vc2VuZERvY3VtZW50YDtcclxuICAgICAgICBkaXNwYXRjaChzZXRTZW5kRGF0YVN0YXR1cyh7IHN0YXR1czogJ3NlbmRpbmcnLCBtZXNzYWdlOiBgU2VuZGluZyBtZXNzYWdlYCB9KSk7XHJcbiAgICAgICAgYXdhaXQgZmV0Y2godXJsTWVzc2FnZSwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBjaGF0X2lkOiBwcm9jZXNzLmVudi5SRUFDVF9BUFBfQ0hUX0lELFxyXG4gICAgICAgICAgICAgICAgdGV4dFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICAgIGlmICghcmVzLm9rKSB7XHJcbiAgICAgICAgICAgICAgICBkaXNwYXRjaChzZXRTZW5kRGF0YVN0YXR1cyh7IHN0YXR1czogJ2Vycm9yJywgbWVzc2FnZTogbGFuZyA9PT0gJ2VuJyA/IGBFcnJvciB3aGlsZSBzZW5kaW5nIGEgbWVzc2FnZS4gSFRUUCBlcnJvciwgc3RhdHVzOiAke3Jlcy5zdGF0dXN9LiBUcnkgYWdhaW4gbGF0ZXIuYCA6IGDQntGI0LjQsdC60LAgaHR0cCDQv9GA0Lgg0L7RgtC/0YDQsNCy0LrQtSDRgdC+0L7QsdGJ0LXQvdC40Y8sINGB0YLQsNGC0YPRgTogJHtyZXMuc3RhdHVzfS4g0J/QvtC20LDQu9GD0LnRgdGC0LAsINC/0L7Qv9GA0L7QsdGD0LnRgtC1INC/0L7Qt9C20LUuYCB9KSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihkYXRhID0+IHsgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgIGRpc3BhdGNoKHNldFNlbmREYXRhU3RhdHVzKHsgc3RhdHVzOiAnZXJyb3InLCBtZXNzYWdlOiBsYW5nID09PSAnZW4nID8gYEVycm9yIHdoaWxlIHNlbmRpbmcgYSBtZXNzYWdlOiAke2Vyci5tZXNzYWdlfS4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5gIDogYNCe0YjQuNCx0LrQsCDQv9GA0Lgg0L7RgtC/0YDQsNCy0LrQtSDRgdC+0L7QsdGJ0LXQvdC40Y86ICR7ZXJyLm1lc3NhZ2V9LiDQn9C+0LbQsNC70YPQudGB0YLQsCwg0L/QvtC/0YDQvtCx0YPQudGC0LUg0L/QvtC30LbQtS5gIH0pKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGZpbGVzQXJyLnJlZHVjZShhc3luYyAoYWNjLCBmaWxlLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGF3YWl0IGFjYztcclxuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IHtcclxuICAgICAgICAgICAgICAgIGVuOiBgRmlsZXMgdG8gc2VuZCBsZWZ0OiAke2ZpbGVzQXJyLmxlbmd0aCAtIGl9YCxcclxuICAgICAgICAgICAgICAgIHJ1OiBg0J7RgdGC0LDQu9C+0YHRjCDQvtGC0L/RgNCw0LLQuNGC0Ywg0YTQsNC50LvQvtCyOiAke2ZpbGVzQXJyLmxlbmd0aCAtIGl9YFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpbmZvcm1lcihtZXNzYWdlKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXMsIHJlaikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZVN0YXJ0ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2NoYXRfaWQnLCBwcm9jZXNzLmVudi5SRUFDVF9BUFBfQ0hUX0lEIHx8ICcnKTtcclxuICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZG9jdW1lbnQnLCBmaWxlLCBmaWxlLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHsgbWV0aG9kOiAnUE9TVCcsIGJvZHk6IGZvcm1EYXRhIH07XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBmZXRjaCh1cmxEb2N1bWVudCwgb3B0aW9ucylcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVzLm9rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKHNldFNlbmREYXRhU3RhdHVzKHsgc3RhdHVzOiAnZXJyb3InLCBtZXNzYWdlOiBsYW5nID09PSAnZW4nID8gYEVycm9yIHdoaWxlIHNlbmRpbmcgZmlsZXMuIEhUVFAgZXJyb3IsIHN0YXR1czogJHtyZXMuc3RhdHVzfS4gVHJ5IGFnYWluIGxhdGVyLmAgOiBg0J7RiNC40LHQutCwIGh0dHAg0L/RgNC4INC+0YLQv9GA0LDQstC60LUg0YTQsNC50LvQvtCyLCDRgdGC0LDRgtGD0YE6ICR7cmVzLnN0YXR1c30uINCf0L7QttCw0LvRg9C50YHRgtCwLCDQv9C+0L/RgNC+0LHRg9C50YLQtSDQv9C+0LfQttC1LmAgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWoobGFuZyA9PT0gJ2VuJyA/IGBFcnJvciB3aGlsZSBzZW5kaW5nIGZpbGUgXCIke2ZpbGUubmFtZX1cIjogJHtyZXMuc3RhdHVzfS4gU2VuZGluZyBmaWxlcyBoYXMgYmVlbiBhYm9ydGVkLmAgOiBgRXJyb3Ig0L/RgNC4INC+0YLQv9GA0LDQstC60LUg0YTQsNC50LvQsCBcIiR7ZmlsZS5uYW1lfVwiOiAke3Jlcy5zdGF0dXN9LiDQntGC0L/RgNCw0LLQutCwINGE0LDQudC70L7QsiDQv9GA0LXRgNCy0LDQvdCwLmApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhbnNpdGlvblNlbmRpbmcgPSBEYXRlLm5vdygpIC0gdGltZVN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMoYEZpbGUgJHtmaWxlLm5hbWV9IGhhcyBiZWVuIHNlbnQgc3VjY2Vzc2Z1bGx5YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgbWluVGltZUJldHdlZW5TZW5kaW5ncyAtIHRyYW5zaXRpb25TZW5kaW5nKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChzZXRTZW5kRGF0YVN0YXR1cyh7IHN0YXR1czogJ2Vycm9yJywgbWVzc2FnZTogbGFuZyA9PT0gJ2VuJyA/IGBZb3VyIG1lc3NhZ2UgaGFzIGJlZW4gc2VudCBzdWNjZXNmdWxseSwgYnV0IHRoZSBlcnJvciBoYXMgYmVlbiBvY2N1cmVkIHdoaWxlIHNlbmRpbmcgYSBmaWxlOiwgJHtmaWxlLm5hbWV9LCBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWAgOiBg0JLQsNGI0LUg0YHQvtC+0LHRidC10L3QuNC1INCx0YvQu9C+INGD0YHQv9C10YjQvdC+INC+0YLQv9GA0LDQstC70LXQvdC+LCDQvdC+INCy0L7Qt9C90LjQutC70LAg0L7RiNC40LHQutCwINC/0YDQuCDQvtGC0L/RgNCw0LLQutC1INGE0LDQudC70LA6ICR7ZmlsZS5uYW1lfSwg0L7RiNC40LHQutCwOiAke2Vycm9yLm1lc3NhZ2V9YCB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqKGxhbmcgPT09ICdlbicgPyBgRXJyb3Igd2hpbGUgc2VuZGluZyBmaWxlIFwiJHtmaWxlLm5hbWV9XCI6ICR7ZXJyb3IubWVzc2FnZX0uIFNlbmRpbmcgZmlsZXMgaGFzIGJlZW4gYWJvcnRlZC5gIDogYEVycm9yINC/0YDQuCDQvtGC0L/RgNCw0LLQutC1INGE0LDQudC70LAgXCIke2ZpbGUubmFtZX1cIjogJHtlcnJvci5tZXNzYWdlfS4g0J7RgtC/0YDQsNCy0LrQsCDRhNCw0LnQu9C+0LIg0L/RgNC10YDQstCw0L3QsC5gKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LCBQcm9taXNlLnJlc29sdmUoJ0ZpbGVzIHNlbmRpbmcgc3RhcnRlZCcpKVxyXG4gICAgICAgICAgICAudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgZGlzcGF0Y2goc2V0U2VuZERhdGFTdGF0dXMoeyBzdGF0dXM6ICdzdWNjZXNzJywgbWVzc2FnZTogbGFuZyA9PT0gJ2VuJyA/IGBZb3VyIG1lc3NhZ2UgJHtmaWxlc0Fyci5sZW5ndGggPiAwID8gXCJhbmQgZmlsZXMgaGF2ZVwiIDogXCJoYXNcIn0gYmVlbiBzZW50YCA6IGDQktCw0YjQtSDRgdC+0L7QsdGJ0LXQvdC40LUgJHtmaWxlc0Fyci5sZW5ndGggPiAwID8gXCLQuCDQstC70L7QttC10L3QuNGPINCx0YvQu9C4INGD0YHQv9C10YjQvdC+INC+0YLQv9GA0LDQstC70LXQvdGLXCIgOiBcItCx0YvQu9C+INGD0YHQv9C10YjQvdC+INC+0YLQv9GA0LDQstC70LXQvdC+XCJ9YCwgfSkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICBkaXNwYXRjaChzZXRTZW5kRGF0YVN0YXR1cyh7IHN0YXR1czogJ2Vycm9yJywgbWVzc2FnZTogbGFuZyA9PT0gJ2VuJyA/IGBUaGUgZXJyb3Igb2NjdXIgd2hpbGUgc2F2aW5nIGZpbGVzOiAke2Vycn1gIDogYNCS0L7Qt9C90LjQutC70LAg0L7RiNC40LHQutCwINC/0YDQuCDQvtGC0L/RgNCw0LLQutC1INGE0LDQudC70L7QsjogJHtlcnJ9YCB9KSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG59O1xyXG4iLCJpbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xyXG5pbXBvcnQgJy4vZGVsZXRlLnNjc3MnO1xyXG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuY29uc3QgRGVsZXRlID0gKHsgcmVtb3ZlLCBpZEluc3RhbmNlLCBsYW5nIH0pID0+IHtcclxuICAgIGNvbnN0IFtjb25maXJtYXRpb24sIHNldENvbmZpcm1hdGlvbl0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgICBjb25zdCBvbkNhbmNlbCA9ICgpID0+IHtcclxuICAgICAgICBzZXRDb25maXJtYXRpb24oZmFsc2UpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IG9uQ29uZmlybSA9ICgpID0+IHtcclxuICAgICAgICBzZXRDb25maXJtYXRpb24oZmFsc2UpO1xyXG4gICAgICAgIHJlbW92ZShpZEluc3RhbmNlKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBvbkRlbGV0ZSA9ICgpID0+IHtcclxuICAgICAgICBzZXRDb25maXJtYXRpb24odHJ1ZSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJidXR0b25fZGVsZXRlX19jb250YWluZXJcIiwgb25DbGljazogb25EZWxldGUsIFwiYXJpYS1sYWJlbFwiOiBsYW5nID09PSAnZW4nID8gXCJEZWxldGVcIiA6ICfQo9C00LDQu9C40YLRjCcsIGNoaWxkcmVuOiBbX2pzeHMoXCJzdmdcIiwgeyB2ZXJzaW9uOiBcIjEuMVwiLCB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB4OiBcIjBweFwiLCB5OiBcIjBweFwiLCB2aWV3Qm94OiBcIjAgMCAxMDAwIDEwMDBcIiwgZW5hYmxlQmFja2dyb3VuZDogXCJuZXcgMCAwIDEwMDAgMTAwMFwiLCBjaGlsZHJlbjogW19qc3goXCJwYXRoXCIsIHsgZDogXCJNMjYyLjcsMTAxLjljMC0zMy44LDEyLjEtNDUuOSw0NS45LTQ1LjloMzgyLjhjMzMuOCwwLDQ1LjksMTIuMSw0NS45LDQ1Ljl2MjMuNmg0NS45VjcxLjNjMC0zMy44LTI3LjQtNjEuMy02MS4zLTYxLjNIMjc4Yy0zMy44LDAtNjEuMywyNy40LTYxLjMsNjEuM3Y1NC4yaDQ1LjlWMTAxLjl6XCIgfSksIF9qc3goXCJwYXRoXCIsIHsgZDogXCJNOTU5LjQsMTQ4LjVINDAuNmMtMTYuOSwwLTMwLjYsMTAuMy0zMC42LDIzczEzLjcsMjMsMzAuNiwyM2g5MTguOGMxNi45LDAsMzAuNi0xMC4zLDMwLjYtMjNTOTc2LjMsMTQ4LjUsOTU5LjQsMTQ4LjV6XCIgfSldIH0pLCBfanN4cyhcInN2Z1wiLCB7IHZlcnNpb246IFwiMS4xXCIsIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHg6IFwiMHB4XCIsIHk6IFwiMHB4XCIsIHZpZXdCb3g6IFwiMCAwIDEwMDAgMTAwMFwiLCBlbmFibGVCYWNrZ3JvdW5kOiBcIm5ldyAwIDAgMTAwMCAxMDAwXCIsIGNoaWxkcmVuOiBbX2pzeChcInBhdGhcIiwgeyBkOiBcIk03MjguNyw5MTMuNGMwLDE2LjktMTMuNywzMC42LTMwLjYsMzAuNkgzMDBjLTE2LjksMC0zMC42LTEzLjctMzAuNi0zMC42TDE5Mi44LDIzOWgtNDUuOWw3Ni42LDcyMC4zYzAsMTYuOSwxMy43LDMwLjYsMzAuNiwzMC42aDQ5MGMxNi45LDAsMzAuNi0xMy43LDMwLjYtMzAuNkw4NTEuMiwyMzloLTQ1LjlMNzI4LjcsOTEzLjR6XCIgfSksIF9qc3goXCJwYXRoXCIsIHsgZDogXCJNMzY2LDg4Mi44YzEyLjcsMCwyMy0xMy43LDIzLTMwLjZMMzQzLDMwMC45YzAtMTYuOS0xMC4zLTMwLjYtMjMtMzAuNnMtMjMsMTMuNy0yMywzMC42TDM0Myw4NTIuMkMzNDMsODY5LjEsMzUzLjMsODgyLjgsMzY2LDg4Mi44elwiIH0pLCBfanN4KFwicGF0aFwiLCB7IGQ6IFwiTTUyNC45LDg1Mi4yVjMwMC45YzAtMTYuOS0xMC4zLTMwLjYtMjMtMzAuNmMtMTIuNywwLTIzLDEzLjctMjMsMzAuNnY1NTEuM2MwLDE2LjksMTAuMywzMC42LDIzLDMwLjZDNTE0LjYsODgyLjgsNTI0LjksODY5LjEsNTI0LjksODUyLjJ6XCIgfSksIF9qc3goXCJwYXRoXCIsIHsgZDogXCJNNjYwLjgsODUyLjJsNDUuOS01NTEuM2MwLTE2LjktMTAuMy0zMC42LTIzLTMwLjZzLTIzLDEzLjctMjMsMzAuNmwtNDUuOSw1NTEuM2MwLDE2LjksMTAuMywzMC42LDIzLDMwLjZTNjYwLjgsODY5LjEsNjYwLjgsODUyLjJ6XCIgfSldIH0pLCBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogYGNvbmZpcm1hdGlvbl9fY29udGFpbmVyICR7Y29uZmlybWF0aW9uID8gJ2FjdGl2ZScgOiAnJ31gLCBjaGlsZHJlbjogW19qc3goXCJidXR0b25cIiwgeyBvbkNsaWNrOiAoZSkgPT4geyBlLnByZXZlbnREZWZhdWx0KCk7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IG9uQ29uZmlybSgpOyB9LCBjaGlsZHJlbjogbGFuZyA9PT0gJ2VuJyA/ICdEZWxldGUnIDogJ9Cj0LTQsNC70LjRgtGMJyB9KSwgX2pzeChcImJ1dHRvblwiLCB7IG9uQ2xpY2s6IChlKSA9PiB7IGUucHJldmVudERlZmF1bHQoKTsgZS5zdG9wUHJvcGFnYXRpb24oKTsgb25DYW5jZWwoKTsgfSwgY2hpbGRyZW46IGxhbmcgPT09ICdlbicgPyAnQ2FuY2VsJyA6ICfQntGC0LzQtdC90LAnIH0pXSB9KV0gfSkpO1xyXG59O1xyXG5leHBvcnQgZGVmYXVsdCBEZWxldGU7XHJcbiIsImltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XHJcbmltcG9ydCAnLi9wcmVsb2FkZXJXLnNjc3MnO1xyXG5jb25zdCBQcmVsb2FkZXJXID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJwcmVsb2FkZXJfd1wiLCBjaGlsZHJlbjogW19qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZGFzaCBkYXNoXzFcIiB9KSwgX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJkYXNoIGRhc2hfMlwiIH0pLCBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImRhc2ggZGFzaF8zXCIgfSksIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZGFzaCBkYXNoXzRcIiB9KV0gfSkpO1xyXG59O1xyXG5leHBvcnQgZGVmYXVsdCBQcmVsb2FkZXJXO1xyXG4iLCJpbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cywgRnJhZ21lbnQgYXMgX0ZyYWdtZW50IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XHJcbmltcG9ydCB7IGJpbmRBY3Rpb25DcmVhdG9ycyB9IGZyb20gXCJyZWR1eFwiO1xyXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XHJcbmltcG9ydCAnLi9jYXJ0LWNvbnRlbnQuc2Nzcyc7XHJcbmltcG9ydCB7IGNoYW5nZUl0ZW0sIHNhdmVDYXJ0LCByZW1vdmVJdGVtIH0gZnJvbSBcIi4uLy4uL3JlZHV4L2FjdGlvbnMvY2FydFwiO1xyXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBsb2FkRmliZXJzIH0gZnJvbSBcIi4uLy4uL3JlZHV4L2FjdGlvbnMvZmliZXJzXCI7XHJcbmltcG9ydCB7IGxvYWRDb2xvcnMgfSBmcm9tIFwiLi4vLi4vcmVkdXgvYWN0aW9ucy9jb2xvcnNcIjtcclxuaW1wb3J0IHsgTmF2TGluayB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XHJcbmltcG9ydCBEZWxldGUgZnJvbSBcIi4uL0RlbGV0ZS9EZWxldGVcIjtcclxuaW1wb3J0IHsgc2V0UHJvZHVjdCwgc2V0TG9hZERhdGFTdGF0dXNQcm9kdWN0IH0gZnJvbSBcIi4uLy4uL3JlZHV4L2FjdGlvbnMvcHJvZHVjdFwiO1xyXG5pbXBvcnQgQW1vdW50Q2hhbmdlciBmcm9tIFwiLi4vQW1vdW50Q2hhbmdlci9BbW91bnRDaGFuZ2VyXCI7XHJcbmltcG9ydCBQcmVsb2FkZXJXIGZyb20gXCIuLi9QcmVsb2FkZXJzL1ByZWxvYWRlcldcIjtcclxuaW1wb3J0IEltZ1dpdGhQcmVsb2FkZXIgZnJvbSBcIi4uLy4uL2Fzc2V0cy9qcy9JbWdXaXRoUHJlbG9hZGVyXCI7XHJcbmltcG9ydCBNb2RhbCBmcm9tIFwiLi4vTW9kYWwvTW9kYWxcIjtcclxuaW1wb3J0IE1vZGFsSW1hZ2UgZnJvbSBcIi4uL01lc3NhZ2VJbWFnZS9NZXNzYWdlSW1hZ2VcIjtcclxuY29uc3QgYWN0aW9uc0NhcnRMaXN0ID0geyBjaGFuZ2VJdGVtLCBzYXZlQ2FydCwgcmVtb3ZlSXRlbSB9O1xyXG5jb25zdCBhY3Rpb25zTGlzdENvbG9ycyA9IHsgbG9hZENvbG9ycyB9O1xyXG5jb25zdCBhY3Rpb25zTGlzdEZpYmVycyA9IHsgbG9hZEZpYmVycyB9O1xyXG5jb25zdCBhY3Rpb25zTGlzdFByb2R1Y3QgPSB7IHNldFByb2R1Y3QsIHNldExvYWREYXRhU3RhdHVzUHJvZHVjdCB9O1xyXG5jb25zdCBDYXJ0Q29udGVudCA9ICh7IGxhbmcsIGNhcnQsIGNvbG9ycywgZmliZXJzLCBzZXRTdGF0ZSB9KSA9PiB7XHJcbiAgICBjb25zdCBbY2FydFJlYWR5LCBzZXRDYXJ0UmVhZHldID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gICAgY29uc3QgW21vZGFsLCBzZXRNb2RhbF0gPSB1c2VTdGF0ZSh7IHZpc2libGU6IGZhbHNlIH0pO1xyXG4gICAgY29uc3QgW21vZGFsSW1nLCBzZXRNb2RhbEltZ10gPSB1c2VTdGF0ZSh7IGRlc2NyOiAnJywgcGF0aDogJycgfSk7XHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGlmIChjYXJ0LmRhdGFMb2FkaW5nLnN0YXR1cyAhPT0gJ2xvYWRpbmcnKSB7XHJcbiAgICAgICAgICAgIHNldFN0YXRlLmNhcnQuc2F2ZUNhcnQoY2FydC5pdGVtcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW2NhcnQuaXRlbXNdKTtcclxuICAgIGNvbnN0IGRlbGV0ZUl0ZW0gPSAoaXRlbSkgPT4ge1xyXG4gICAgICAgIHNldFN0YXRlLmNhcnQucmVtb3ZlSXRlbShpdGVtKTtcclxuICAgIH07XHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGlmIChjb2xvcnMuZGF0YUxvYWRpbmcuc3RhdHVzID09PSAnc3VjY2VzcycgJiYgZmliZXJzLmRhdGFMb2FkaW5nLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnICYmIGNhcnQuZGF0YUxvYWRpbmcuc3RhdHVzID09PSAnc3VjY2VzcycpIHtcclxuICAgICAgICAgICAgc2V0Q2FydFJlYWR5KHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIFtjb2xvcnMuZGF0YUxvYWRpbmcuc3RhdHVzLCBmaWJlcnMuZGF0YUxvYWRpbmcuc3RhdHVzLCBjYXJ0LmRhdGFMb2FkaW5nLnN0YXR1c10pO1xyXG4gICAgY29uc3Qgb25Qcm9kdWN0Q2xpY2sgPSAocHJvZHVjdCkgPT4ge1xyXG4gICAgICAgIHNldFN0YXRlLnByb2R1Y3Quc2V0TG9hZERhdGFTdGF0dXNQcm9kdWN0KHsgc3RhdHVzOiAnc3VjY2VzcycsIG1lc3NhZ2U6ICcnIH0pO1xyXG4gICAgICAgIHNldFN0YXRlLnByb2R1Y3Quc2V0UHJvZHVjdChwcm9kdWN0KTtcclxuICAgIH07XHJcbiAgICBjb25zdCBvbkFtb3VudENoYW5nZSA9IChpdGVtLCBhbW91bnQpID0+IHtcclxuICAgICAgICBzZXRTdGF0ZS5jYXJ0LmNoYW5nZUl0ZW0oeyAuLi5pdGVtLCBhbW91bnQgfSk7XHJcbiAgICB9O1xyXG4gICAgY29uc3Qgb25JbWFnZUNsaWNrID0gKGUsIGNvbG9yKSA9PiB7XHJcbiAgICAgICAgaWYgKCFjb2xvcilcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgc2V0TW9kYWxJbWcoeyBkZXNjcjogY29sb3IubmFtZVtsYW5nXSwgcGF0aDogY29sb3IudXJsIH0pO1xyXG4gICAgICAgIHNldE1vZGFsKHsgdmlzaWJsZTogdHJ1ZSB9KTtcclxuICAgIH07XHJcbiAgICBjb25zdCBjbG9zZU1vZGFsID0gKCkgPT4ge1xyXG4gICAgICAgIHNldE1vZGFsKHsgdmlzaWJsZTogZmFsc2UgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjYXJ0LWNvbnRlbnRcIiwgY2hpbGRyZW46IFtjYXJ0UmVhZHkgP1xyXG4gICAgICAgICAgICAgICAgY2FydC5pdGVtcy5sZW5ndGggPiAwID9cclxuICAgICAgICAgICAgICAgICAgICBfanN4KF9GcmFnbWVudCwgeyBjaGlsZHJlbjogY2FydC5pdGVtcy5tYXAoKGl0ZW0sIGkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpYmVyID0gZmliZXJzLmZpYmVyc0xpc3QuZmluZChmaWJlckl0ZW0gPT4gZmliZXJJdGVtLmlkID09PSBpdGVtLmZpYmVyKT8uc2hvcnQubmFtZVtsYW5nXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gY29sb3JzLmNvbG9ycy5maW5kKGNvbG9yID0+IGNvbG9yLmlkID09PSBpdGVtLmNvbG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2FydF9faXRlbVwiLCBjaGlsZHJlbjogW19qc3goTmF2TGluaywgeyBjbGFzc05hbWU6IFwiaXRlbV9fcHJvZHVjdC1saW5rX2ltZ1wiLCB0bzogYC4uL2NhdGFsb2cvJHtpdGVtLnByb2R1Y3QuaWR9YCwgb25DbGljazogKCkgPT4gb25Qcm9kdWN0Q2xpY2soaXRlbS5wcm9kdWN0KSwgXCJhcmlhLWxhYmVsXCI6IGxhbmcgPT09ICdlbicgPyAnR28gdG8gcHJvZHVjdCcgOiAn0J/QtdGA0LXQudGC0Lgg0Log0YLQvtCy0LDRgNGDJywgY2hpbGRyZW46IF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiaW1nX19jb250YWluZXJcIiwgY2hpbGRyZW46IF9qc3goSW1nV2l0aFByZWxvYWRlciwgeyBzcmM6IGl0ZW0ucHJvZHVjdC5pbWdzWzBdLnVybCwgYWx0OiBpdGVtLnByb2R1Y3QuaW1nc1swXS5uYW1lW2xhbmddIH0pIH0pIH0pLCBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJpdGVtLWRlc2NyX19jb250YWluZXJcIiwgY2hpbGRyZW46IFtfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIml0ZW1fX2Jsb2NrXCIsIGNoaWxkcmVuOiBfanN4KFwic3BhblwiLCB7IFwiYXJpYS1sYWJlbFwiOiBsYW5nID09PSAnZW4nID8gXCJHbyB0byBwcm9kdWN0IHBhZ2VcIiA6ICfQn9C10YDQtdC50YLQuCDQvdCwINGB0YLRgNCw0L3QuNGG0YMg0L/RgNC+0LTRg9C60YLQsCcsIGNoaWxkcmVuOiBpdGVtLnByb2R1Y3QubmFtZVtsYW5nXSB9KSB9KSwgaXRlbS50eXBlID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiaXRlbV9fYmxvY2tcIiwgY2hpbGRyZW46IFtfanN4cyhcInNwYW5cIiwgeyBjaGlsZHJlbjogW2xhbmcgPT09ICdlbicgPyAnVHlwZScgOiAn0JzQvtC00LjRhNC40LrQsNGG0LjRjycsIFwiOlwiXSB9KSwgX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiZmliZXJcIiwgY2hpbGRyZW46IGl0ZW0udHlwZVtsYW5nXSB9KV0gfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiaXRlbV9fYmxvY2tcIiwgY2hpbGRyZW46IFtfanN4cyhcInNwYW5cIiwgeyBjaGlsZHJlbjogW2xhbmcgPT09ICdlbicgPyAnRmliZXInIDogJ9Cc0LDRgtC10YDQuNCw0LsnLCBcIjpcIl0gfSksIF9qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImZpYmVyXCIsIGNoaWxkcmVuOiBmaWJlciB9KV0gfSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIml0ZW1fX2Jsb2NrXCIsIGNoaWxkcmVuOiBbX2pzeHMoXCJzcGFuXCIsIHsgY2hpbGRyZW46IFtsYW5nID09PSAnZW4nID8gJ0NvbG9yJyA6ICfQptCy0LXRgicsIFwiOlwiXSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY29sb3JzX19jb250YWluZXJcIiwgb25DbGljazogKGUpID0+IG9uSW1hZ2VDbGljayhlLCBjb2xvciksIGNoaWxkcmVuOiBbX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjb2xvcl9fY29udGFpbmVyXCIsIGNoaWxkcmVuOiBfanN4KFwiaW1nXCIsIHsgc3JjOiBjb2xvcj8udXJsLCBhbHQ6IGNvbG9yPy5uYW1lW2xhbmddIH0pIH0pLCBfanN4cyhcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiY29sb3JfX25hbWVcIiwgY2hpbGRyZW46IFtcIihcIiwgY29sb3I/Lm5hbWVbbGFuZ10sIFwiKVwiXSB9KV0gfSldIH0pXSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiaXRlbV9fYW1vdW50LWRlbGV0ZVwiLCBjaGlsZHJlbjogW19qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZGVsZXRlX19jb250YWluZXJcIiwgY2hpbGRyZW46IF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZGVsZXRlX193cmFwcGVyXCIsIGNoaWxkcmVuOiBfanN4KERlbGV0ZSwgeyByZW1vdmU6IGRlbGV0ZUl0ZW0sIGlkSW5zdGFuY2U6IGl0ZW0sIGxhbmc6IGxhbmcgfSkgfSkgfSksIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYW1vdW50X19jb250YWluZXJcIiwgY2hpbGRyZW46IF9qc3goQW1vdW50Q2hhbmdlciwgeyBpZEluc3RhbmNlOiBpdGVtLCBpbml0aWFsQW1vdW50OiBpdGVtLmFtb3VudCwgbGFuZzogbGFuZywgb25DaGFuZ2U6IG9uQW1vdW50Q2hhbmdlIH0pIH0pXSB9KV0gfSwgaXRlbS5pZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSB9KVxyXG4gICAgICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2pzeChcImgzXCIsIHsgY2xhc3NOYW1lOiBcImNhcnRfZW1wdHlfX3RleHRcIiwgY2hpbGRyZW46IGxhbmcgPT09ICdlbicgPyAnWW91ciBjYXJ0IGlzIGVtcHR5JyA6ICfQktCw0YjQsCDQutC+0YDQt9C40L3QsCDQv9GD0YHRgtCwJyB9KVxyXG4gICAgICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAgICAgICAgIF9qc3goUHJlbG9hZGVyVywge30pLCBfanN4KE1vZGFsLCB7IC4uLnsgdmlzaWJsZTogbW9kYWwudmlzaWJsZSwgY2xvc2U6IGNsb3NlTW9kYWwsIGVzY0V4aXQ6IHRydWUgfSwgY2hpbGRyZW46IF9qc3goTW9kYWxJbWFnZSwgeyBwcm9wczogeyBwYXRoOiBtb2RhbEltZy5wYXRoLCBkZXNjcjogbW9kYWxJbWcuZGVzY3IgfSB9KSB9KV0gfSkpO1xyXG59O1xyXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGUpID0+ICh7XHJcbiAgICBjYXJ0OiBzdGF0ZS5jYXJ0LFxyXG4gICAgbGFuZzogc3RhdGUuYmFzZS5sYW5nLFxyXG4gICAgcHJvZHVjdDogc3RhdGUucHJvZHVjdCxcclxuICAgIGNvbG9yczogc3RhdGUuY29sb3JzLFxyXG4gICAgZmliZXJzOiBzdGF0ZS5maWJlcnMsXHJcbn0pO1xyXG5jb25zdCBtYXBEaXNwYXRjaFRvUHJvcHMgPSAoZGlzcGF0Y2gpID0+ICh7XHJcbiAgICBzZXRTdGF0ZToge1xyXG4gICAgICAgIGNhcnQ6IGJpbmRBY3Rpb25DcmVhdG9ycyhhY3Rpb25zQ2FydExpc3QsIGRpc3BhdGNoKSxcclxuICAgICAgICBjb2xvcnM6IGJpbmRBY3Rpb25DcmVhdG9ycyhhY3Rpb25zTGlzdENvbG9ycywgZGlzcGF0Y2gpLFxyXG4gICAgICAgIGZpYmVyczogYmluZEFjdGlvbkNyZWF0b3JzKGFjdGlvbnNMaXN0RmliZXJzLCBkaXNwYXRjaCksXHJcbiAgICAgICAgcHJvZHVjdDogYmluZEFjdGlvbkNyZWF0b3JzKGFjdGlvbnNMaXN0UHJvZHVjdCwgZGlzcGF0Y2gpLFxyXG4gICAgfVxyXG59KTtcclxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoQ2FydENvbnRlbnQpO1xyXG4iLCJpbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xyXG5pbXBvcnQgJy4vYWRkLWZpbGVzLnNjc3MnO1xyXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIGZvcndhcmRSZWYsIHVzZUltcGVyYXRpdmVIYW5kbGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBpY29uRmlsZVF1ZXN0aW9uIGZyb20gJy4uLy4uL2Fzc2V0cy9pbWcvaWNvbl9maWxlX3F1ZXN0aW9uLnN2Zyc7XHJcbmltcG9ydCBEZWxldGUgZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvRGVsZXRlL0RlbGV0ZVwiO1xyXG5jb25zdCBBZGRGaWxlcyA9IGZvcndhcmRSZWYoKHsgbGFuZywgc2F2ZUZpbGVzIH0sIHJlZikgPT4ge1xyXG4gICAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsICgpID0+ICh7XHJcbiAgICAgICAgY2xlYXJBdHRhY2hlZEZpbGVzKCkge1xyXG4gICAgICAgICAgICBzZXRGaWxlcyhbXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSkpO1xyXG4gICAgY29uc3QgX2Ryb3BBcmVhID0gdXNlUmVmKG51bGwpO1xyXG4gICAgY29uc3QgX2ZpbGVzID0gdXNlUmVmKG51bGwpO1xyXG4gICAgY29uc3QgX2ZpbGVzR2FsbGVyeSA9IHVzZVJlZihudWxsKTtcclxuICAgIGxldCBkcmFnQ291bnRlciA9IDA7XHJcbiAgICBjb25zdCBbZmlsZXMsIHNldEZpbGVzXSA9IHVzZVN0YXRlKFtdKTtcclxuICAgIGNvbnN0IHByZXZlbnREZWZhdWx0cyA9IChlKSA9PiB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgZHJhZ0VudGVyID0gKGUpID0+IHtcclxuICAgICAgICBwcmV2ZW50RGVmYXVsdHMoZSk7XHJcbiAgICAgICAgZHJhZ0NvdW50ZXIrKztcclxuICAgICAgICBfZHJvcEFyZWEuY3VycmVudD8uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgZHJhZ092ZXIgPSAoZSkgPT4ge1xyXG4gICAgICAgIHByZXZlbnREZWZhdWx0cyhlKTtcclxuICAgICAgICBfZHJvcEFyZWEuY3VycmVudD8uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgZHJhZ0xlYXZlID0gKGUpID0+IHtcclxuICAgICAgICBwcmV2ZW50RGVmYXVsdHMoZSk7XHJcbiAgICAgICAgZHJhZ0NvdW50ZXItLTtcclxuICAgICAgICBpZiAoZHJhZ0NvdW50ZXIgPT09IDApIHtcclxuICAgICAgICAgICAgX2Ryb3BBcmVhLmN1cnJlbnQ/LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBkcmFnRHJvcCA9IChlKSA9PiB7XHJcbiAgICAgICAgcHJldmVudERlZmF1bHRzKGUpO1xyXG4gICAgICAgIF9kcm9wQXJlYS5jdXJyZW50Py5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICBzZXRGaWxlcyhwcmV2ID0+IFsuLi5wcmV2LCAuLi5lLmRhdGFUcmFuc2Zlcj8uZmlsZXNdKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBvblNlbGVjdEZpbGVzID0gKCkgPT4ge1xyXG4gICAgICAgIF9kcm9wQXJlYS5jdXJyZW50Py5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICBzZXRGaWxlcyhwcmV2ID0+IFsuLi5wcmV2LCAuLi5fZmlsZXMuY3VycmVudD8uZmlsZXNdKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBjbGVhckZpbGVzID0gKCkgPT4ge1xyXG4gICAgICAgIHNldEZpbGVzKFtdKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBwcmV2aWV3RmlsZXMgPSAoYXJyYXlPZkZpbGVzKSA9PiB7XHJcbiAgICAgICAgX2ZpbGVzR2FsbGVyeS5jdXJyZW50LmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIGNvbnN0IGltYWdlVHlwZXMgPSBbJ2pwZycsICdqcGVnJywgJ2JtcCcsICdzdmcnLCAncG5nJywgJ3RpZmYnLCAnd2VicCddO1xyXG4gICAgICAgIGFycmF5T2ZGaWxlcy5yZWR1Y2UoYXN5bmMgKGFjYywgY3VycmVudEZpbGUpID0+IHtcclxuICAgICAgICAgICAgYXdhaXQgYWNjO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgYWNjLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoY3VycmVudEZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBfY29udGFpbmVyT2JqID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBfY29udGFpbmVySW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBfZGVzY3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBfaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pbWcuc3JjID0gKGltYWdlVHlwZXMuaW5jbHVkZXMoY3VycmVudEZpbGUubmFtZS5zcGxpdCgnLicpLnBvcCgpIHx8ICcnKSkgPyByZWFkZXIucmVzdWx0IDogaWNvbkZpbGVRdWVzdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Rlc2NyLmlubmVyVGV4dCA9IGN1cnJlbnRGaWxlLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9maWxlc0dhbGxlcnkuY3VycmVudD8uYXBwZW5kQ2hpbGQoX2NvbnRhaW5lck9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250YWluZXJJbWcuYXBwZW5kQ2hpbGQoX2ltZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250YWluZXJPYmouYXBwZW5kQ2hpbGQoX2NvbnRhaW5lckltZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250YWluZXJPYmouYXBwZW5kQ2hpbGQoX2Rlc2NyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzKGBGaWxlICR7Y3VycmVudEZpbGUubmFtZX0gYWRkZWRgKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sIFByb21pc2UucmVzb2x2ZSgnRmlsZXMgYXJyYXkgaXMgZW1wdHknKSk7XHJcbiAgICB9O1xyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBpZiAoIV9kcm9wQXJlYS5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgX2Ryb3BBcmVhLmN1cnJlbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VudGVyJywgZHJhZ0VudGVyLCBmYWxzZSk7XHJcbiAgICAgICAgX2Ryb3BBcmVhLmN1cnJlbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBkcmFnT3ZlciwgZmFsc2UpO1xyXG4gICAgICAgIF9kcm9wQXJlYS5jdXJyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIGRyYWdMZWF2ZSwgZmFsc2UpO1xyXG4gICAgICAgIF9kcm9wQXJlYS5jdXJyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBkcmFnRHJvcCwgZmFsc2UpO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIF9kcm9wQXJlYS5jdXJyZW50Py5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCBkcmFnRW50ZXIsIGZhbHNlKTtcclxuICAgICAgICAgICAgX2Ryb3BBcmVhLmN1cnJlbnQ/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgZHJhZ092ZXIsIGZhbHNlKTtcclxuICAgICAgICAgICAgX2Ryb3BBcmVhLmN1cnJlbnQ/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIGRyYWdMZWF2ZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICBfZHJvcEFyZWEuY3VycmVudD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJvcCcsIGRyYWdEcm9wLCBmYWxzZSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBwcmV2aWV3RmlsZXMoZmlsZXMpO1xyXG4gICAgICAgIHNhdmVGaWxlcyhmaWxlcyk7XHJcbiAgICB9LCBbZmlsZXNdKTtcclxuICAgIGNvbnN0IHJlbW92ZSA9IChpZEluc3RhbmNlKSA9PiB7XHJcbiAgICAgICAgY2xlYXJGaWxlcygpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZHJvcC1hcmVhXCIsIHJlZjogX2Ryb3BBcmVhLCBjaGlsZHJlbjogW19qc3goXCJzdmdcIiwgeyB3aWR0aDogXCIxNlwiLCBoZWlnaHQ6IFwiMjVcIiwgdmlld0JveDogXCIwIDAgMTYgMjVcIiwgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgY2hpbGRyZW46IF9qc3goXCJwYXRoXCIsIHsgZDogXCJNNy4zMTcxOSAyMy43MzIyQzcuNzE4NTYgMjQuMTExNiA4LjM1MTQ4IDI0LjA5MzcgOC43MzA4NCAyMy42OTI0TDE0LjkxMjkgMTcuMTUxNkMxNS4yOTIzIDE2Ljc1MDIgMTUuMjc0NSAxNi4xMTczIDE0Ljg3MzEgMTUuNzM3OUMxNC40NzE3IDE1LjM1ODYgMTMuODM4OCAxNS4zNzY0IDEzLjQ1OTQgMTUuNzc3OEw3Ljk2NDI0IDIxLjU5MThMMi4xNTAyMiAxNi4wOTY2QzEuNzQ4ODUgMTUuNzE3MiAxLjExNTkzIDE1LjczNTEgMC43MzY1NyAxNi4xMzY1QzAuMzU3MjA2IDE2LjUzNzggMC4zNzUwNDggMTcuMTcwNyAwLjc3NjQyMiAxNy41NTAxTDcuMzE3MTkgMjMuNzMyMlpNNi4zNjY1NSAwLjQwNDQ2MUw3LjAwNDQ5IDIzLjAzMzZMOS4wMDM2OSAyMi45NzczTDguMzY1NzYgMC4zNDgxMDJMNi4zNjY1NSAwLjQwNDQ2MVpcIiB9KSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibGlua19fY29udGFpbmVyXCIsIGNoaWxkcmVuOiBbX2pzeChcImxhYmVsXCIsIHsgaHRtbEZvcjogXCJmaWxlc1wiLCBjaGlsZHJlbjogbGFuZyA9PT0gJ2VuJyA/ICdBZGQgZmlsZXMnIDogJ9CS0YvQsdC10YDQuNGC0LUg0YTQsNC50LvRiycgfSksIF9qc3goXCJzcGFuXCIsIHsgY2hpbGRyZW46IGxhbmcgPT09ICdlbicgPyAnIG9yIGRyYWcgaXQgaGVyZScgOiAn0LTQu9GPINC00L7QsdCw0LLQu9C10L3QuNGPINC40LvQuCDQv9C10YDQtdGC0LDRidC40YLQtSDQuNGFINGB0Y7QtNCwJyB9KV0gfSksIF9qc3goXCJpbnB1dFwiLCB7IGlkOiBcImZpbGVzXCIsIHR5cGU6IFwiZmlsZVwiLCBtdWx0aXBsZTogdHJ1ZSwgb25DaGFuZ2U6IG9uU2VsZWN0RmlsZXMsIHJlZjogX2ZpbGVzIH0pLCBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInByZXZpZXctZ2FsbGVyeVwiLCByZWY6IF9maWxlc0dhbGxlcnkgfSksIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2xlYXItZmlsZXNcIiwgY2hpbGRyZW46IF9qc3goRGVsZXRlLCB7IHJlbW92ZTogcmVtb3ZlLCBpZEluc3RhbmNlOiBcImNhcnRDbGVhbmVyXCIsIGxhbmc6IGxhbmcgfSkgfSldIH0pKTtcclxufSk7XHJcbmV4cG9ydCBkZWZhdWx0IEFkZEZpbGVzO1xyXG4iLCJpbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xyXG5pbXBvcnQgeyBiaW5kQWN0aW9uQ3JlYXRvcnMgfSBmcm9tIFwicmVkdXhcIjtcclxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xyXG5pbXBvcnQgJy4vb3JkZXIuc2Nzcyc7XHJcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IE1vZGFsIGZyb20gXCIuLi8uLi9jb21wb25lbnRzL01vZGFsL01vZGFsXCI7XHJcbmltcG9ydCBNZXNzYWdlSW5mbyBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9NZXNzYWdlSW5mby9NZXNzYWdlSW5mb1wiO1xyXG5pbXBvcnQgeyBzZXROYW1lLCBzZXRFbWFpbCwgc2V0UGhvbmUsIHNldE1lc3NhZ2UsIGNsZWFyRmlsZXMsIGNsZWFyRm9ybSwgYWRkRmlsZXMsIHNlbmRPcmRlciwgc2V0U2VuZERhdGFTdGF0dXMgfSBmcm9tIFwiLi4vLi4vcmVkdXgvYWN0aW9ucy9vcmRlclwiO1xyXG5pbXBvcnQgQ2FydENvbnRlbnQgZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvQ2FydENvbnRlbnQvQ2FydENvbnRlbnRcIjtcclxuaW1wb3J0IEFkZEZpbGVzIGZyb20gXCIuLi8uLi9jb21wb25lbnRzL0FkZEZpbGVzL0FkZEZpbGVzXCI7XHJcbmltcG9ydCB7IGxvYWRGaWJlcnMgfSBmcm9tIFwiLi4vLi4vcmVkdXgvYWN0aW9ucy9maWJlcnNcIjtcclxuaW1wb3J0IHsgbG9hZENvbG9ycyB9IGZyb20gXCIuLi8uLi9yZWR1eC9hY3Rpb25zL2NvbG9yc1wiO1xyXG5pbXBvcnQgeyBjbGVhckNhcnQgfSBmcm9tIFwiLi4vLi4vcmVkdXgvYWN0aW9ucy9jYXJ0XCI7XHJcbmNvbnN0IGFjdGlvbnNMaXN0T3JkZXIgPSB7IHNldE5hbWUsIHNldEVtYWlsLCBzZXRQaG9uZSwgc2V0TWVzc2FnZSwgY2xlYXJGaWxlcywgY2xlYXJGb3JtLCBhZGRGaWxlcywgc2VuZE9yZGVyLCBzZXRTZW5kRGF0YVN0YXR1cyB9O1xyXG5jb25zdCBhY3Rpb25zTGlzdENvbG9ycyA9IHsgbG9hZENvbG9ycyB9O1xyXG5jb25zdCBhY3Rpb25zTGlzdEZpYmVycyA9IHsgbG9hZEZpYmVycyB9O1xyXG5jb25zdCBhY3Rpb25zTGlzdENhcnQgPSB7IGNsZWFyQ2FydCB9O1xyXG5jb25zdCBPcmRlciA9ICh7IGxhbmcsIG9yZGVyLCBjYXJ0LCBjb2xvcnMsIGZpYmVycywgc2V0U3RhdGUgfSkgPT4ge1xyXG4gICAgY29uc3QgX25hbWUgPSB1c2VSZWYobnVsbCk7XHJcbiAgICBjb25zdCBfZW1haWwgPSB1c2VSZWYobnVsbCk7XHJcbiAgICBjb25zdCBfcGhvbmUgPSB1c2VSZWYobnVsbCk7XHJcbiAgICBjb25zdCBfbWVzc2FnZSA9IHVzZVJlZihudWxsKTtcclxuICAgIGNvbnN0IFttb2RhbCwgc2V0TW9kYWxdID0gdXNlU3RhdGUoeyB2aXNpYmxlOiBmYWxzZSB9KTtcclxuICAgIGNvbnN0IGFkZEZpbGVzUmVmID0gdXNlUmVmKG51bGwpO1xyXG4gICAgY29uc3QgW21lc3NhZ2UsIHNldE1lc3NhZ2VdID0gdXNlU3RhdGUoeyBzdGF0dXM6ICcnLCBoZWFkZXI6ICcnLCB0ZXh0OiBbXSB9KTtcclxuICAgIGNvbnN0IGNsb3NlTW9kYWwgPSAoKSA9PiB7XHJcbiAgICAgICAgc2V0TW9kYWwoeyB2aXNpYmxlOiBmYWxzZSB9KTtcclxuICAgICAgICBpZiAob3JkZXIuZGF0YVNlbmRpbmcuc3RhdHVzID09PSAnc3VjY2VzcycpIHtcclxuICAgICAgICAgICAgc2V0U3RhdGUub3JkZXIuY2xlYXJGaWxlcygpO1xyXG4gICAgICAgICAgICBzZXRTdGF0ZS5vcmRlci5jbGVhckZvcm0oKTtcclxuICAgICAgICAgICAgYWRkRmlsZXNSZWYuY3VycmVudD8uY2xlYXJBdHRhY2hlZEZpbGVzKCk7XHJcbiAgICAgICAgICAgIHNldFN0YXRlLmNhcnQuY2xlYXJDYXJ0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNldFN0YXRlLm9yZGVyLnNldFNlbmREYXRhU3RhdHVzKHsgc3RhdHVzOiAnaWRsZScsIG1lc3NhZ2U6ICcnIH0pO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGNoZWNrRXJyb3JzID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZlaWxkc1RvQ2hlY2sgPSBbXHJcbiAgICAgICAgICAgIHsgcmVmOiBfbmFtZSwgbmFtZTogeyBlbjogJ1lvdXIgbmFtZScsIHJ1OiAn0JLQsNGI0LUg0LjQvNGPJyB9IH0sXHJcbiAgICAgICAgICAgIHsgcmVmOiBfZW1haWwsIG5hbWU6IHsgZW46ICdZb3VyIGVtYWlsJywgcnU6ICfQktCw0YjQsCDQv9C+0YfRgtCwJyB9IH0sXHJcbiAgICAgICAgICAgIHsgcmVmOiBfcGhvbmUsIG5hbWU6IHsgZW46ICdZb3VyIHBob25lJywgcnU6ICfQktCw0Ygg0YLQtdC70LXRhNC+0L0nIH0gfSxcclxuICAgICAgICAgICAgeyByZWY6IF9tZXNzYWdlLCBuYW1lOiB7IGVuOiAnSW5mb3JtYXRpb24gYWJvdXQgdGhlIG9yZGVyJywgcnU6ICfQmNC90YTQvtGA0LzQsNGG0LjRjyDQviDQt9Cw0LrQsNC30LUnIH0gfSxcclxuICAgICAgICBdO1xyXG4gICAgICAgIGxldCBpc1dyb25nID0gZmFsc2U7XHJcbiAgICAgICAgc2V0TWVzc2FnZShwcmV2ID0+ICh7IHN0YXR1czogJ2Vycm9yJywgaGVhZGVyOiBsYW5nID09PSAnZW4nID8gJ0Vycm9ycyBmb3VuZCcgOiAn0J7QsdC90LDRgNGD0LbQtdC90Ysg0L7RiNC40LHQutC4JywgdGV4dDogW10gfSkpO1xyXG4gICAgICAgIGZlaWxkc1RvQ2hlY2suZm9yRWFjaChmaWVsZCA9PiB7XHJcbiAgICAgICAgICAgIGlmICghZmllbGQucmVmLmN1cnJlbnQ/LmNoZWNrVmFsaWRpdHkoKSkge1xyXG4gICAgICAgICAgICAgICAgc2V0TWVzc2FnZShwcmV2ID0+ICh7IC4uLnByZXYsIHRleHQ6IHByZXYudGV4dC5jb25jYXQobGFuZyA9PT0gJ2VuJyA/IGBGaWVsZCBcIiR7ZmllbGQubmFtZVtsYW5nXX1cIiBpcyBpbmNvcnJlY3RgIDogYNCf0L7Qu9C1IFwiJHtmaWVsZC5uYW1lW2xhbmddfVwiINC30LDQv9C+0LvQvdC10L3QviDQvdC10LLQtdGA0L3QvmApIH0pKTtcclxuICAgICAgICAgICAgICAgIGZpZWxkLnJlZi5jdXJyZW50Py5wYXJlbnRFbGVtZW50Py5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgaXNXcm9uZyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gaXNXcm9uZztcclxuICAgIH07XHJcbiAgICBjb25zdCBwcmV2ZW50RGVmYXVsdHMgPSAoZSkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IG9uU3VibWl0ID0gKGUpID0+IHtcclxuICAgICAgICBwcmV2ZW50RGVmYXVsdHMoZSk7XHJcbiAgICAgICAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSBvcmRlci5uYW1lO1xyXG4gICAgICAgIGNvbnN0IHBob25lID0gb3JkZXIucGhvbmU7XHJcbiAgICAgICAgY29uc3QgZW1haWwgPSBvcmRlci5lbWFpbDtcclxuICAgICAgICBjb25zdCBtZXNzYWdlID0gb3JkZXIubWVzc2FnZTtcclxuICAgICAgICBpZiAoY2hlY2tFcnJvcnMoKSkge1xyXG4gICAgICAgICAgICBzZXRNb2RhbCh7IHZpc2libGU6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coY2FydC5pdGVtcyk7XHJcbiAgICAgICAgY29uc3QgdGV4dENhcnQgPSBjYXJ0Lml0ZW1zLnJlZHVjZSgodGV4dCwgaXRlbSwgaSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGV4dCArIGAke2kgKyAxfSkgJHtpdGVtLnByb2R1Y3QubmFtZVtsYW5nXX1cclxuJHtsYW5nID09PSAnZW4nID8gJ09wdGlvbnMnIDogJ9CS0LXRgNGB0LjRjyd9OiAke2l0ZW0udHlwZX0gXHJcbiR7bGFuZyA9PT0gJ2VuJyA/ICdGaWJlcicgOiAn0JzQsNGC0LXRgNC40LDQuyd9OiAke2ZpYmVycy5maWJlcnNMaXN0LmZpbmQoZmliZXJJdGVtID0+IGZpYmVySXRlbS5pZCA9PT0gaXRlbS5maWJlcik/LnNob3J0Lm5hbWVbbGFuZ119XHJcbiR7bGFuZyA9PT0gJ2VuJyA/ICdDb2xvcicgOiAn0KbQstC10YInfTogJHtjb2xvcnMuY29sb3JzLmZpbmQoY29sb3IgPT4gY29sb3IuaWQgPT09IGl0ZW0uY29sb3IpPy5uYW1lW2xhbmddfVxyXG4ke2xhbmcgPT09ICdlbicgPyAnQW1vdW50JyA6ICfQmtC+0LvQuNGH0LXRgdGC0LLQvid9OiAke2l0ZW0uYW1vdW50fVxcblxcbmA7XHJcbiAgICAgICAgfSwgJycpO1xyXG4gICAgICAgIGNvbnN0IHRleHRPcmRlciA9IGBcclxuJHtsYW5nID09PSAnZW4nID8gJ0RhdGUnIDogJ9CU0LDRgtCwJ306ICR7Y3VycmVudERhdGUudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCl9XHJcbiR7bGFuZyA9PT0gJ2VuJyA/ICdUaW1lJyA6ICfQktGA0LXQvNGPJ306ICR7Y3VycmVudERhdGUudG9JU09TdHJpbmcoKS5zbGljZSgxMSwgMTkpfVxyXG4ke2xhbmcgPT09ICdlbicgPyAnTmFtZScgOiAn0JjQvNGPJ306ICR7bmFtZX1cclxuJHtsYW5nID09PSAnZW4nID8gJ0VtYWlsJyA6ICfQn9C+0YfRgtCwJ306ICR7ZW1haWx9XHJcbiR7bGFuZyA9PT0gJ2VuJyA/ICdQaG9uZScgOiAn0KLQtdC70LXRhNC+0L0nfTogJHtwaG9uZX1cclxuJHtsYW5nID09PSAnZW4nID8gJ01lc3NhZ2UnIDogJ9Ch0L7QvtCx0YnQtdC90LjQtSd9OiAke21lc3NhZ2V9YDtcclxuICAgICAgICBjb25zdCB0ZXh0ID0gYCR7bGFuZyA9PT0gJ2VuJyA/ICdOZXcgb3JkZXInIDogJ9Cd0L7QstGL0Lkg0LfQsNC60LDQtyd9OiR7dGV4dE9yZGVyfVxcblxcblxcbiAke2xhbmcgPT09ICdlbicgPyAnQ2FydCBjb250ZW50JyA6ICfQodC+0LTQtdGA0LbQuNC80L7QtSDQutC+0YDQt9C40L3Riyd9OiBcXG4ke3RleHRDYXJ0fSR7b3JkZXIuZmlsZXMubGVuZ3RoID4gMCA/IChsYW5nID09PSAnZW4nID8gJ1xcblxcblxcbkF0dGFjaGVkIGZpbGVzOicgOiAnXFxuXFxuXFxu0J/RgNC40LrRgNC10L/Qu9C10L3QvdGL0LUg0YTQsNC50LvRizonKSA6ICcnfWA7XHJcbiAgICAgICAgc2V0U3RhdGUub3JkZXIuc2VuZE9yZGVyKHsgbGFuZywgdGV4dCwgZmlsZXNBcnI6IG9yZGVyLmZpbGVzLCBjYXJ0LCBpbmZvcm1lciB9KTtcclxuICAgIH07XHJcbiAgICBjb25zdCBpbmZvcm1lciA9IChtZXNzYWdlKSA9PiB7XHJcbiAgICAgICAgc2V0TWVzc2FnZSh7XHJcbiAgICAgICAgICAgIHN0YXR1czogJycsXHJcbiAgICAgICAgICAgIGhlYWRlcjogbGFuZyA9PT0gJ2VuJyA/IFwiU2VuZGluZyBvcmRlci4uLlwiIDogXCLQntGC0L/RgNCw0LLQutCwINC30LDQutCw0LfQsC4uLlwiLFxyXG4gICAgICAgICAgICB0ZXh0OiBbbWVzc2FnZVtsYW5nXV0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2V0TW9kYWwoeyB2aXNpYmxlOiB0cnVlIH0pO1xyXG4gICAgfTtcclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKG9yZGVyLmRhdGFTZW5kaW5nLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnIHx8IG9yZGVyLmRhdGFTZW5kaW5nLnN0YXR1cyA9PT0gJ2Vycm9yJykge1xyXG4gICAgICAgICAgICBzZXRNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgIHN0YXR1czogb3JkZXIuZGF0YVNlbmRpbmcuc3RhdHVzLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyOiBvcmRlci5kYXRhU2VuZGluZy5zdGF0dXMgPT09ICdzdWNjZXNzJyA/IGxhbmcgPT09ICdlbicgPyBcIlN1Y2Nlc3NcIiA6IFwi0J7RgtC/0YDQsNCy0LvQtdC90L5cIiA6IGxhbmcgPT09ICdlbicgPyBcIkVycm9yXCIgOiBcItCe0YjQuNCx0LrQsFwiLFxyXG4gICAgICAgICAgICAgICAgdGV4dDogW29yZGVyLmRhdGFTZW5kaW5nLm1lc3NhZ2VdLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0TW9kYWwoeyB2aXNpYmxlOiB0cnVlIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sIFtvcmRlci5kYXRhU2VuZGluZy5zdGF0dXNdKTtcclxuICAgIGNvbnN0IGNsZWFyRXJyb3IgPSAoZSkgPT4ge1xyXG4gICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQ/LmNsYXNzTGlzdC5yZW1vdmUoJ2Vycm9yJyk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgZm9jdXNOZXh0ID0gKHsgZSwgdGFyZ2V0IH0pID0+IHtcclxuICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0YXJnZXQ/LmZvY3VzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IG9uQ2hhbmdlVGV4dCA9IChlKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChlLnRhcmdldC5pZCkge1xyXG4gICAgICAgICAgICBjYXNlIFwibmFtZVwiOlxyXG4gICAgICAgICAgICAgICAgc2V0U3RhdGUub3JkZXIuc2V0TmFtZShlLnRhcmdldC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInBob25lXCI6XHJcbiAgICAgICAgICAgICAgICBzZXRTdGF0ZS5vcmRlci5zZXRQaG9uZShlLnRhcmdldC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImVtYWlsXCI6XHJcbiAgICAgICAgICAgICAgICBzZXRTdGF0ZS5vcmRlci5zZXRFbWFpbChlLnRhcmdldC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcclxuICAgICAgICAgICAgICAgIHNldFN0YXRlLm9yZGVyLnNldE1lc3NhZ2UoZS50YXJnZXQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2xlYXJFcnJvcihlKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBzYXZlRmlsZXMgPSAoZmlsZXMpID0+IHtcclxuICAgICAgICBzZXRTdGF0ZS5vcmRlci5jbGVhckZpbGVzKCk7XHJcbiAgICAgICAgc2V0U3RhdGUub3JkZXIuYWRkRmlsZXMoZmlsZXMpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicGFnZV9vcmRlclwiLCBjaGlsZHJlbjogW19qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6ICdjb250YWluZXJfcGFnZScsIGNoaWxkcmVuOiBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNvbnRhaW5lclwiLCBjaGlsZHJlbjogX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicGFnZV9vcmRlclwiLCBjaGlsZHJlbjogW19qc3goXCJoMVwiLCB7IGNoaWxkcmVuOiBsYW5nID09PSAnZW4nID8gJ09yZGVyIDNEIHByaW50aW5nJyA6ICfQl9Cw0LrQsNC30LDRgtGMIDNEINC/0LXRh9Cw0YLRjCcgfSksIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwib3JkZXJfX2Jsb2NrXCIsIGNoaWxkcmVuOiBfanN4cyhcImZvcm1cIiwgeyBjbGFzc05hbWU6IFwib3JkZXJfX2NvbnRhaW5lclwiLCBjaGlsZHJlbjogW19qc3goXCJoMlwiLCB7IGNoaWxkcmVuOiBsYW5nID09PSAnZW4nID8gJ01ha2UgYW4gb3JkZXInIDogJ9Ce0YLQv9GA0LDQstC40YLRjCDQt9Cw0Y/QstC60YMnIH0pLCBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJkYXRhLWJsb2NrXCIsIGNoaWxkcmVuOiBbX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiaW5wdXRzLWJsb2NrXCIsIGNoaWxkcmVuOiBbX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiaW5wdXQtYmxvY2tcIiwgY2hpbGRyZW46IFtfanN4KFwibGFiZWxcIiwgeyBodG1sRm9yOiBcIm5hbWVcIiwgY2hpbGRyZW46IGxhbmcgPT09ICdlbicgPyAnWW91ciBuYW1lKicgOiAn0JLQsNGI0LUg0LjQvNGPKicgfSksIF9qc3goXCJpbnB1dFwiLCB7IGNsYXNzTmFtZTogXCJpbnB1dC1lbGVtZW50XCIsIGlkOiBcIm5hbWVcIiwgdHlwZTogXCJ0ZXh0XCIsIHJlcXVpcmVkOiB0cnVlLCBtaW46IDIsIG1heDogMjUsIHJlZjogX25hbWUsIHZhbHVlOiBvcmRlci5uYW1lLCBvbkNoYW5nZTogb25DaGFuZ2VUZXh0LCBvbktleURvd246IChlKSA9PiBmb2N1c05leHQoeyBlLCB0YXJnZXQ6IF9waG9uZS5jdXJyZW50IH0pIH0pXSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiaW5wdXQtYmxvY2tcIiwgY2hpbGRyZW46IFtfanN4KFwibGFiZWxcIiwgeyBodG1sRm9yOiBcInBob25lXCIsIGNoaWxkcmVuOiBsYW5nID09PSAnZW4nID8gJ1lvdXIgcGhvbmUnIDogJ9CS0LDRiCDRgtC10LvQtdGE0L7QvScgfSksIF9qc3goXCJpbnB1dFwiLCB7IGNsYXNzTmFtZTogXCJpbnB1dC1lbGVtZW50XCIsIGlkOiBcInBob25lXCIsIHR5cGU6IFwidGVsXCIsIG1pbjogNiwgbWF4OiAyNSwgcmVmOiBfcGhvbmUsIHZhbHVlOiBvcmRlci5waG9uZSwgb25DaGFuZ2U6IG9uQ2hhbmdlVGV4dCwgb25LZXlEb3duOiAoZSkgPT4gZm9jdXNOZXh0KHsgZSwgdGFyZ2V0OiBfZW1haWwuY3VycmVudCB9KSB9KV0gfSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImlucHV0LWJsb2NrXCIsIGNoaWxkcmVuOiBbX2pzeChcImxhYmVsXCIsIHsgaHRtbEZvcjogXCJlbWFpbFwiLCBjaGlsZHJlbjogbGFuZyA9PT0gJ2VuJyA/ICdZb3VyIGVtYWlsKicgOiAn0JLQsNGI0LUg0L/QvtGH0YLQsConIH0pLCBfanN4KFwiaW5wdXRcIiwgeyBjbGFzc05hbWU6IFwiaW5wdXQtZWxlbWVudFwiLCBpZDogXCJlbWFpbFwiLCB0eXBlOiBcImVtYWlsXCIsIHJlcXVpcmVkOiB0cnVlLCB2YWx1ZTogb3JkZXIuZW1haWwsIHJlZjogX2VtYWlsLCBvbkNoYW5nZTogb25DaGFuZ2VUZXh0LCBvbktleURvd246IChlKSA9PiBmb2N1c05leHQoeyBlLCB0YXJnZXQ6IF9tZXNzYWdlLmN1cnJlbnQgfSkgfSldIH0pLCBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJpbnB1dC1ibG9jayBtZXNzYWdlLWJsb2NrXCIsIGNoaWxkcmVuOiBbX2pzeChcImxhYmVsXCIsIHsgaHRtbEZvcjogXCJtZXNzYWdlXCIsIGNoaWxkcmVuOiBsYW5nID09PSAnZW4nID8gJ0luZm9ybWF0aW9uIGFib3V0IHRoZSBvcmRlciAoYXQgbGVhc3QgMTAgc3ltYm9scykqJyA6ICfQmNC90YTQvtGA0LzQsNGG0LjRjyDQviDQt9Cw0LrQsNC30LUgKNC80LjQvdC40LzRg9C8IDEwINGB0LjQvNCy0L7Qu9C+0LIpKicgfSksIF9qc3goXCJ0ZXh0YXJlYVwiLCB7IGNsYXNzTmFtZTogXCJpbnB1dC1lbGVtZW50XCIsIGlkOiBcIm1lc3NhZ2VcIiwgcmVxdWlyZWQ6IHRydWUsIG1pbkxlbmd0aDogMTAsIG1heExlbmd0aDogMTAwMCwgcmVmOiBfbWVzc2FnZSwgdmFsdWU6IG9yZGVyLm1lc3NhZ2UsIG9uQ2hhbmdlOiBvbkNoYW5nZVRleHQgfSldIH0pXSB9KSwgX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmaWxlcy1ibG9ja1wiLCBjaGlsZHJlbjogX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiaW5wdXQtYmxvY2sgZmlsZXNcIiwgY2hpbGRyZW46IFtfanN4KFwibGFiZWxcIiwgeyBodG1sRm9yOiBcImZpbGVzXCIsIGNoaWxkcmVuOiBsYW5nID09PSAnZW4nID8gJ0F0dGFjaCBmaWxlcycgOiAn0J/RgNC40LrRgNC10L/QuNGC0Ywg0YTQsNC50LvRiycgfSksIF9qc3goQWRkRmlsZXMsIHsgc2F2ZUZpbGVzOiBzYXZlRmlsZXMsIGxhbmc6IGxhbmcsIHJlZjogYWRkRmlsZXNSZWYgfSldIH0pIH0pXSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2FydC1jb250ZW50X19jb250YWluZXJcIiwgY2hpbGRyZW46IFtfanN4KFwiaDNcIiwgeyBjaGlsZHJlbjogbGFuZyA9PT0gJ2VuJyA/ICdZb3VyIGNhcnQnIDogJ9CS0LDRiNCwINC60L7RgNC30LjQvdCwJyB9KSwgX2pzeChDYXJ0Q29udGVudCwge30pXSB9KSwgX2pzeChcImJ1dHRvblwiLCB7IHR5cGU6IFwic3VibWl0XCIsIGRpc2FibGVkOiBjYXJ0LmRhdGFMb2FkaW5nLnN0YXR1cyAhPT0gJ3N1Y2Nlc3MnICYmIGZpYmVycy5kYXRhTG9hZGluZy5zdGF0dXMgIT09ICdzdWNjZXNzJyAmJiBjb2xvcnMuZGF0YUxvYWRpbmcuc3RhdHVzICE9PSAnc3VjY2VzcycgJiYgb3JkZXIuZGF0YVNlbmRpbmcuc3RhdHVzICE9PSAnc2VuZGluZycsIGNsYXNzTmFtZTogXCJidXR0b25fb3JkZXJcIiwgb25DbGljazogb25TdWJtaXQsIGNoaWxkcmVuOiBsYW5nID09PSAnZW4nID8gJ09yZGVyJyA6IFwi0J7RgtC/0YDQsNCy0LjRgtGMXCIgfSldIH0pIH0pXSB9KSB9KSB9KSwgX2pzeChNb2RhbCwgeyAuLi57IHZpc2libGU6IG1vZGFsLnZpc2libGUsIGNsb3NlOiBjbG9zZU1vZGFsLCBlc2NFeGl0OiB0cnVlIH0sIGNoaWxkcmVuOiBfanN4KE1lc3NhZ2VJbmZvLCB7IC4uLntcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBtZXNzYWdlLnN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiBtZXNzYWdlLmhlYWRlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogbWVzc2FnZS50ZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25UZXh0OiBsYW5nID09PSAnZW4nID8gJ0Nsb3NlJyA6IFwi0JfQsNC60YDRi9GC0YxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uQWN0aW9uOiBjbG9zZU1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgfSB9KSB9KV0gfSkpO1xyXG59O1xyXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGUpID0+ICh7XHJcbiAgICBsYW5nOiBzdGF0ZS5iYXNlLmxhbmcsXHJcbiAgICBvcmRlcjogc3RhdGUub3JkZXIsXHJcbiAgICBjYXJ0OiBzdGF0ZS5jYXJ0LFxyXG4gICAgY29sb3JzOiBzdGF0ZS5jb2xvcnMsXHJcbiAgICBmaWJlcnM6IHN0YXRlLmZpYmVycyxcclxufSk7XHJcbmNvbnN0IG1hcERpc3BhdGNoVG9Qcm9wcyA9IChkaXNwYXRjaCkgPT4gKHtcclxuICAgIHNldFN0YXRlOiB7XHJcbiAgICAgICAgb3JkZXI6IGJpbmRBY3Rpb25DcmVhdG9ycyhhY3Rpb25zTGlzdE9yZGVyLCBkaXNwYXRjaCksXHJcbiAgICAgICAgY29sb3JzOiBiaW5kQWN0aW9uQ3JlYXRvcnMoYWN0aW9uc0xpc3RDb2xvcnMsIGRpc3BhdGNoKSxcclxuICAgICAgICBmaWJlcnM6IGJpbmRBY3Rpb25DcmVhdG9ycyhhY3Rpb25zTGlzdEZpYmVycywgZGlzcGF0Y2gpLFxyXG4gICAgICAgIGNhcnQ6IGJpbmRBY3Rpb25DcmVhdG9ycyhhY3Rpb25zTGlzdENhcnQsIGRpc3BhdGNoKSxcclxuICAgIH1cclxufSk7XHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKE9yZGVyKTtcclxuIiwiaW1wb3J0IHsgYWN0aW9uc0xpc3RQcm9kdWN0IH0gZnJvbSAnLi9hY3Rpb25zTGlzdCc7XHJcbmltcG9ydCBtb2NrUHJvZHVjdHMgZnJvbSBcIi4uL21vY2tzL2NhdGFsb2dGdWxsXCI7XHJcbmV4cG9ydCBjb25zdCBzZXRMb2FkRGF0YVN0YXR1c1Byb2R1Y3QgPSAocGF5bG9hZCkgPT4gKHtcclxuICAgIHR5cGU6IGFjdGlvbnNMaXN0UHJvZHVjdC5TRVRfTE9BRF9EQVRBX1NUQVRVU19QUk9EVUNULFxyXG4gICAgcGF5bG9hZFxyXG59KTtcclxuZXhwb3J0IGNvbnN0IHNldFByb2R1Y3QgPSAocGF5bG9hZCkgPT4gKHtcclxuICAgIHR5cGU6IGFjdGlvbnNMaXN0UHJvZHVjdC5TRVRfREFUQV9QUk9EVUNULFxyXG4gICAgcGF5bG9hZFxyXG59KTtcclxuLypcclxuZXhwb3J0IGNvbnN0IHNldFNlbGVjdGVkSW1hZ2UgPSA8VCBleHRlbmRzIElQcm9kdWN0U3RhdGVbXCJzZWxlY3RlZEltYWdlXCJdPihwYXlsb2FkOiBUKTpJQWN0aW9uPFQ+ID0+ICh7XHJcbiAgICB0eXBlOiBhY3Rpb25zTGlzdFByb2R1Y3QuU0VUX1NFTEVDVEVEX0lNQUdFLFxyXG4gICAgcGF5bG9hZFxyXG59KTtcclxuKi9cclxuZXhwb3J0IGNvbnN0IGxvYWRQcm9kdWN0ID0gKGlkKSA9PiB7XHJcbiAgICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gKGRpc3BhdGNoKSB7XHJcbiAgICAgICAgZGlzcGF0Y2goc2V0TG9hZERhdGFTdGF0dXNQcm9kdWN0KHsgc3RhdHVzOiAnbG9hZGluZycsIG1lc3NhZ2U6IGBMb2FkaW5nIHByb2R1Y3QgJHtpZH1gIH0pKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3QgPSBtb2NrUHJvZHVjdHMuZmluZChwcm9kdWN0ID0+IHByb2R1Y3QuaWQgPT09IGlkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvZHVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgcHJvZHVjdCAke2lkfSBsb2FkZWRgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzKHByb2R1Y3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChyZWooeyBtZXNhc2FnZTogYHByb2R1Y3QgJHtpZH0gbm90IGZvdW5kYCB9KSk7XHJcbiAgICAgICAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICAgICAgfSkudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goc2V0UHJvZHVjdChkYXRhKSk7XHJcbiAgICAgICAgICAgICAgICBkaXNwYXRjaChzZXRMb2FkRGF0YVN0YXR1c1Byb2R1Y3QoeyBzdGF0dXM6ICdzdWNjZXNzJywgbWVzc2FnZTogYFByb2R1Y3QgaWQ9JHtpZH0gbG9hZGVkYCB9KSk7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICBkaXNwYXRjaChzZXRMb2FkRGF0YVN0YXR1c1Byb2R1Y3QoeyBzdGF0dXM6ICdlcnJvcicsIG1lc3NhZ2U6IGBFUlJPUiB3aGlsZSBsb2FkaW5nIHByb2R1Y3QgaWQ9JHtpZH06ICR7ZXJyfWAgfSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgZGlzcGF0Y2goc2V0TG9hZERhdGFTdGF0dXNQcm9kdWN0KHsgc3RhdHVzOiAnZXJyb3InLCBtZXNzYWdlOiBgRVJST1Igd2hpbGUgbG9hZGluZyBwcm9kdWN0IGlkPSR7aWR9OiAke2V9YCB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufTtcclxuIl0sIm5hbWVzIjpbInNyYyIsImFsdCIsImlkIiwibG9hZGVkIiwic2V0TG9hZGVkIiwidXNlU3RhdGUiLCJpbWciLCJ1c2VSZWYiLCJjaGlsZHJlbiIsInJlZiIsIm9uTG9hZCIsInN0eWxlIiwiZGlzcGxheSIsImlkSW5zdGFuY2UiLCJvbkNoYW5nZSIsImluaXRpYWxBbW91bnQiLCJsYW5nIiwicmVzZXQiLCJhbW91bnQiLCJzZXRBbW91bnQiLCJjaGFuZ2VBbW91bnQiLCJuZXdBbW91bnQiLCJhbW91bnRUb1NldCIsInVzZUVmZmVjdCIsImNsYXNzTmFtZSIsIm9uQ2xpY2siLCJlIiwicHJldmVudERlZmF1bHQiLCJvbkJsdXIiLCJvbkZvY3VzT3V0IiwiTnVtYmVyIiwidGFyZ2V0IiwidmFsdWUiLCJ0eXBlIiwicHJvcHMiLCJfY29udGFpbmVyIiwic2V0U3RhdHVzTG9hZGVkIiwiX2ltZyIsIkltYWdlIiwicGF0aCIsImN1cnJlbnQiLCJhcHBlbmRDaGlsZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVtb3ZlQ2hpbGQiLCJkZXNjciIsInN0YXR1cyIsImhlYWRlciIsInRleHQiLCJidXR0b25UZXh0IiwiYnV0dG9uQWN0aW9uIiwibWFwIiwiY3VycmVudFRleHQiLCJpbmRleCIsInZpc2libGUiLCJlc2NFeGl0IiwiY2xvc2UiLCJfbW9kYWwiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwibW9kYWxLZXlMaXN0ZW5lciIsImtleUNvZGUiLCJjcmVhdGVQb3J0YWwiLCJ3aWR0aCIsImhlaWdodCIsInZpZXdCb3giLCJmaWxsIiwieG1sbnMiLCJmaWxsUnVsZSIsInN0cm9rZSIsImNsaXBSdWxlIiwiZCIsInN0cm9rZVdpZHRoIiwic3Ryb2tlTGluZWNhcCIsInNldFNlbmREYXRhU3RhdHVzIiwicGF5bG9hZCIsImFjdGlvbnNMaXN0IiwiU0VUX1NFTkRfREFUQV9TVEFUVVNfT1JERVIiLCJyZW1vdmUiLCJjb25maXJtYXRpb24iLCJzZXRDb25maXJtYXRpb24iLCJ2ZXJzaW9uIiwieCIsInkiLCJlbmFibGVCYWNrZ3JvdW5kIiwic3RvcFByb3BhZ2F0aW9uIiwiYWN0aW9uc0NhcnRMaXN0IiwiY2hhbmdlSXRlbSIsImFjdGlvbnNMaXN0Q29sb3JzIiwibG9hZENvbG9ycyIsImFjdGlvbnNMaXN0RmliZXJzIiwibG9hZEZpYmVycyIsImFjdGlvbnNMaXN0UHJvZHVjdCIsInNldFByb2R1Y3QiLCJzdGF0ZSIsImNhcnQiLCJiYXNlIiwicHJvZHVjdCIsImNvbG9ycyIsImZpYmVycyIsImRpc3BhdGNoIiwic2V0U3RhdGUiLCJjYXJ0UmVhZHkiLCJzZXRDYXJ0UmVhZHkiLCJtb2RhbCIsInNldE1vZGFsIiwibW9kYWxJbWciLCJzZXRNb2RhbEltZyIsImRhdGFMb2FkaW5nIiwic2F2ZUNhcnQiLCJpdGVtcyIsImRlbGV0ZUl0ZW0iLCJpdGVtIiwicmVtb3ZlSXRlbSIsIm9uQW1vdW50Q2hhbmdlIiwibGVuZ3RoIiwiaSIsImZpYmVyIiwiZmliZXJzTGlzdCIsImZpbmQiLCJmaWJlckl0ZW0iLCJzaG9ydCIsIm5hbWUiLCJjb2xvciIsInRvIiwic2V0TG9hZERhdGFTdGF0dXNQcm9kdWN0IiwibWVzc2FnZSIsIm9uUHJvZHVjdENsaWNrIiwiSW1nV2l0aFByZWxvYWRlciIsImltZ3MiLCJ1cmwiLCJvbkltYWdlQ2xpY2siLCJBbW91bnRDaGFuZ2VyIiwiTW9kYWwiLCJmb3J3YXJkUmVmIiwic2F2ZUZpbGVzIiwidXNlSW1wZXJhdGl2ZUhhbmRsZSIsImNsZWFyQXR0YWNoZWRGaWxlcyIsInNldEZpbGVzIiwiX2Ryb3BBcmVhIiwiX2ZpbGVzIiwiX2ZpbGVzR2FsbGVyeSIsImRyYWdDb3VudGVyIiwiZmlsZXMiLCJwcmV2ZW50RGVmYXVsdHMiLCJkcmFnRW50ZXIiLCJjbGFzc0xpc3QiLCJhZGQiLCJkcmFnT3ZlciIsImRyYWdMZWF2ZSIsImRyYWdEcm9wIiwicHJldiIsImRhdGFUcmFuc2ZlciIsImFycmF5T2ZGaWxlcyIsImlubmVySFRNTCIsImltYWdlVHlwZXMiLCJyZWR1Y2UiLCJhc3luYyIsImFjYyIsImN1cnJlbnRGaWxlIiwiUHJvbWlzZSIsInJlcyIsInRoZW4iLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwicmVhZEFzRGF0YVVSTCIsIm9ubG9hZGVuZCIsIl9jb250YWluZXJPYmoiLCJjcmVhdGVFbGVtZW50IiwiX2NvbnRhaW5lckltZyIsIl9kZXNjciIsImluY2x1ZGVzIiwic3BsaXQiLCJwb3AiLCJyZXN1bHQiLCJpbm5lclRleHQiLCJyZXNvbHZlIiwicHJldmlld0ZpbGVzIiwiaHRtbEZvciIsIm11bHRpcGxlIiwiYWN0aW9uc0xpc3RPcmRlciIsInNldE5hbWUiLCJTRVRfT1JERVJfTkFNRSIsIlNFVF9PUkRFUl9FTUFJTCIsIlNFVF9PUkRFUl9QSE9ORSIsIlNFVF9PUkRFUl9NRVNTQUdFIiwiQ0xFQVJfT1JERVJfRklMRVMiLCJDTEVBUl9PUkRFUl9GT1JNIiwiQUREX09SREVSX0ZJTEVTIiwiZmlsZXNBcnIiLCJpbmZvcm1lciIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2hhdF9pZCIsIm9rIiwiZGF0YSIsImNhdGNoIiwiZXJyIiwiZmlsZSIsImVuIiwicnUiLCJyZWoiLCJ0aW1lU3RhcnQiLCJEYXRlIiwibm93IiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsIm9wdGlvbnMiLCJ0cmFuc2l0aW9uU2VuZGluZyIsInNldFRpbWVvdXQiLCJlcnJvciIsImFjdGlvbnNMaXN0Q2FydCIsImNsZWFyQ2FydCIsIm9yZGVyIiwiX25hbWUiLCJfZW1haWwiLCJfcGhvbmUiLCJfbWVzc2FnZSIsImFkZEZpbGVzUmVmIiwic2V0TWVzc2FnZSIsImNsb3NlTW9kYWwiLCJkYXRhU2VuZGluZyIsImNsZWFyRmlsZXMiLCJjbGVhckZvcm0iLCJmb2N1c05leHQiLCJrZXkiLCJmb2N1cyIsIm9uQ2hhbmdlVGV4dCIsInNldFBob25lIiwic2V0RW1haWwiLCJwYXJlbnRFbGVtZW50IiwiY2xlYXJFcnJvciIsInJlcXVpcmVkIiwibWluIiwibWF4Iiwib25LZXlEb3duIiwicGhvbmUiLCJlbWFpbCIsIm1pbkxlbmd0aCIsIm1heExlbmd0aCIsImFkZEZpbGVzIiwiZGlzYWJsZWQiLCJjdXJyZW50RGF0ZSIsImZlaWxkc1RvQ2hlY2siLCJpc1dyb25nIiwiZm9yRWFjaCIsImZpZWxkIiwiY2hlY2tWYWxpZGl0eSIsImNvbmNhdCIsImNoZWNrRXJyb3JzIiwidGV4dENhcnQiLCJ0ZXh0T3JkZXIiLCJ0b0lTT1N0cmluZyIsInNsaWNlIiwic2VuZE9yZGVyIiwiTWVzc2FnZUluZm8iLCJTRVRfTE9BRF9EQVRBX1NUQVRVU19QUk9EVUNUIiwiU0VUX0RBVEFfUFJPRFVDVCIsImxvYWRQcm9kdWN0IiwibWVzYXNhZ2UiXSwic291cmNlUm9vdCI6IiJ9