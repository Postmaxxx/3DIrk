(self.webpackChunk_3dprint=self.webpackChunk_3dprint||[]).push([[322],{7123:(e,s,t)=>{"use strict";var a=t(5893),r=t(7294),n=t(8840);s.Z=({src:e,alt:s,id:t})=>{const[i,l]=(0,r.useState)(!1),c=(0,r.useRef)(null);return(0,a.jsxs)(a.Fragment,{children:[i||(0,a.jsx)(n.Z,{}),(0,a.jsx)("img",{ref:c,src:e,alt:s,onLoad:()=>{l(!0)},style:{display:i?"block":"none"},id:t})]})}},1611:(e,s,t)=>{"use strict";var a=t(5893),r=t(7294);s.Z=({idInstance:e,onChange:s,initialAmount:t,lang:n,reset:i})=>{const[l,c]=(0,r.useState)(t),d=t=>{const a=t>=0?t:0;c(a),s(e,a)};return(0,r.useEffect)((()=>{i&&(c(i.amount),s(e,i.amount))}),[i]),(0,a.jsxs)("div",{className:"amount__changer",children:[(0,a.jsx)("button",{className:l<=1?"disabled":"","aria-label":"Decrease amount",onClick:e=>{e.preventDefault(),l>1&&d(l>2?l-1:1)},children:"–"}),(0,a.jsx)("input",{onBlur:t=>(t=>{const a=t>0?t:1;c(a),s(e,a)})(Number(t.target.value)),type:"text",value:l,onChange:e=>{e.preventDefault(),d(Number(e.target.value))},"aria-label":"en"===n?"Enter amount":"Введите количество"}),(0,a.jsx)("button",{"aria-label":"Increase amount",onClick:e=>{e.preventDefault(),d(l+1)},children:"+"})]})}},4378:(e,s,t)=>{"use strict";var a=t(5893),r=t(7294),n=t(8840);s.Z=({props:e})=>{const[s,t]=(0,r.useState)(!1),i=(0,r.useRef)(null),l=()=>{t(!0)};return(0,r.useEffect)((()=>{const s=new Image;return s.src=e.path,i.current?.appendChild(s),s.addEventListener("load",l),t(!1),()=>{s.removeEventListener("load",l),i.current?.removeChild(s)}}),[e.path]),(0,a.jsxs)("div",{className:"message_image__container",children:[(0,a.jsx)("div",{className:"img__wrapper",ref:i,children:!s&&(0,a.jsx)(n.Z,{})}),(0,a.jsx)("div",{className:"descr__container",children:(0,a.jsx)("span",{children:e.descr})})]})}},7703:(e,s,t)=>{"use strict";var a=t(5893),r=t(7294);s.Z=({status:e,header:s,text:t,buttonText:n,buttonAction:i})=>((0,r.useEffect)((()=>{}),[]),(0,a.jsxs)("div",{className:`message_info__container ${e}`,children:[(0,a.jsx)("h3",{children:s}),(0,a.jsx)("div",{className:"text-block",children:t.map(((e,s)=>(0,a.jsx)("p",{children:e},s)))}),(0,a.jsx)("button",{onClick:i,children:n})]}))},4915:(e,s,t)=>{"use strict";var a=t(5893),r=t(3935),n=t(7294);s.Z=({visible:e,escExit:s,close:t,children:i})=>{const l=document.getElementById("modal"),c=e=>{s&&27===e.keyCode&&t()};return(0,n.useEffect)((()=>(document.addEventListener("keyup",c),()=>{document.removeEventListener("keyup",c)})),[]),l?(0,r.createPortal)((0,a.jsxs)("div",{className:e?"modal-window visible":"modal-window",children:[(0,a.jsx)("button",{className:"closer","aria-label":"close | закрыть",onClick:t,children:(0,a.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{fillRule:"evenodd",stroke:"#979797",clipRule:"evenodd",d:"M16 31C24.2843 31 31 24.2843 31 16C31 7.71573 24.2843 1 16 1C7.71573 1 1 7.71573 1 16C1 24.2843 7.71573 31 16 31Z",strokeWidth:"2"}),(0,a.jsx)("path",{d:"M9 9L24 24",strokeWidth:"2",strokeLinecap:"square"}),(0,a.jsx)("path",{d:"M8.49512 23.4586L24.5049 9.54144",strokeWidth:"2",strokeLinecap:"square"})]})}),(0,a.jsx)("div",{className:"content",children:e?i:null})]}),l):(0,a.jsx)("div",{className:"modal-window_absence",children:"Node for Modal Windows was not found"})}},7322:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>R});var a=t(5893),r=t(7294),n=t(9250),i=t(8840),l=t(4791),c=t(6113),d=t(8595),o=t(7123),u=t(1043),h=t(4915),p=t(4378);const m={loadProduct:u.LX};var x=(0,c.$j)((e=>({product:e.product,lang:e.base.lang})),(e=>({setState:{product:(0,l.DE)(m,e)}})))((({lang:e,product:s,setState:t})=>{const n=(0,r.useRef)(null),i=(0,r.useRef)(null),l=(0,r.useRef)(),c=(0,r.useRef)(),[u,m]=(0,r.useState)({visible:!1}),x={lazyLoad:!1,perPage:5,gap:"5%",rewind:!1,pagination:!1,isNavigation:!0,focus:"center",direction:"ltr",wheel:!0,releaseWheel:!0,height:"100%",breakpoints:{1600:{perPage:5},1241:{perPage:5},992:{perPage:4},768:{perPage:3,direction:"ltr",height:"auto",gap:"5%"},480:{perPage:3}}},g={lazyLoad:!0,type:"fade",rewind:!1,pagination:!1,speed:500,wheel:!1,wheelSleep:300,breakpoints:{768:{wheel:!1}}};return(0,r.useEffect)((()=>{if(i.current&&n.current)return c.current=new d.ZP(i.current,x),l.current=new d.ZP(n.current,g),l.current.sync(c.current),l.current.mount(),c.current.mount(),()=>{c.current?.destroy(),l.current?.destroy()}}),[]),(0,a.jsxs)("div",{className:"splider_preview",children:[(0,a.jsx)("div",{id:"modalMain",className:"splide",ref:n,children:(0,a.jsx)("div",{className:"splide__track",children:(0,a.jsx)("ul",{className:"splide__list",children:s.imgs.map(((s,t)=>(0,a.jsx)("li",{className:"splide__slide",onClick:()=>{m({visible:!0})},children:(0,a.jsx)(o.Z,{src:s.url,alt:s.name[e]})},t)))})})}),(0,a.jsx)("div",{id:"modalThumbs",className:"splide",ref:i,children:(0,a.jsx)("div",{className:"splide__track",children:(0,a.jsx)("ul",{className:"splide__list",children:s.imgs.map(((s,t)=>(0,a.jsx)("li",{className:"splide__slide",children:(0,a.jsx)(o.Z,{src:s.url,alt:s.name[e]})},t)))})})}),(0,a.jsx)(h.Z,{visible:u.visible,close:()=>{m({visible:!1})},escExit:!0,children:(0,a.jsx)(p.Z,{props:{path:s.imgs[l.current?.index||0].url,descr:s.imgs[l.current?.index||0].name[e]}})})]})})),g=t(2886),j=t(3419),v=t(5707),f=t(7703),b=t(1611),_=t(6104);const N={addItem:v.jX,saveCart:v.FP};var S=(0,c.$j)((e=>({cart:e.cart,lang:e.base.lang})),(e=>({setState:{cart:(0,l.DE)(N,e)}})))((({product:e,type:s,fiber:t,color:n,lang:i,cart:l,setState:c})=>{const[d,o]=(0,r.useState)(1),[u,p]=(0,r.useState)({visible:!1}),[m,x]=(0,r.useState)({header:"",status:"",text:[]}),[g,j]=(0,r.useState)({amount:1}),v=()=>{p({visible:!1})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"cart-adder",children:[(0,a.jsxs)("span",{children:["en"===i?"Amount":"Количество",": "]}),(0,a.jsx)("div",{className:"amount-changer__container",children:(0,a.jsx)(b.Z,{idInstance:e.id,initialAmount:d,reset:g,lang:i,onChange:(e,s)=>{o(s)}})}),(0,a.jsx)("button",{className:"button_news",title:"Add to cart",onClick:()=>{const a=[];if(!n&&a.push("en"===i?"Please choose the color":"Пожалуйста, выберите цвет"),!t&&a.push("en"===i?"Please choose the fiber":"Пожалуйста, выберите материал"),!s&&a.push("en"===i?"Please choose the type":"Пожалуйста, выберите версию"),!d&&a.push("en"===i?"Please set the amount":"Пожалуйста, укажите количество"),n&&t&&s&&d){const a={product:e,fiber:t,color:n,amount:d,type:s,id:_()};c.cart.addItem(a),c.cart.saveCart([...l.items,a]),j({amount:1});const r=l.items.reduce(((e,s)=>e+s.amount),0)+d;x({status:"success",header:"en"===i?"Added":"Добавлено",text:"en"===i?["This item has been added to your сart.",`You now have ${r} item${r>1?"s":""} in your сart`]:["Этот товар был успешно добавлен в Вашу корзину.",`Сейчас у Вас товаров в корзине: ${r}`]})}else x({status:"error",header:"en"===i?"Error":"Ошибка",text:a});p({visible:!0})},children:"en"===i?"Add to cart":"Добавить в корзину"})]}),(0,a.jsx)(h.Z,{visible:u.visible,close:v,escExit:!0,children:(0,a.jsx)(f.Z,{status:m.status,header:m.header,text:m.text,buttonText:"en"===i?"Close":"Закрыть",buttonAction:v})})]})})),w=t(9655);var C=({lang:e,colors:s,onSelect:t})=>{const[n,i]=(0,r.useState)(),[l,c]=(0,r.useState)(!1),[d,o]=(0,r.useState)({visible:!1}),[u,m]=(0,r.useState)({descr:"",path:""});return(0,a.jsxs)("div",{className:"color-picker "+(l?"expanded":""),children:[(0,a.jsx)("div",{className:"option current",onClick:()=>{c((e=>!e))},children:n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"img__container",children:(0,a.jsx)("img",{src:n.url,alt:n.name[e]})}),(0,a.jsx)("span",{children:n.name[e]})]}):(0,a.jsxs)("span",{children:["en"===e?"Choose the fiber before":"Сначала выберите материал"," "]})}),(0,a.jsx)("div",{className:"list",children:s.map((r=>(0,a.jsxs)("div",{className:"option",onClick:()=>{return e=r.id,i(s.find((s=>s.id===e))),c(!1),void t(e);var e},children:[(0,a.jsx)("div",{className:"img__container",children:(0,a.jsx)("img",{src:r.url,alt:r.name[e]})}),(0,a.jsx)("span",{children:r.name[e]}),(0,a.jsx)("span",{onClick:s=>((s,t)=>{s.stopPropagation(),m({descr:t.name[e],path:t.url}),o({visible:!0})})(s,r),children:"en"===e?"(details)":"(смотреть)"})]},r.id)))}),(0,a.jsx)(h.Z,{visible:d.visible,close:()=>{o({visible:!1})},escExit:!0,children:(0,a.jsx)(p.Z,{props:{path:u.path,descr:u.descr}})})]})};const L={loadProduct:u.LX},E={loadColors:j.Uf},y={loadFibers:g.il};var k=(0,c.$j)((e=>({lang:e.base.lang,selectedCategory:e.catalog.selectedCategory,categories:e.catalog.categories,selectedProduct:e.catalog.selectedProduct,product:e.product,colors:e.colors,fibers:e.fibers})),(e=>({setState:{product:(0,l.DE)(L,e),colors:(0,l.DE)(E,e),fibers:(0,l.DE)(y,e)}})))((({lang:e,setState:s,product:t,colors:n,fibers:i})=>{const[l,c]=(0,r.useState)([]),[d,o]=(0,r.useState)(),[u,h]=(0,r.useState)(""),[p,m]=(0,r.useState)(void 0),x=(0,r.useRef)(null);return(0,r.useEffect)((()=>{"success"===n.dataLoading.status&&"success"===i.dataLoading.status&&"success"===t.dataLoading.status&&c(t.fibers.map((e=>i.fibersList.find((s=>s.id===e)))).filter((e=>void 0!==e?.id)))}),[i.dataLoading.status,n.dataLoading.status,t.dataLoading.status]),(0,a.jsxs)("div",{className:"details__descr",children:[(0,a.jsxs)("h2",{children:["en"===e?"Features":"Характеристики",":"]}),(0,a.jsxs)("div",{className:"features__container",children:[(0,a.jsxs)("div",{className:"feature",children:[(0,a.jsxs)("span",{children:["en"===e?"Description":"Описание",": "]}),t.text[e].map(((e,s)=>(0,a.jsx)("p",{children:e.part},s)))]}),t.features.map(((s,t)=>(0,a.jsxs)("div",{className:"feature",children:[(0,a.jsxs)("span",{children:[s.name[e],": "]}),(0,a.jsx)("span",{children:s.value[e]})]},t))),(0,a.jsxs)("div",{className:"feature",children:[(0,a.jsxs)("span",{children:["en"===e?"Price":"Цена",": "]}),(0,a.jsx)("span",{children:t.price[e]})]}),t.mods.length>0?(0,a.jsxs)("div",{className:"feature wrap_xs",children:[(0,a.jsxs)("label",{htmlFor:"type",children:["en"===e?"Version":"Версия",":"]}),(0,a.jsxs)("select",{id:"type",ref:x,defaultValue:"-1",onChange:e=>{m(t.mods[Number(e.target.value)])},children:[(0,a.jsx)("option",{value:"-1",disabled:!0,hidden:!0,children:"en"===e?"Select type":"Выберите тип"},-1),t.mods.map(((s,t)=>(0,a.jsx)("option",{value:t,children:s[e]},t)))]})]}):null,(0,a.jsxs)("div",{className:"feature wrap_xs",children:[(0,a.jsx)("label",{htmlFor:"fiber",children:d?(0,a.jsxs)(w.OL,{to:`../../fibers/${d.id}`,"aria-label":"en"===e?"(About selected fiber)":" (О выбранном материале)",children:["en"===e?"Fiber":"Материал",":"]}):(0,a.jsxs)(a.Fragment,{children:["en"===e?"Fiber":"Материал",":"]})}),(0,a.jsxs)("select",{id:"fiber",onChange:e=>{o(i.fibersList.find((s=>s.id===e.target.value))),h("")},defaultValue:"",children:[(0,a.jsx)("option",{disabled:!0,hidden:!0,value:"",children:"en"===e?"Select fiber":"Выберите материал"},-1),l.map(((s,t)=>(0,a.jsx)("option",{value:s.id,children:s.short.name[e]},t)))]})]}),(0,a.jsxs)("div",{className:"colors__container wrap_xs",children:[(0,a.jsxs)("span",{children:["en"===e?"Available colors":"Доступные цвета",": "]}),(0,a.jsx)("div",{className:"colors__wrapper",children:(0,a.jsx)(C,{lang:e,colors:n.colors.filter((e=>d?.colors.includes(e.id))),onSelect:e=>{h(e)}})})]})]}),(0,a.jsx)(S,{product:t,type:t.mods.length>0?p:{en:"-",ru:"-"},fiber:d?.id,color:u})]})}));const P={loadProduct:u.LX},Z={loadColors:j.Uf},D={loadFibers:g.il};var R=(0,c.$j)((e=>({lang:e.base.lang,selectedCategory:e.catalog.selectedCategory,categories:e.catalog.categories,product:e.product,colors:e.colors,fibers:e.fibers})),(e=>({setState:{product:(0,l.DE)(P,e),colors:(0,l.DE)(Z,e),fibers:(0,l.DE)(D,e)}})))((({lang:e,setState:s,product:t,colors:l,fibers:c})=>{const d=(0,n.UO)().productId||"",[o,u]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{d!==t.id&&(s.product.loadProduct(d),u(!1))}),[]),(0,r.useEffect)((()=>{"idle"===c.dataLoading.status&&(s.fibers.loadFibers(),u(!1))}),[c.dataLoading.status]),(0,r.useEffect)((()=>{"idle"===l.dataLoading.status&&(s.colors.loadColors(),u(!1))}),[l.dataLoading.status]),(0,r.useEffect)((()=>{"success"===l.dataLoading.status&&"success"===c.dataLoading.status&&"success"===t.dataLoading.status&&u(!0)}),[c.dataLoading.status,l.dataLoading.status,t.dataLoading.status]),(0,a.jsx)("div",{className:"page page_product-details",children:(0,a.jsx)("div",{className:"container_page",children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("h1",{children:t.name[e]}),o?(0,a.jsxs)("div",{className:"details__block",children:[(0,a.jsx)("div",{className:"details__splider",children:(0,a.jsx)(x,{})}),(0,a.jsx)("div",{className:"details__descr-order",children:(0,a.jsx)(k,{})})]}):(0,a.jsx)(i.Z,{})]})})})}))},1043:(e,s,t)=>{"use strict";t.d(s,{Gr:()=>i,KT:()=>n,LX:()=>l});var a=t(9590),r=t(7820);const n=e=>({type:a.EH.SET_LOAD_DATA_STATUS_PRODUCT,payload:e}),i=e=>({type:a.EH.SET_DATA_PRODUCT,payload:e}),l=e=>async function(s){s(n({status:"loading",message:`Loading product ${e}`}));try{new Promise(((s,t)=>{setTimeout((()=>{const a=r.Z.find((s=>s.id===e));a?s(a):t({mesasage:`product ${e} not found`})}),1e3)})).then((t=>{s(i(t)),s(n({status:"success",message:`Product id=${e} loaded`}))})).catch((t=>{s(n({status:"error",message:`ERROR while loading product id=${e}: ${t}`}))}))}catch(t){s(n({status:"error",message:`ERROR while loading product id=${e}: ${t}`}))}}},6104:e=>{var s="undefined"!=typeof process&&process.pid?process.pid.toString(36):"";function t(){var e=Date.now(),s=t.last||e;return t.last=e>s?e:s+1}e.exports=e.exports.default=function(e,a){return(e||"")+""+s+t().toString(36)+(a||"")},e.exports.process=function(e,a){return(e||"")+s+t().toString(36)+(a||"")},e.exports.time=function(e,s){return(e||"")+t().toString(36)+(s||"")}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQUlzTCxFQUF5QixvQkFBWkMsU0FBMkJBLFFBQVFELElBQU1DLFFBQVFELElBQUlFLFNBQVMsSUFBTSxHQTRCckYsU0FBU0MsSUFDTCxJQUFJQyxFQUFPQyxLQUFLRixNQUNaRyxFQUFPSCxFQUFJRyxNQUFRRixFQUN2QixPQUFPRCxFQUFJRyxLQUFPRixFQUFPRSxFQUFPRixFQUFPRSxFQUFPLENBQ2xELENBVkFDLEVBQU9DLFFBQVVELEVBQU9DLFFBQVAsUUFBeUIsU0FBU0MsRUFBUUMsR0FBUyxPQUFRRCxHQUFrQixJQXJCaEYsR0FxQmdHVCxFQUFNRyxJQUFNRCxTQUFTLEtBQU9RLEdBQWtCLEdBQUssRUFDaktILEVBQU9DLFFBQVFQLFFBQVUsU0FBU1EsRUFBUUMsR0FBUyxPQUFRRCxHQUFrQixJQUFNVCxFQUFNRyxJQUFNRCxTQUFTLEtBQU9RLEdBQWtCLEdBQUssRUFDdElILEVBQU9DLFFBQVFKLEtBQVUsU0FBU0ssRUFBUUMsR0FBUyxPQUFRRCxHQUFrQixJQUFNTixJQUFNRCxTQUFTLEtBQU9RLEdBQWtCLEdBQUssQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9hc3NldHMvanMvSW1nV2l0aFByZWxvYWRlci50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQW1vdW50Q2hhbmdlci9BbW91bnRDaGFuZ2VyLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9NZXNzYWdlSW1hZ2UvTWVzc2FnZUltYWdlLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9NZXNzYWdlSW5mby9NZXNzYWdlSW5mby50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvTW9kYWwvTW9kYWwudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1NwbGlkZXJzL1ByZXZpZXcvU3BsaWRlclByZXZpZXcudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0FkZFRvQ2FydC9BZGRUb0NhcnQudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3RpbnkvQ29sb3JQaWNrZXIvQ29sb3JQaWNrZXIudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1Byb2R1Y3REZXRhaWxzL1Byb2R1Y3REZXRhaWxzLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvUHJvZHVjdC9Qcm9kdWN0LnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvcmVkdXgvYWN0aW9ucy9wcm9kdWN0LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmlxaWQvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsganN4IGFzIF9qc3gsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xyXG5pbXBvcnQgeyB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCBQcmVsb2FkZXIgZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvUHJlbG9hZGVycy9QcmVsb2FkZXJcIjtcclxuY29uc3QgSW1nV2l0aFByZWxvYWRlciA9ICh7IHNyYywgYWx0LCBpZCB9KSA9PiB7XHJcbiAgICBjb25zdCBbbG9hZGVkLCBzZXRMb2FkZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gICAgY29uc3QgaW1nID0gdXNlUmVmKG51bGwpO1xyXG4gICAgY29uc3QgaGFzTG9hZGVkID0gKCkgPT4ge1xyXG4gICAgICAgIHNldExvYWRlZCh0cnVlKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gKF9qc3hzKF9GcmFnbWVudCwgeyBjaGlsZHJlbjogW2xvYWRlZCB8fCBfanN4KFByZWxvYWRlciwge30pLCBfanN4KFwiaW1nXCIsIHsgcmVmOiBpbWcsIHNyYzogc3JjLCBhbHQ6IGFsdCwgb25Mb2FkOiBoYXNMb2FkZWQsIHN0eWxlOiB7IGRpc3BsYXk6IGxvYWRlZCA/IFwiYmxvY2tcIiA6IFwibm9uZVwiIH0sIGlkOiBpZCB9KV0gfSkpO1xyXG59O1xyXG5leHBvcnQgZGVmYXVsdCBJbWdXaXRoUHJlbG9hZGVyO1xyXG4iLCJpbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xyXG5pbXBvcnQgJy4vYW1vdW50LWNoYW5nZXIuc2Nzcyc7XHJcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcclxuY29uc3QgQW1vdW50Q2hhbmdlciA9ICh7IGlkSW5zdGFuY2UsIG9uQ2hhbmdlLCBpbml0aWFsQW1vdW50LCBsYW5nLCByZXNldCB9KSA9PiB7XHJcbiAgICBjb25zdCBbYW1vdW50LCBzZXRBbW91bnRdID0gdXNlU3RhdGUoaW5pdGlhbEFtb3VudCk7XHJcbiAgICBjb25zdCBjaGFuZ2VBbW91bnQgPSAobmV3QW1vdW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgYW1vdW50VG9TZXQgPSBuZXdBbW91bnQgPj0gMCA/IG5ld0Ftb3VudCA6IDA7XHJcbiAgICAgICAgc2V0QW1vdW50KGFtb3VudFRvU2V0KTtcclxuICAgICAgICBvbkNoYW5nZShpZEluc3RhbmNlLCBhbW91bnRUb1NldCk7XHJcbiAgICB9O1xyXG4gICAgY29uc3Qgb25Gb2N1c091dCA9IChuZXdBbW91bnQpID0+IHtcclxuICAgICAgICBjb25zdCBhbW91bnRUb1NldCA9IG5ld0Ftb3VudCA+IDAgPyBuZXdBbW91bnQgOiAxO1xyXG4gICAgICAgIHNldEFtb3VudChhbW91bnRUb1NldCk7XHJcbiAgICAgICAgb25DaGFuZ2UoaWRJbnN0YW5jZSwgYW1vdW50VG9TZXQpO1xyXG4gICAgfTtcclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlc2V0KSB7XHJcbiAgICAgICAgICAgIHNldEFtb3VudChyZXNldC5hbW91bnQpO1xyXG4gICAgICAgICAgICBvbkNoYW5nZShpZEluc3RhbmNlLCByZXNldC5hbW91bnQpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIFtyZXNldF0pO1xyXG4gICAgcmV0dXJuIChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJhbW91bnRfX2NoYW5nZXJcIiwgY2hpbGRyZW46IFtfanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBhbW91bnQgPD0gMSA/IFwiZGlzYWJsZWRcIiA6ICcnLCBcImFyaWEtbGFiZWxcIjogJ0RlY3JlYXNlIGFtb3VudCcsIG9uQ2xpY2s6IChlKSA9PiB7IGUucHJldmVudERlZmF1bHQoKTsgYW1vdW50ID4gMSAmJiBjaGFuZ2VBbW91bnQoYW1vdW50ID4gMiA/IGFtb3VudCAtIDEgOiAxKTsgfSwgY2hpbGRyZW46IFwiXFx1MjAxM1wiIH0pLCBfanN4KFwiaW5wdXRcIiwgeyBvbkJsdXI6IChlKSA9PiBvbkZvY3VzT3V0KE51bWJlcihlLnRhcmdldC52YWx1ZSkpLCB0eXBlOiBcInRleHRcIiwgdmFsdWU6IGFtb3VudCwgb25DaGFuZ2U6IChlKSA9PiB7IGUucHJldmVudERlZmF1bHQoKTsgY2hhbmdlQW1vdW50KE51bWJlcihlLnRhcmdldC52YWx1ZSkpOyB9LCBcImFyaWEtbGFiZWxcIjogbGFuZyA9PT0gJ2VuJyA/IFwiRW50ZXIgYW1vdW50XCIgOiAn0JLQstC10LTQuNGC0LUg0LrQvtC70LjRh9C10YHRgtCy0L4nIH0pLCBfanN4KFwiYnV0dG9uXCIsIHsgXCJhcmlhLWxhYmVsXCI6ICdJbmNyZWFzZSBhbW91bnQnLCBvbkNsaWNrOiAoZSkgPT4geyBlLnByZXZlbnREZWZhdWx0KCk7IGNoYW5nZUFtb3VudChhbW91bnQgKyAxKTsgfSwgY2hpbGRyZW46IFwiK1wiIH0pXSB9KSk7XHJcbn07XHJcbmV4cG9ydCBkZWZhdWx0IEFtb3VudENoYW5nZXI7XHJcbiIsImltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XHJcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFwiLi9tZXNzYWdlX2ltYWdlLnNjc3NcIjtcclxuaW1wb3J0IFByZWxvYWRlciBmcm9tICcuLi9QcmVsb2FkZXJzL1ByZWxvYWRlcic7XHJcbmNvbnN0IE1vZGFsSW1hZ2UgPSAoeyBwcm9wcyB9KSA9PiB7XHJcbiAgICBjb25zdCBbbG9hZGVkLCBzZXRMb2FkZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gICAgY29uc3QgX2NvbnRhaW5lciA9IHVzZVJlZihudWxsKTtcclxuICAgIGNvbnN0IHNldFN0YXR1c0xvYWRlZCA9ICgpID0+IHtcclxuICAgICAgICBzZXRMb2FkZWQodHJ1ZSk7XHJcbiAgICB9O1xyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBjb25zdCBfaW1nID0gbmV3IEltYWdlO1xyXG4gICAgICAgIF9pbWcuc3JjID0gcHJvcHMucGF0aDtcclxuICAgICAgICBfY29udGFpbmVyLmN1cnJlbnQ/LmFwcGVuZENoaWxkKF9pbWcpO1xyXG4gICAgICAgIF9pbWcuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHNldFN0YXR1c0xvYWRlZCk7XHJcbiAgICAgICAgc2V0TG9hZGVkKGZhbHNlKTtcclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBfaW1nLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBzZXRTdGF0dXNMb2FkZWQpO1xyXG4gICAgICAgICAgICBfY29udGFpbmVyLmN1cnJlbnQ/LnJlbW92ZUNoaWxkKF9pbWcpO1xyXG4gICAgICAgIH07XHJcbiAgICB9LCBbcHJvcHMucGF0aF0pO1xyXG4gICAgcmV0dXJuIChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJtZXNzYWdlX2ltYWdlX19jb250YWluZXJcIiwgY2hpbGRyZW46IFtfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImltZ19fd3JhcHBlclwiLCByZWY6IF9jb250YWluZXIsIGNoaWxkcmVuOiAhbG9hZGVkICYmIF9qc3goUHJlbG9hZGVyLCB7fSkgfSksIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZGVzY3JfX2NvbnRhaW5lclwiLCBjaGlsZHJlbjogX2pzeChcInNwYW5cIiwgeyBjaGlsZHJlbjogcHJvcHMuZGVzY3IgfSkgfSldIH0pKTtcclxufTtcclxuZXhwb3J0IGRlZmF1bHQgTW9kYWxJbWFnZTtcclxuIiwiaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcclxuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgXCIuL21lc3NhZ2VfaW5mby5zY3NzXCI7XHJcbmNvbnN0IE1lc3NhZ2VJbmZvID0gKHsgc3RhdHVzLCBoZWFkZXIsIHRleHQsIGJ1dHRvblRleHQsIGJ1dHRvbkFjdGlvbiB9KSA9PiB7XHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgfSwgW10pO1xyXG4gICAgcmV0dXJuIChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogYG1lc3NhZ2VfaW5mb19fY29udGFpbmVyICR7c3RhdHVzfWAsIGNoaWxkcmVuOiBbX2pzeChcImgzXCIsIHsgY2hpbGRyZW46IGhlYWRlciB9KSwgX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LWJsb2NrXCIsIGNoaWxkcmVuOiB0ZXh0Lm1hcCgoY3VycmVudFRleHQsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9qc3goXCJwXCIsIHsgY2hpbGRyZW46IGN1cnJlbnRUZXh0IH0sIGluZGV4KTtcclxuICAgICAgICAgICAgICAgIH0pIH0pLCBfanN4KFwiYnV0dG9uXCIsIHsgb25DbGljazogYnV0dG9uQWN0aW9uLCBjaGlsZHJlbjogYnV0dG9uVGV4dCB9KV0gfSkpO1xyXG59O1xyXG5leHBvcnQgZGVmYXVsdCBNZXNzYWdlSW5mbztcclxuIiwiaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcclxuaW1wb3J0ICcuL21vZGFsLnNjc3MnO1xyXG5pbXBvcnQgeyBjcmVhdGVQb3J0YWwgfSBmcm9tICdyZWFjdC1kb20nO1xyXG5pbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbmNvbnN0IE1vZGFsID0gKHsgdmlzaWJsZSwgZXNjRXhpdCwgY2xvc2UsIGNoaWxkcmVuIH0pID0+IHtcclxuICAgIGNvbnN0IF9tb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbCcpO1xyXG4gICAgY29uc3QgbW9kYWxLZXlMaXN0ZW5lciA9IChlKSA9PiB7XHJcbiAgICAgICAgZXNjRXhpdCAmJiBlLmtleUNvZGUgPT09IDI3ICYmIGNsb3NlKCk7XHJcbiAgICB9O1xyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgbW9kYWxLZXlMaXN0ZW5lcik7XHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIG1vZGFsS2V5TGlzdGVuZXIpO1xyXG4gICAgICAgIH07XHJcbiAgICB9LCBbXSk7XHJcbiAgICByZXR1cm4gX21vZGFsID8gY3JlYXRlUG9ydGFsKF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiB2aXNpYmxlID8gXCJtb2RhbC13aW5kb3cgdmlzaWJsZVwiIDogXCJtb2RhbC13aW5kb3dcIiwgY2hpbGRyZW46IFtfanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImNsb3NlclwiLCBcImFyaWEtbGFiZWxcIjogJ2Nsb3NlIHwgXFx1MDQzN1xcdTA0MzBcXHUwNDNBXFx1MDQ0MFxcdTA0NEJcXHUwNDQyXFx1MDQ0QycsIG9uQ2xpY2s6IGNsb3NlLCBjaGlsZHJlbjogX2pzeHMoXCJzdmdcIiwgeyB3aWR0aDogXCIzMlwiLCBoZWlnaHQ6IFwiMzJcIiwgdmlld0JveDogXCIwIDAgMzIgMzJcIiwgZmlsbDogXCJub25lXCIsIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIGNoaWxkcmVuOiBbX2pzeChcInBhdGhcIiwgeyBmaWxsUnVsZTogXCJldmVub2RkXCIsIHN0cm9rZTogXCIjOTc5Nzk3XCIsIGNsaXBSdWxlOiBcImV2ZW5vZGRcIiwgZDogXCJNMTYgMzFDMjQuMjg0MyAzMSAzMSAyNC4yODQzIDMxIDE2QzMxIDcuNzE1NzMgMjQuMjg0MyAxIDE2IDFDNy43MTU3MyAxIDEgNy43MTU3MyAxIDE2QzEgMjQuMjg0MyA3LjcxNTczIDMxIDE2IDMxWlwiLCBzdHJva2VXaWR0aDogXCIyXCIgfSksIF9qc3goXCJwYXRoXCIsIHsgZDogXCJNOSA5TDI0IDI0XCIsIHN0cm9rZVdpZHRoOiBcIjJcIiwgc3Ryb2tlTGluZWNhcDogXCJzcXVhcmVcIiB9KSwgX2pzeChcInBhdGhcIiwgeyBkOiBcIk04LjQ5NTEyIDIzLjQ1ODZMMjQuNTA0OSA5LjU0MTQ0XCIsIHN0cm9rZVdpZHRoOiBcIjJcIiwgc3Ryb2tlTGluZWNhcDogXCJzcXVhcmVcIiB9KV0gfSkgfSksIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY29udGVudFwiLCBjaGlsZHJlbjogdmlzaWJsZSA/IGNoaWxkcmVuIDogbnVsbCB9KV0gfSksIF9tb2RhbClcclxuICAgICAgICA6XHJcbiAgICAgICAgICAgIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibW9kYWwtd2luZG93X2Fic2VuY2VcIiwgY2hpbGRyZW46IFwiTm9kZSBmb3IgTW9kYWwgV2luZG93cyB3YXMgbm90IGZvdW5kXCIgfSk7XHJcbn07XHJcbmV4cG9ydCBkZWZhdWx0IE1vZGFsO1xyXG4iLCJpbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xyXG5pbXBvcnQgeyBiaW5kQWN0aW9uQ3JlYXRvcnMgfSBmcm9tIFwicmVkdXhcIjtcclxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUsIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCBcIkBzcGxpZGVqcy9yZWFjdC1zcGxpZGUvY3NzXCI7XHJcbmltcG9ydCBcIi4vc3BsaWRlci1wcmV2aWV3LnNjc3NcIjtcclxuaW1wb3J0IFNwbGlkZSBmcm9tIFwiQHNwbGlkZWpzL3NwbGlkZVwiO1xyXG5pbXBvcnQgSW1nV2l0aFByZWxvYWRlciBmcm9tIFwiLi4vLi4vLi4vYXNzZXRzL2pzL0ltZ1dpdGhQcmVsb2FkZXJcIjtcclxuaW1wb3J0IHsgbG9hZFByb2R1Y3QgfSBmcm9tIFwiLi4vLi4vLi4vcmVkdXgvYWN0aW9ucy9wcm9kdWN0XCI7XHJcbmltcG9ydCBNb2RhbCBmcm9tIFwiLi4vLi4vLi4vY29tcG9uZW50cy9Nb2RhbC9Nb2RhbFwiO1xyXG5pbXBvcnQgTW9kYWxJbWFnZSBmcm9tIFwiLi4vLi4vLi4vY29tcG9uZW50cy9NZXNzYWdlSW1hZ2UvTWVzc2FnZUltYWdlXCI7XHJcbmNvbnN0IGFjdGlvbnNMaXN0ID0geyBsb2FkUHJvZHVjdCB9O1xyXG5jb25zdCBTcGxpZGVyUHJldmlldyA9ICh7IGxhbmcsIHByb2R1Y3QsIHNldFN0YXRlIH0pID0+IHtcclxuICAgIGNvbnN0IF9zcGxpZGVNYWluID0gdXNlUmVmKG51bGwpO1xyXG4gICAgY29uc3QgX3NwbGlkZVRodW1icyA9IHVzZVJlZihudWxsKTtcclxuICAgIGNvbnN0IHNwbGlkZU1haW4gPSB1c2VSZWYoKTtcclxuICAgIGNvbnN0IHNwbGlkZVRodW1iID0gdXNlUmVmKCk7XHJcbiAgICBjb25zdCBbbW9kYWwsIHNldE1vZGFsXSA9IHVzZVN0YXRlKHsgdmlzaWJsZTogZmFsc2UgfSk7XHJcbiAgICBjb25zdCBvcHRpb25zVGh1bWJzID0ge1xyXG4gICAgICAgIGxhenlMb2FkOiBmYWxzZSxcclxuICAgICAgICBwZXJQYWdlOiA1LFxyXG4gICAgICAgIGdhcDogJzUlJyxcclxuICAgICAgICByZXdpbmQ6IGZhbHNlLFxyXG4gICAgICAgIHBhZ2luYXRpb246IGZhbHNlLFxyXG4gICAgICAgIGlzTmF2aWdhdGlvbjogdHJ1ZSxcclxuICAgICAgICBmb2N1czogXCJjZW50ZXJcIixcclxuICAgICAgICAvL3RyaW1TcGFjZTogdHJ1ZSxcclxuICAgICAgICBkaXJlY3Rpb246ICdsdHInLFxyXG4gICAgICAgIHdoZWVsOiB0cnVlLFxyXG4gICAgICAgIHJlbGVhc2VXaGVlbDogdHJ1ZSxcclxuICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcclxuICAgICAgICBicmVha3BvaW50czoge1xyXG4gICAgICAgICAgICAxNjAwOiB7XHJcbiAgICAgICAgICAgICAgICBwZXJQYWdlOiA1XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIDEyNDE6IHtcclxuICAgICAgICAgICAgICAgIHBlclBhZ2U6IDVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgOTkyOiB7XHJcbiAgICAgICAgICAgICAgICBwZXJQYWdlOiA0XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIDc2ODoge1xyXG4gICAgICAgICAgICAgICAgcGVyUGFnZTogMyxcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogJ2x0cicsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6ICdhdXRvJyxcclxuICAgICAgICAgICAgICAgIGdhcDogJzUlJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICA0ODA6IHtcclxuICAgICAgICAgICAgICAgIHBlclBhZ2U6IDNcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgfTtcclxuICAgIGNvbnN0IG9wdGlvbnNNYWluID0ge1xyXG4gICAgICAgIGxhenlMb2FkOiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IFwiZmFkZVwiLFxyXG4gICAgICAgIHJld2luZDogZmFsc2UsXHJcbiAgICAgICAgcGFnaW5hdGlvbjogZmFsc2UsXHJcbiAgICAgICAgc3BlZWQ6IDUwMCxcclxuICAgICAgICB3aGVlbDogZmFsc2UsXHJcbiAgICAgICAgd2hlZWxTbGVlcDogMzAwLFxyXG4gICAgICAgIGJyZWFrcG9pbnRzOiB7XHJcbiAgICAgICAgICAgIDc2ODoge1xyXG4gICAgICAgICAgICAgICAgd2hlZWw6IGZhbHNlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qY29uc3Qgc2hvd1NsaWRlID0gKHNsaWRlVG9HbzogbnVtYmVyIHwgc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgc3BsaWRlVGh1bWIuY3VycmVudD8uZ28oc2xpZGVUb0dvKTtcclxuICAgIH07Ki9cclxuICAgIC8qZnVuY3Rpb24gbW9kYWxLZXlMaXN0ZW5lciAoZTogS2V5Ym9hcmRFdmVudCkge1xyXG4gICAgICAgIGUua2V5Q29kZSA9PT0gMzcgJiYgc2hvd1NsaWRlKFwiPFwiKTtcclxuICAgICAgICBlLmtleUNvZGUgPT09IDM5ICYmIHNob3dTbGlkZShcIj5cIik7XHJcbiAgICB9Ki9cclxuICAgIGNvbnN0IG9uSW1hZ2VDbGljayA9IChzbGlkZSkgPT4ge1xyXG4gICAgICAgIHNldE1vZGFsKHsgdmlzaWJsZTogdHJ1ZSB9KTtcclxuICAgIH07XHJcbiAgICBjb25zdCBjbG9zZU1vZGFsID0gKCkgPT4ge1xyXG4gICAgICAgIHNldE1vZGFsKHsgdmlzaWJsZTogZmFsc2UgfSk7XHJcbiAgICB9O1xyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBpZiAoIV9zcGxpZGVUaHVtYnMuY3VycmVudCB8fCAhX3NwbGlkZU1haW4uY3VycmVudClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHNwbGlkZVRodW1iLmN1cnJlbnQgPSBuZXcgU3BsaWRlKF9zcGxpZGVUaHVtYnMuY3VycmVudCwgb3B0aW9uc1RodW1icyk7XHJcbiAgICAgICAgc3BsaWRlTWFpbi5jdXJyZW50ID0gbmV3IFNwbGlkZShfc3BsaWRlTWFpbi5jdXJyZW50LCBvcHRpb25zTWFpbik7XHJcbiAgICAgICAgc3BsaWRlTWFpbi5jdXJyZW50LnN5bmMoc3BsaWRlVGh1bWIuY3VycmVudCk7XHJcbiAgICAgICAgc3BsaWRlTWFpbi5jdXJyZW50Lm1vdW50KCk7XHJcbiAgICAgICAgc3BsaWRlVGh1bWIuY3VycmVudC5tb3VudCgpO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIHNwbGlkZVRodW1iLmN1cnJlbnQ/LmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgc3BsaWRlTWFpbi5jdXJyZW50Py5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIC8vc2V0U3RhdGUucHJvZHVjdC5zZXRTZWxlY3RlZEltYWdlKHNwbGlkZU1haW4uY3VycmVudD8uaW5kZXggfHwgMClcclxuICAgICAgICB9O1xyXG4gICAgfSwgW10pO1xyXG4gICAgLyp1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIHNob3dTbGlkZShwcm9kdWN0LnNlbGVjdGVkSW1hZ2UpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBtb2RhbEtleUxpc3RlbmVyKTtcclxuICAgICAgICAvL2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpPy5jbGFzc0xpc3QuYWRkKFwibm9zY3JvbGxcIik7XHJcbiAgICAgICAgcmV0dXJuICgoKSA9PiB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBtb2RhbEtleUxpc3RlbmVyKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sIFtwcm9kdWN0LnNlbGVjdGVkSW1hZ2VdKTsqL1xyXG4gICAgcmV0dXJuIChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzcGxpZGVyX3ByZXZpZXdcIiwgY2hpbGRyZW46IFtfanN4KFwiZGl2XCIsIHsgaWQ6IFwibW9kYWxNYWluXCIsIGNsYXNzTmFtZTogXCJzcGxpZGVcIiwgcmVmOiBfc3BsaWRlTWFpbiwgY2hpbGRyZW46IF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3BsaWRlX190cmFja1wiLCBjaGlsZHJlbjogX2pzeChcInVsXCIsIHsgY2xhc3NOYW1lOiBcInNwbGlkZV9fbGlzdFwiLCBjaGlsZHJlbjogcHJvZHVjdC5pbWdzLm1hcCgoc2xpZGUsIGkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoX2pzeChcImxpXCIsIHsgY2xhc3NOYW1lOiBcInNwbGlkZV9fc2xpZGVcIiwgb25DbGljazogKCkgPT4gb25JbWFnZUNsaWNrKHNsaWRlKSwgY2hpbGRyZW46IF9qc3goSW1nV2l0aFByZWxvYWRlciwgeyBzcmM6IHNsaWRlLnVybCwgYWx0OiBzbGlkZS5uYW1lW2xhbmddIH0pIH0sIGkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkgfSkgfSkgfSksIF9qc3goXCJkaXZcIiwgeyBpZDogXCJtb2RhbFRodW1ic1wiLCBjbGFzc05hbWU6IFwic3BsaWRlXCIsIHJlZjogX3NwbGlkZVRodW1icywgY2hpbGRyZW46IF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3BsaWRlX190cmFja1wiLCBjaGlsZHJlbjogX2pzeChcInVsXCIsIHsgY2xhc3NOYW1lOiBcInNwbGlkZV9fbGlzdFwiLCBjaGlsZHJlbjogcHJvZHVjdC5pbWdzLm1hcCgoc2xpZGUsIGkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoX2pzeChcImxpXCIsIHsgY2xhc3NOYW1lOiBcInNwbGlkZV9fc2xpZGVcIiwgY2hpbGRyZW46IF9qc3goSW1nV2l0aFByZWxvYWRlciwgeyBzcmM6IHNsaWRlLnVybCwgYWx0OiBzbGlkZS5uYW1lW2xhbmddIH0pIH0sIGkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkgfSkgfSkgfSksIF9qc3goTW9kYWwsIHsgLi4ueyB2aXNpYmxlOiBtb2RhbC52aXNpYmxlLCBjbG9zZTogY2xvc2VNb2RhbCwgZXNjRXhpdDogdHJ1ZSB9LCBjaGlsZHJlbjogX2pzeChNb2RhbEltYWdlLCB7IHByb3BzOiB7IHBhdGg6IHByb2R1Y3QuaW1nc1tzcGxpZGVNYWluLmN1cnJlbnQ/LmluZGV4IHx8IDBdLnVybCwgZGVzY3I6IHByb2R1Y3QuaW1nc1tzcGxpZGVNYWluLmN1cnJlbnQ/LmluZGV4IHx8IDBdLm5hbWVbbGFuZ10gfSB9KSB9KV0gfSkpO1xyXG59O1xyXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGUpID0+IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcHJvZHVjdDogc3RhdGUucHJvZHVjdCxcclxuICAgICAgICBsYW5nOiBzdGF0ZS5iYXNlLmxhbmdcclxuICAgIH07XHJcbn07XHJcbmNvbnN0IG1hcERpc3BhdGNoVG9Qcm9wcyA9IChkaXNwYXRjaCkgPT4gKHtcclxuICAgIHNldFN0YXRlOiB7XHJcbiAgICAgICAgcHJvZHVjdDogYmluZEFjdGlvbkNyZWF0b3JzKGFjdGlvbnNMaXN0LCBkaXNwYXRjaClcclxuICAgIH1cclxufSk7XHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKFNwbGlkZXJQcmV2aWV3KTtcclxuIiwiaW1wb3J0IHsganN4cyBhcyBfanN4cywganN4IGFzIF9qc3gsIEZyYWdtZW50IGFzIF9GcmFnbWVudCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xyXG5pbXBvcnQgJy4vYWRkLXRvLWNhcnQuc2Nzcyc7XHJcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IGFkZEl0ZW0sIHNhdmVDYXJ0IH0gZnJvbSBcIi4uLy4uL3JlZHV4L2FjdGlvbnMvY2FydFwiO1xyXG5pbXBvcnQgeyBiaW5kQWN0aW9uQ3JlYXRvcnMgfSBmcm9tIFwicmVkdXhcIjtcclxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xyXG5pbXBvcnQgTW9kYWwgZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvTW9kYWwvTW9kYWxcIjtcclxuaW1wb3J0IE1lc3NhZ2VJbmZvIGZyb20gJy4uL01lc3NhZ2VJbmZvL01lc3NhZ2VJbmZvJztcclxuaW1wb3J0IEFtb3VudENoYW5nZXIgZnJvbSAnLi4vQW1vdW50Q2hhbmdlci9BbW91bnRDaGFuZ2VyJztcclxudmFyIHVuaXFpZCA9IHJlcXVpcmUoJ3VuaXFpZCcpO1xyXG5jb25zdCBhY3Rpb25zTGlzdENhcnQgPSB7IGFkZEl0ZW0sIHNhdmVDYXJ0IH07XHJcbmNvbnN0IEFkZFRvQ2FydCA9ICh7IHByb2R1Y3QsIHR5cGUsIGZpYmVyLCBjb2xvciwgbGFuZywgY2FydCwgc2V0U3RhdGUgfSkgPT4ge1xyXG4gICAgY29uc3QgW2Ftb3VudCwgc2V0QW1vdW50XSA9IHVzZVN0YXRlKDEpO1xyXG4gICAgY29uc3QgW21vZGFsLCBzZXRNb2RhbF0gPSB1c2VTdGF0ZSh7IHZpc2libGU6IGZhbHNlIH0pO1xyXG4gICAgY29uc3QgW21lc3NhZ2UsIHNldE1lc3NhZ2VdID0gdXNlU3RhdGUoeyBoZWFkZXI6ICcnLCBzdGF0dXM6ICcnLCB0ZXh0OiBbXSB9KTtcclxuICAgIGNvbnN0IFthbW91bnRDaGFuZ2VyUmVzZXQsIHNldEFtb3VudENoYW5nZXJSZXNldF0gPSB1c2VTdGF0ZSh7IGFtb3VudDogMSB9KTtcclxuICAgIGNvbnN0IGNsb3NlTW9kYWwgPSAoKSA9PiB7XHJcbiAgICAgICAgc2V0TW9kYWwoeyB2aXNpYmxlOiBmYWxzZSB9KTtcclxuICAgIH07XHJcbiAgICBjb25zdCBhZGRUb0NhcnQgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JzTGlzdCA9IFtdO1xyXG4gICAgICAgICFjb2xvciAmJiBlcnJvcnNMaXN0LnB1c2gobGFuZyA9PT0gJ2VuJyA/ICdQbGVhc2UgY2hvb3NlIHRoZSBjb2xvcicgOiAn0J/QvtC20LDQu9GD0LnRgdGC0LAsINCy0YvQsdC10YDQuNGC0LUg0YbQstC10YInKTtcclxuICAgICAgICAhZmliZXIgJiYgZXJyb3JzTGlzdC5wdXNoKGxhbmcgPT09ICdlbicgPyAnUGxlYXNlIGNob29zZSB0aGUgZmliZXInIDogJ9Cf0L7QttCw0LvRg9C50YHRgtCwLCDQstGL0LHQtdGA0LjRgtC1INC80LDRgtC10YDQuNCw0LsnKTtcclxuICAgICAgICAhdHlwZSAmJiBlcnJvcnNMaXN0LnB1c2gobGFuZyA9PT0gJ2VuJyA/ICdQbGVhc2UgY2hvb3NlIHRoZSB0eXBlJyA6ICfQn9C+0LbQsNC70YPQudGB0YLQsCwg0LLRi9Cx0LXRgNC40YLQtSDQstC10YDRgdC40Y4nKTtcclxuICAgICAgICAhYW1vdW50ICYmIGVycm9yc0xpc3QucHVzaChsYW5nID09PSAnZW4nID8gJ1BsZWFzZSBzZXQgdGhlIGFtb3VudCcgOiAn0J/QvtC20LDQu9GD0LnRgdGC0LAsINGD0LrQsNC20LjRgtC1INC60L7Qu9C40YfQtdGB0YLQstC+Jyk7XHJcbiAgICAgICAgaWYgKCFjb2xvciB8fCAhZmliZXIgfHwgIXR5cGUgfHwgIWFtb3VudCkge1xyXG4gICAgICAgICAgICBzZXRNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgICAgICAgICAgIGhlYWRlcjogbGFuZyA9PT0gJ2VuJyA/ICdFcnJvcicgOiAn0J7RiNC40LHQutCwJyxcclxuICAgICAgICAgICAgICAgIHRleHQ6IGVycm9yc0xpc3RcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBuZXdJdGVtID0ge1xyXG4gICAgICAgICAgICAgICAgcHJvZHVjdCxcclxuICAgICAgICAgICAgICAgIGZpYmVyLFxyXG4gICAgICAgICAgICAgICAgY29sb3IsXHJcbiAgICAgICAgICAgICAgICBhbW91bnQsXHJcbiAgICAgICAgICAgICAgICB0eXBlLFxyXG4gICAgICAgICAgICAgICAgaWQ6IHVuaXFpZCgpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHNldFN0YXRlLmNhcnQuYWRkSXRlbShuZXdJdGVtKTtcclxuICAgICAgICAgICAgc2V0U3RhdGUuY2FydC5zYXZlQ2FydChbLi4uY2FydC5pdGVtcywgbmV3SXRlbV0pO1xyXG4gICAgICAgICAgICAvL3NldEFtb3VudCgxKVxyXG4gICAgICAgICAgICBzZXRBbW91bnRDaGFuZ2VyUmVzZXQoeyBhbW91bnQ6IDEgfSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGFtb3VudEl0ZW1zSW5DYXJ0ID0gY2FydC5pdGVtcy5yZWR1Y2UoKHRvdGFsLCBpdGVtKSA9PiB0b3RhbCArIGl0ZW0uYW1vdW50LCAwKSArIGFtb3VudDtcclxuICAgICAgICAgICAgc2V0TWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcclxuICAgICAgICAgICAgICAgIGhlYWRlcjogbGFuZyA9PT0gJ2VuJyA/ICdBZGRlZCcgOiAn0JTQvtCx0LDQstC70LXQvdC+JyxcclxuICAgICAgICAgICAgICAgIHRleHQ6IGxhbmcgPT09ICdlbicgPyBbYFRoaXMgaXRlbSBoYXMgYmVlbiBhZGRlZCB0byB5b3VyINGBYXJ0LmAsIGBZb3Ugbm93IGhhdmUgJHthbW91bnRJdGVtc0luQ2FydH0gaXRlbSR7YW1vdW50SXRlbXNJbkNhcnQgPiAxID8gJ3MnIDogJyd9IGluIHlvdXIg0YFhcnRgLF0gOiBbYNCt0YLQvtGCINGC0L7QstCw0YAg0LHRi9C7INGD0YHQv9C10YjQvdC+INC00L7QsdCw0LLQu9C10L0g0LIg0JLQsNGI0YMg0LrQvtGA0LfQuNC90YMuYCwgYNCh0LXQudGH0LDRgSDRgyDQktCw0YEg0YLQvtCy0LDRgNC+0LIg0LIg0LrQvtGA0LfQuNC90LU6ICR7YW1vdW50SXRlbXNJbkNhcnR9YCxdXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRNb2RhbCh7IHZpc2libGU6IHRydWUgfSk7XHJcbiAgICB9O1xyXG4gICAgY29uc3Qgb25BbW91bnRDaGFuZ2UgPSAoaXRlbSwgYW1vdW50KSA9PiB7XHJcbiAgICAgICAgc2V0QW1vdW50KGFtb3VudCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIChfanN4cyhfRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjYXJ0LWFkZGVyXCIsIGNoaWxkcmVuOiBbX2pzeHMoXCJzcGFuXCIsIHsgY2hpbGRyZW46IFtsYW5nID09PSAnZW4nID8gJ0Ftb3VudCcgOiAn0JrQvtC70LjRh9C10YHRgtCy0L4nLCBcIjogXCJdIH0pLCBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImFtb3VudC1jaGFuZ2VyX19jb250YWluZXJcIiwgY2hpbGRyZW46IF9qc3goQW1vdW50Q2hhbmdlciwgeyBpZEluc3RhbmNlOiBwcm9kdWN0LmlkLCBpbml0aWFsQW1vdW50OiBhbW91bnQsIHJlc2V0OiBhbW91bnRDaGFuZ2VyUmVzZXQsIGxhbmc6IGxhbmcsIG9uQ2hhbmdlOiBvbkFtb3VudENoYW5nZSB9KSB9KSwgX2pzeChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogJ2J1dHRvbl9uZXdzJywgdGl0bGU6ICdBZGQgdG8gY2FydCcsIG9uQ2xpY2s6IGFkZFRvQ2FydCwgY2hpbGRyZW46IGxhbmcgPT09ICdlbicgPyAnQWRkIHRvIGNhcnQnIDogJ9CU0L7QsdCw0LLQuNGC0Ywg0LIg0LrQvtGA0LfQuNC90YMnIH0pXSB9KSwgX2pzeChNb2RhbCwgeyAuLi57IHZpc2libGU6IG1vZGFsLnZpc2libGUsIGNsb3NlOiBjbG9zZU1vZGFsLCBlc2NFeGl0OiB0cnVlIH0sIGNoaWxkcmVuOiBfanN4KE1lc3NhZ2VJbmZvLCB7IC4uLntcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBtZXNzYWdlLnN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiBtZXNzYWdlLmhlYWRlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogbWVzc2FnZS50ZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25UZXh0OiBsYW5nID09PSAnZW4nID8gJ0Nsb3NlJyA6IFwi0JfQsNC60YDRi9GC0YxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uQWN0aW9uOiBjbG9zZU1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgfSB9KSB9KV0gfSkpO1xyXG59O1xyXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGUpID0+ICh7XHJcbiAgICBjYXJ0OiBzdGF0ZS5jYXJ0LFxyXG4gICAgbGFuZzogc3RhdGUuYmFzZS5sYW5nXHJcbn0pO1xyXG5jb25zdCBtYXBEaXNwYXRjaFRvUHJvcHMgPSAoZGlzcGF0Y2gpID0+ICh7XHJcbiAgICBzZXRTdGF0ZToge1xyXG4gICAgICAgIGNhcnQ6IGJpbmRBY3Rpb25DcmVhdG9ycyhhY3Rpb25zTGlzdENhcnQsIGRpc3BhdGNoKSxcclxuICAgIH1cclxufSk7XHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKEFkZFRvQ2FydCk7XHJcbiIsImltcG9ydCB7IGpzeCBhcyBfanN4LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcclxuaW1wb3J0ICcuL2NvbG9yLXBpY2tlci5zY3NzJztcclxuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBNb2RhbCBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL01vZGFsL01vZGFsJztcclxuaW1wb3J0IE1vZGFsSW1hZ2UgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9NZXNzYWdlSW1hZ2UvTWVzc2FnZUltYWdlJztcclxuY29uc3QgQ29sb3JQaWNrZXIgPSAoeyBsYW5nLCBjb2xvcnMsIG9uU2VsZWN0IH0pID0+IHtcclxuICAgIGNvbnN0IFtjdXJyZW50Q29sb3IsIHNldEN1cnJlbnRDb2xvcl0gPSB1c2VTdGF0ZSgpO1xyXG4gICAgY29uc3QgW2V4cGFuZGVkLCBzZXRFeHBhbmRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgICBjb25zdCBbbW9kYWwsIHNldE1vZGFsXSA9IHVzZVN0YXRlKHsgdmlzaWJsZTogZmFsc2UgfSk7XHJcbiAgICBjb25zdCBbbW9kYWxJbWcsIHNldE1vZGFsSW1nXSA9IHVzZVN0YXRlKHsgZGVzY3I6ICcnLCBwYXRoOiAnJyB9KTtcclxuICAgIGNvbnN0IG9uQ3VycmVudENsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgIHNldEV4cGFuZGVkKHByZXYgPT4gIXByZXYpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IG9uT3B0aW9uQ2xpY2sgPSAoaWQpID0+IHtcclxuICAgICAgICBzZXRDdXJyZW50Q29sb3IoY29sb3JzLmZpbmQoY29sb3IgPT4gY29sb3IuaWQgPT09IGlkKSk7XHJcbiAgICAgICAgc2V0RXhwYW5kZWQoZmFsc2UpO1xyXG4gICAgICAgIG9uU2VsZWN0KGlkKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBvbkltYWdlQ2xpY2sgPSAoZSwgY29sb3IpID0+IHtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIHNldE1vZGFsSW1nKHsgZGVzY3I6IGNvbG9yLm5hbWVbbGFuZ10sIHBhdGg6IGNvbG9yLnVybCB9KTtcclxuICAgICAgICBzZXRNb2RhbCh7IHZpc2libGU6IHRydWUgfSk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgY2xvc2VNb2RhbCA9ICgpID0+IHtcclxuICAgICAgICBzZXRNb2RhbCh7IHZpc2libGU6IGZhbHNlIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGBjb2xvci1waWNrZXIgJHtleHBhbmRlZCA/ICdleHBhbmRlZCcgOiAnJ31gLCBjaGlsZHJlbjogW19qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwib3B0aW9uIGN1cnJlbnRcIiwgb25DbGljazogb25DdXJyZW50Q2xpY2ssIGNoaWxkcmVuOiBjdXJyZW50Q29sb3IgP1xyXG4gICAgICAgICAgICAgICAgICAgIF9qc3hzKF9GcmFnbWVudCwgeyBjaGlsZHJlbjogW19qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiaW1nX19jb250YWluZXJcIiwgY2hpbGRyZW46IF9qc3goXCJpbWdcIiwgeyBzcmM6IGN1cnJlbnRDb2xvci51cmwsIGFsdDogY3VycmVudENvbG9yLm5hbWVbbGFuZ10gfSkgfSksIF9qc3goXCJzcGFuXCIsIHsgY2hpbGRyZW46IGN1cnJlbnRDb2xvci5uYW1lW2xhbmddIH0pXSB9KVxyXG4gICAgICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2pzeHMoXCJzcGFuXCIsIHsgY2hpbGRyZW46IFtsYW5nID09PSAnZW4nID8gJ0Nob29zZSB0aGUgZmliZXIgYmVmb3JlJyA6ICfQodC90LDRh9Cw0LvQsCDQstGL0LHQtdGA0LjRgtC1INC80LDRgtC10YDQuNCw0LsnLCBcIiBcIl0gfSkgfSksIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6ICdsaXN0JywgY2hpbGRyZW46IGNvbG9ycy5tYXAoY29sb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwib3B0aW9uXCIsIG9uQ2xpY2s6ICgpID0+IG9uT3B0aW9uQ2xpY2soY29sb3IuaWQpLCBjaGlsZHJlbjogW19qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiaW1nX19jb250YWluZXJcIiwgY2hpbGRyZW46IF9qc3goXCJpbWdcIiwgeyBzcmM6IGNvbG9yLnVybCwgYWx0OiBjb2xvci5uYW1lW2xhbmddIH0pIH0pLCBfanN4KFwic3BhblwiLCB7IGNoaWxkcmVuOiBjb2xvci5uYW1lW2xhbmddIH0pLCBfanN4KFwic3BhblwiLCB7IG9uQ2xpY2s6IChlKSA9PiBvbkltYWdlQ2xpY2soZSwgY29sb3IpLCBjaGlsZHJlbjogbGFuZyA9PT0gJ2VuJyA/ICcoZGV0YWlscyknIDogJyjRgdC80L7RgtGA0LXRgtGMKScgfSldIH0sIGNvbG9yLmlkKSk7XHJcbiAgICAgICAgICAgICAgICB9KSB9KSwgX2pzeChNb2RhbCwgeyAuLi57IHZpc2libGU6IG1vZGFsLnZpc2libGUsIGNsb3NlOiBjbG9zZU1vZGFsLCBlc2NFeGl0OiB0cnVlIH0sIGNoaWxkcmVuOiBfanN4KE1vZGFsSW1hZ2UsIHsgcHJvcHM6IHsgcGF0aDogbW9kYWxJbWcucGF0aCwgZGVzY3I6IG1vZGFsSW1nLmRlc2NyIH0gfSkgfSldIH0pKTtcclxufTtcclxuZXhwb3J0IGRlZmF1bHQgQ29sb3JQaWNrZXI7XHJcbiIsImltcG9ydCB7IGpzeHMgYXMgX2pzeHMsIGpzeCBhcyBfanN4LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcclxuaW1wb3J0ICcuL3Byb2R1Y3QtZGV0YWlscy5zY3NzJztcclxuaW1wb3J0IHsgdXNlUmVmLCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IGJpbmRBY3Rpb25DcmVhdG9ycyB9IGZyb20gXCJyZWR1eFwiO1xyXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XHJcbmltcG9ydCB7IGxvYWRQcm9kdWN0IH0gZnJvbSBcIi4uLy4uL3JlZHV4L2FjdGlvbnMvcHJvZHVjdFwiO1xyXG5pbXBvcnQgeyBsb2FkRmliZXJzIH0gZnJvbSBcIi4uLy4uL3JlZHV4L2FjdGlvbnMvZmliZXJzXCI7XHJcbmltcG9ydCB7IGxvYWRDb2xvcnMgfSBmcm9tIFwiLi4vLi4vcmVkdXgvYWN0aW9ucy9jb2xvcnNcIjtcclxuaW1wb3J0IEFkZFRvQ2FydCBmcm9tICcuLi9BZGRUb0NhcnQvQWRkVG9DYXJ0JztcclxuaW1wb3J0IHsgTmF2TGluayB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xyXG5pbXBvcnQgQ29sb3JQaWNrZXIgZnJvbSAnLi4vdGlueS9Db2xvclBpY2tlci9Db2xvclBpY2tlcic7XHJcbi8vaW1wb3J0IHsgYWRkSXRlbSB9IGZyb20gXCIuLi8uLi9yZWR1eC9hY3Rpb25zL2NhcnRcIlxyXG5jb25zdCBhY3Rpb25zTGlzdFByb2R1Y3QgPSB7IGxvYWRQcm9kdWN0IH07XHJcbmNvbnN0IGFjdGlvbnNMaXN0Q29sb3JzID0geyBsb2FkQ29sb3JzIH07XHJcbmNvbnN0IGFjdGlvbnNMaXN0RmliZXJzID0geyBsb2FkRmliZXJzIH07XHJcbmNvbnN0IFByb2R1Y3REZXRhaWxzID0gKHsgbGFuZywgc2V0U3RhdGUsIHByb2R1Y3QsIGNvbG9ycywgZmliZXJzIH0pID0+IHtcclxuICAgIGNvbnN0IFtmaWJlcnNEZXRhaWxlZCwgc2V0RmliZXJzRGV0YWlsZWRdID0gdXNlU3RhdGUoW10pO1xyXG4gICAgY29uc3QgW3NlbGVjdGVkRmliZXIsIHNldFNlbGVjdGVkRmliZXJdID0gdXNlU3RhdGUoKTtcclxuICAgIGNvbnN0IFtzZWxlY3RlZENvbG9yLCBzZXRTZWxlY3RlZENvbG9yXSA9IHVzZVN0YXRlKCcnKTtcclxuICAgIGNvbnN0IFtzZWxlY3RlZFR5cGUsIHNldFNlbGVjdGVkVHlwZV0gPSB1c2VTdGF0ZSh1bmRlZmluZWQpO1xyXG4gICAgY29uc3QgX3R5cGUgPSB1c2VSZWYobnVsbCk7XHJcbiAgICBjb25zdCBvbkNoYW5nZUZpYmVyID0gKGUpID0+IHtcclxuICAgICAgICBzZXRTZWxlY3RlZEZpYmVyKGZpYmVycy5maWJlcnNMaXN0LmZpbmQoZmliZXIgPT4gZmliZXIuaWQgPT09IGUudGFyZ2V0LnZhbHVlKSk7XHJcbiAgICAgICAgc2V0U2VsZWN0ZWRDb2xvcignJyk7XHJcbiAgICB9O1xyXG4gICAgY29uc3Qgb25TZWxlY3RDb2xvciA9IChjb2xvcklkKSA9PiB7XHJcbiAgICAgICAgc2V0U2VsZWN0ZWRDb2xvcihjb2xvcklkKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBvbkNoYW5nZVR5cGUgPSAoZSkgPT4ge1xyXG4gICAgICAgIHNldFNlbGVjdGVkVHlwZShwcm9kdWN0Lm1vZHNbTnVtYmVyKGUudGFyZ2V0LnZhbHVlKV0pO1xyXG4gICAgfTtcclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKGNvbG9ycy5kYXRhTG9hZGluZy5zdGF0dXMgPT09ICdzdWNjZXNzJyAmJiBmaWJlcnMuZGF0YUxvYWRpbmcuc3RhdHVzID09PSAnc3VjY2VzcycgJiYgcHJvZHVjdC5kYXRhTG9hZGluZy5zdGF0dXMgPT09ICdzdWNjZXNzJykge1xyXG4gICAgICAgICAgICBzZXRGaWJlcnNEZXRhaWxlZChwcm9kdWN0LmZpYmVycy5tYXAoKHByb2R1Y3RGaWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpYmVycy5maWJlcnNMaXN0LmZpbmQoZmliZXJJdGVtID0+IGZpYmVySXRlbS5pZCA9PT0gcHJvZHVjdEZpYmVyKTtcclxuICAgICAgICAgICAgfSkuZmlsdGVyKGZpYmVyID0+IGZpYmVyPy5pZCAhPT0gdW5kZWZpbmVkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW2ZpYmVycy5kYXRhTG9hZGluZy5zdGF0dXMsIGNvbG9ycy5kYXRhTG9hZGluZy5zdGF0dXMsIHByb2R1Y3QuZGF0YUxvYWRpbmcuc3RhdHVzXSk7XHJcbiAgICByZXR1cm4gKF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImRldGFpbHNfX2Rlc2NyXCIsIGNoaWxkcmVuOiBbX2pzeHMoXCJoMlwiLCB7IGNoaWxkcmVuOiBbbGFuZyA9PT0gJ2VuJyA/ICdGZWF0dXJlcycgOiAn0KXQsNGA0LDQutGC0LXRgNC40YHRgtC40LrQuCcsIFwiOlwiXSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmVhdHVyZXNfX2NvbnRhaW5lclwiLCBjaGlsZHJlbjogW19qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZlYXR1cmVcIiwgY2hpbGRyZW46IFtfanN4cyhcInNwYW5cIiwgeyBjaGlsZHJlbjogW2xhbmcgPT09ICdlbicgPyAnRGVzY3JpcHRpb24nIDogJ9Ce0L/QuNGB0LDQvdC40LUnLCBcIjogXCJdIH0pLCBwcm9kdWN0LnRleHRbbGFuZ10ubWFwKCh0ZXh0LCBpKSA9PiBfanN4KFwicFwiLCB7IGNoaWxkcmVuOiB0ZXh0LnBhcnQgfSwgaSkpXSB9KSwgcHJvZHVjdC5mZWF0dXJlcy5tYXAoKGZlYXR1cmUsIGkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmZWF0dXJlXCIsIGNoaWxkcmVuOiBbX2pzeHMoXCJzcGFuXCIsIHsgY2hpbGRyZW46IFtmZWF0dXJlLm5hbWVbbGFuZ10sIFwiOiBcIl0gfSksIF9qc3goXCJzcGFuXCIsIHsgY2hpbGRyZW46IGZlYXR1cmUudmFsdWVbbGFuZ10gfSldIH0sIGkpKTtcclxuICAgICAgICAgICAgICAgICAgICB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmVhdHVyZVwiLCBjaGlsZHJlbjogW19qc3hzKFwic3BhblwiLCB7IGNoaWxkcmVuOiBbbGFuZyA9PT0gJ2VuJyA/ICdQcmljZScgOiAn0KbQtdC90LAnLCBcIjogXCJdIH0pLCBfanN4KFwic3BhblwiLCB7IGNoaWxkcmVuOiBwcm9kdWN0LnByaWNlW2xhbmddIH0pXSB9KSwgcHJvZHVjdC5tb2RzLmxlbmd0aCA+IDAgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmZWF0dXJlIHdyYXBfeHNcIiwgY2hpbGRyZW46IFtfanN4cyhcImxhYmVsXCIsIHsgaHRtbEZvcjogXCJ0eXBlXCIsIGNoaWxkcmVuOiBbbGFuZyA9PT0gJ2VuJyA/ICdWZXJzaW9uJyA6ICfQktC10YDRgdC40Y8nLCBcIjpcIl0gfSksIF9qc3hzKFwic2VsZWN0XCIsIHsgaWQ6IFwidHlwZVwiLCByZWY6IF90eXBlLCBkZWZhdWx0VmFsdWU6ICctMScsIG9uQ2hhbmdlOiBvbkNoYW5nZVR5cGUsIGNoaWxkcmVuOiBbX2pzeChcIm9wdGlvblwiLCB7IHZhbHVlOiAnLTEnLCBkaXNhYmxlZDogdHJ1ZSwgaGlkZGVuOiB0cnVlLCBjaGlsZHJlbjogbGFuZyA9PT0gJ2VuJyA/ICdTZWxlY3QgdHlwZScgOiAn0JLRi9Cx0LXRgNC40YLQtSDRgtC40L8nIH0sIC0xKSwgcHJvZHVjdC5tb2RzLm1hcCgobW9kLCBpKSA9PiBfanN4KFwib3B0aW9uXCIsIHsgdmFsdWU6IGksIGNoaWxkcmVuOiBtb2RbbGFuZ10gfSwgaSkpXSB9KV0gfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmVhdHVyZSB3cmFwX3hzXCIsIGNoaWxkcmVuOiBbX2pzeChcImxhYmVsXCIsIHsgaHRtbEZvcjogXCJmaWJlclwiLCBjaGlsZHJlbjogc2VsZWN0ZWRGaWJlciA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9qc3hzKE5hdkxpbmssIHsgdG86IGAuLi8uLi9maWJlcnMvJHtzZWxlY3RlZEZpYmVyLmlkfWAsIFwiYXJpYS1sYWJlbFwiOiBsYW5nID09PSAnZW4nID8gJyhBYm91dCBzZWxlY3RlZCBmaWJlciknIDogJyAo0J4g0LLRi9Cx0YDQsNC90L3QvtC8INC80LDRgtC10YDQuNCw0LvQtSknLCBjaGlsZHJlbjogW2xhbmcgPT09ICdlbicgPyAnRmliZXInIDogJ9Cc0LDRgtC10YDQuNCw0LsnLCBcIjpcIl0gfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2pzeHMoX0ZyYWdtZW50LCB7IGNoaWxkcmVuOiBbbGFuZyA9PT0gJ2VuJyA/ICdGaWJlcicgOiAn0JzQsNGC0LXRgNC40LDQuycsIFwiOlwiXSB9KSB9KSwgX2pzeHMoXCJzZWxlY3RcIiwgeyBpZDogXCJmaWJlclwiLCBvbkNoYW5nZTogb25DaGFuZ2VGaWJlciwgZGVmYXVsdFZhbHVlOiAnJywgY2hpbGRyZW46IFtfanN4KFwib3B0aW9uXCIsIHsgZGlzYWJsZWQ6IHRydWUsIGhpZGRlbjogdHJ1ZSwgdmFsdWU6ICcnLCBjaGlsZHJlbjogbGFuZyA9PT0gJ2VuJyA/ICdTZWxlY3QgZmliZXInIDogJ9CS0YvQsdC10YDQuNGC0LUg0LzQsNGC0LXRgNC40LDQuycgfSwgLTEpLCBmaWJlcnNEZXRhaWxlZC5tYXAoKGZpYmVyLCBpKSA9PiBfanN4KFwib3B0aW9uXCIsIHsgdmFsdWU6IGZpYmVyLmlkLCBjaGlsZHJlbjogZmliZXIuc2hvcnQubmFtZVtsYW5nXSB9LCBpKSldIH0pXSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY29sb3JzX19jb250YWluZXIgd3JhcF94c1wiLCBjaGlsZHJlbjogW19qc3hzKFwic3BhblwiLCB7IGNoaWxkcmVuOiBbbGFuZyA9PT0gJ2VuJyA/ICdBdmFpbGFibGUgY29sb3JzJyA6ICfQlNC+0YHRgtGD0L/QvdGL0LUg0YbQstC10YLQsCcsIFwiOiBcIl0gfSksIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY29sb3JzX193cmFwcGVyXCIsIGNoaWxkcmVuOiBfanN4KENvbG9yUGlja2VyLCB7IGxhbmc6IGxhbmcsIGNvbG9yczogY29sb3JzLmNvbG9ycy5maWx0ZXIoY29sb3IgPT4gc2VsZWN0ZWRGaWJlcj8uY29sb3JzLmluY2x1ZGVzKGNvbG9yLmlkKSksIG9uU2VsZWN0OiBvblNlbGVjdENvbG9yIH0pIH0pXSB9KV0gfSksIF9qc3goQWRkVG9DYXJ0LCB7IHByb2R1Y3Q6IHByb2R1Y3QsIHR5cGU6IHByb2R1Y3QubW9kcy5sZW5ndGggPiAwID8gc2VsZWN0ZWRUeXBlIDogeyBlbjogJy0nLCBydTogJy0nIH0sIGZpYmVyOiBzZWxlY3RlZEZpYmVyPy5pZCwgY29sb3I6IHNlbGVjdGVkQ29sb3IgfSldIH0pKTtcclxufTtcclxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlKSA9PiAoe1xyXG4gICAgbGFuZzogc3RhdGUuYmFzZS5sYW5nLFxyXG4gICAgc2VsZWN0ZWRDYXRlZ29yeTogc3RhdGUuY2F0YWxvZy5zZWxlY3RlZENhdGVnb3J5LFxyXG4gICAgY2F0ZWdvcmllczogc3RhdGUuY2F0YWxvZy5jYXRlZ29yaWVzLFxyXG4gICAgc2VsZWN0ZWRQcm9kdWN0OiBzdGF0ZS5jYXRhbG9nLnNlbGVjdGVkUHJvZHVjdCxcclxuICAgIHByb2R1Y3Q6IHN0YXRlLnByb2R1Y3QsXHJcbiAgICBjb2xvcnM6IHN0YXRlLmNvbG9ycyxcclxuICAgIGZpYmVyczogc3RhdGUuZmliZXJzLFxyXG4gICAgLy9jYXJ0OiBzdGF0ZS5jYXJ0XHJcbn0pO1xyXG5jb25zdCBtYXBEaXNwYXRjaFRvUHJvcHMgPSAoZGlzcGF0Y2gpID0+ICh7XHJcbiAgICBzZXRTdGF0ZToge1xyXG4gICAgICAgIHByb2R1Y3Q6IGJpbmRBY3Rpb25DcmVhdG9ycyhhY3Rpb25zTGlzdFByb2R1Y3QsIGRpc3BhdGNoKSxcclxuICAgICAgICBjb2xvcnM6IGJpbmRBY3Rpb25DcmVhdG9ycyhhY3Rpb25zTGlzdENvbG9ycywgZGlzcGF0Y2gpLFxyXG4gICAgICAgIGZpYmVyczogYmluZEFjdGlvbkNyZWF0b3JzKGFjdGlvbnNMaXN0RmliZXJzLCBkaXNwYXRjaCksXHJcbiAgICAgICAgLy9jYXJ0OiBiaW5kQWN0aW9uQ3JlYXRvcnMoYWN0aW9uc0xpc3RDYXJ0LCBkaXNwYXRjaCksXHJcbiAgICB9XHJcbn0pO1xyXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShQcm9kdWN0RGV0YWlscyk7XHJcbiIsImltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XHJcbmltcG9ydCBcIi4vcHJvZHVjdC5zY3NzXCI7XHJcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgdXNlUGFyYW1zIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcclxuaW1wb3J0IFByZWxvYWRlciBmcm9tICcuLi8uLi9jb21wb25lbnRzL1ByZWxvYWRlcnMvUHJlbG9hZGVyJztcclxuaW1wb3J0IHsgYmluZEFjdGlvbkNyZWF0b3JzIH0gZnJvbSBcInJlZHV4XCI7XHJcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcclxuaW1wb3J0IFNwbGlkZXJQcmV2aWV3IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL1NwbGlkZXJzL1ByZXZpZXcvU3BsaWRlclByZXZpZXdcIjtcclxuaW1wb3J0IHsgbG9hZFByb2R1Y3QgfSBmcm9tIFwiLi4vLi4vcmVkdXgvYWN0aW9ucy9wcm9kdWN0XCI7XHJcbmltcG9ydCB7IGxvYWRGaWJlcnMgfSBmcm9tIFwiLi4vLi4vcmVkdXgvYWN0aW9ucy9maWJlcnNcIjtcclxuaW1wb3J0IHsgbG9hZENvbG9ycyB9IGZyb20gXCIuLi8uLi9yZWR1eC9hY3Rpb25zL2NvbG9yc1wiO1xyXG5pbXBvcnQgUHJvZHVjdERldGFpbHMgZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvUHJvZHVjdERldGFpbHMvUHJvZHVjdERldGFpbHNcIjtcclxuY29uc3QgYWN0aW9uc0xpc3RQcm9kdWN0ID0geyBsb2FkUHJvZHVjdCB9O1xyXG5jb25zdCBhY3Rpb25zTGlzdENvbG9ycyA9IHsgbG9hZENvbG9ycyB9O1xyXG5jb25zdCBhY3Rpb25zTGlzdEZpYmVycyA9IHsgbG9hZEZpYmVycyB9O1xyXG5jb25zdCBQcm9kdWN0ID0gKHsgbGFuZywgc2V0U3RhdGUsIHByb2R1Y3QsIGNvbG9ycywgZmliZXJzIH0pID0+IHtcclxuICAgIGNvbnN0IHBhcmFtUHJvZHVjdElkID0gdXNlUGFyYW1zKCkucHJvZHVjdElkIHx8ICcnO1xyXG4gICAgY29uc3QgW2xvYWRlZCwgc2V0TG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKHBhcmFtUHJvZHVjdElkICE9PSBwcm9kdWN0LmlkKSB7XHJcbiAgICAgICAgICAgIHNldFN0YXRlLnByb2R1Y3QubG9hZFByb2R1Y3QocGFyYW1Qcm9kdWN0SWQpO1xyXG4gICAgICAgICAgICBzZXRMb2FkZWQoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIFtdKTtcclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKGZpYmVycy5kYXRhTG9hZGluZy5zdGF0dXMgPT09ICdpZGxlJykge1xyXG4gICAgICAgICAgICBzZXRTdGF0ZS5maWJlcnMubG9hZEZpYmVycygpO1xyXG4gICAgICAgICAgICBzZXRMb2FkZWQoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIFtmaWJlcnMuZGF0YUxvYWRpbmcuc3RhdHVzXSk7XHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGlmIChjb2xvcnMuZGF0YUxvYWRpbmcuc3RhdHVzID09PSAnaWRsZScpIHtcclxuICAgICAgICAgICAgc2V0U3RhdGUuY29sb3JzLmxvYWRDb2xvcnMoKTtcclxuICAgICAgICAgICAgc2V0TG9hZGVkKGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICB9LCBbY29sb3JzLmRhdGFMb2FkaW5nLnN0YXR1c10pO1xyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBpZiAoY29sb3JzLmRhdGFMb2FkaW5nLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnICYmIGZpYmVycy5kYXRhTG9hZGluZy5zdGF0dXMgPT09ICdzdWNjZXNzJyAmJiBwcm9kdWN0LmRhdGFMb2FkaW5nLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XHJcbiAgICAgICAgICAgIHNldExvYWRlZCh0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9LCBbZmliZXJzLmRhdGFMb2FkaW5nLnN0YXR1cywgY29sb3JzLmRhdGFMb2FkaW5nLnN0YXR1cywgcHJvZHVjdC5kYXRhTG9hZGluZy5zdGF0dXNdKTtcclxuICAgIHJldHVybiAoX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJwYWdlIHBhZ2VfcHJvZHVjdC1kZXRhaWxzXCIsIGNoaWxkcmVuOiBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNvbnRhaW5lcl9wYWdlXCIsIGNoaWxkcmVuOiBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjb250YWluZXJcIiwgY2hpbGRyZW46IFtfanN4KFwiaDFcIiwgeyBjaGlsZHJlbjogcHJvZHVjdC5uYW1lW2xhbmddIH0pLCBsb2FkZWQgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJkZXRhaWxzX19ibG9ja1wiLCBjaGlsZHJlbjogW19qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZGV0YWlsc19fc3BsaWRlclwiLCBjaGlsZHJlbjogX2pzeChTcGxpZGVyUHJldmlldywge30pIH0pLCBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImRldGFpbHNfX2Rlc2NyLW9yZGVyXCIsIGNoaWxkcmVuOiBfanN4KFByb2R1Y3REZXRhaWxzLCB7fSkgfSldIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9qc3goUHJlbG9hZGVyLCB7fSldIH0pIH0pIH0pKTtcclxufTtcclxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlKSA9PiAoe1xyXG4gICAgbGFuZzogc3RhdGUuYmFzZS5sYW5nLFxyXG4gICAgc2VsZWN0ZWRDYXRlZ29yeTogc3RhdGUuY2F0YWxvZy5zZWxlY3RlZENhdGVnb3J5LFxyXG4gICAgY2F0ZWdvcmllczogc3RhdGUuY2F0YWxvZy5jYXRlZ29yaWVzLFxyXG4gICAgLy9zZWxlY3RlZFByb2R1Y3Q6IHN0YXRlLmNhdGFsb2cuc2VsZWN0ZWRQcm9kdWN0LFxyXG4gICAgcHJvZHVjdDogc3RhdGUucHJvZHVjdCxcclxuICAgIGNvbG9yczogc3RhdGUuY29sb3JzLFxyXG4gICAgZmliZXJzOiBzdGF0ZS5maWJlcnNcclxufSk7XHJcbmNvbnN0IG1hcERpc3BhdGNoVG9Qcm9wcyA9IChkaXNwYXRjaCkgPT4gKHtcclxuICAgIHNldFN0YXRlOiB7XHJcbiAgICAgICAgcHJvZHVjdDogYmluZEFjdGlvbkNyZWF0b3JzKGFjdGlvbnNMaXN0UHJvZHVjdCwgZGlzcGF0Y2gpLFxyXG4gICAgICAgIGNvbG9yczogYmluZEFjdGlvbkNyZWF0b3JzKGFjdGlvbnNMaXN0Q29sb3JzLCBkaXNwYXRjaCksXHJcbiAgICAgICAgZmliZXJzOiBiaW5kQWN0aW9uQ3JlYXRvcnMoYWN0aW9uc0xpc3RGaWJlcnMsIGRpc3BhdGNoKSxcclxuICAgIH1cclxufSk7XHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKFByb2R1Y3QpO1xyXG4iLCJpbXBvcnQgeyBhY3Rpb25zTGlzdFByb2R1Y3QgfSBmcm9tICcuL2FjdGlvbnNMaXN0JztcclxuaW1wb3J0IG1vY2tQcm9kdWN0cyBmcm9tIFwiLi4vbW9ja3MvY2F0YWxvZ0Z1bGxcIjtcclxuZXhwb3J0IGNvbnN0IHNldExvYWREYXRhU3RhdHVzUHJvZHVjdCA9IChwYXlsb2FkKSA9PiAoe1xyXG4gICAgdHlwZTogYWN0aW9uc0xpc3RQcm9kdWN0LlNFVF9MT0FEX0RBVEFfU1RBVFVTX1BST0RVQ1QsXHJcbiAgICBwYXlsb2FkXHJcbn0pO1xyXG5leHBvcnQgY29uc3Qgc2V0UHJvZHVjdCA9IChwYXlsb2FkKSA9PiAoe1xyXG4gICAgdHlwZTogYWN0aW9uc0xpc3RQcm9kdWN0LlNFVF9EQVRBX1BST0RVQ1QsXHJcbiAgICBwYXlsb2FkXHJcbn0pO1xyXG4vKlxyXG5leHBvcnQgY29uc3Qgc2V0U2VsZWN0ZWRJbWFnZSA9IDxUIGV4dGVuZHMgSVByb2R1Y3RTdGF0ZVtcInNlbGVjdGVkSW1hZ2VcIl0+KHBheWxvYWQ6IFQpOklBY3Rpb248VD4gPT4gKHtcclxuICAgIHR5cGU6IGFjdGlvbnNMaXN0UHJvZHVjdC5TRVRfU0VMRUNURURfSU1BR0UsXHJcbiAgICBwYXlsb2FkXHJcbn0pO1xyXG4qL1xyXG5leHBvcnQgY29uc3QgbG9hZFByb2R1Y3QgPSAoaWQpID0+IHtcclxuICAgIHJldHVybiBhc3luYyBmdW5jdGlvbiAoZGlzcGF0Y2gpIHtcclxuICAgICAgICBkaXNwYXRjaChzZXRMb2FkRGF0YVN0YXR1c1Byb2R1Y3QoeyBzdGF0dXM6ICdsb2FkaW5nJywgbWVzc2FnZTogYExvYWRpbmcgcHJvZHVjdCAke2lkfWAgfSkpO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdCA9IG1vY2tQcm9kdWN0cy5maW5kKHByb2R1Y3QgPT4gcHJvZHVjdC5pZCA9PT0gaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9kdWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBwcm9kdWN0ICR7aWR9IGxvYWRlZGApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMocHJvZHVjdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHJlaih7IG1lc2FzYWdlOiBgcHJvZHVjdCAke2lkfSBub3QgZm91bmRgIH0pKTtcclxuICAgICAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgICAgICB9KS50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkaXNwYXRjaChzZXRQcm9kdWN0KGRhdGEpKTtcclxuICAgICAgICAgICAgICAgIGRpc3BhdGNoKHNldExvYWREYXRhU3RhdHVzUHJvZHVjdCh7IHN0YXR1czogJ3N1Y2Nlc3MnLCBtZXNzYWdlOiBgUHJvZHVjdCBpZD0ke2lkfSBsb2FkZWRgIH0pKTtcclxuICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgIGRpc3BhdGNoKHNldExvYWREYXRhU3RhdHVzUHJvZHVjdCh7IHN0YXR1czogJ2Vycm9yJywgbWVzc2FnZTogYEVSUk9SIHdoaWxlIGxvYWRpbmcgcHJvZHVjdCBpZD0ke2lkfTogJHtlcnJ9YCB9KSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBkaXNwYXRjaChzZXRMb2FkRGF0YVN0YXR1c1Byb2R1Y3QoeyBzdGF0dXM6ICdlcnJvcicsIG1lc3NhZ2U6IGBFUlJPUiB3aGlsZSBsb2FkaW5nIHByb2R1Y3QgaWQ9JHtpZH06ICR7ZX1gIH0pKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59O1xyXG4iLCIvKiBcbihUaGUgTUlUIExpY2Vuc2UpXG5Db3B5cmlnaHQgKGMpIDIwMTQtMjAyMSBIYWzDoXN6IMOBZMOhbSA8YWRhbUBhaW1mb3JtLmNvbT5cblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuKi9cblxuLy8gIFVuaXF1ZSBIZXhhdHJpZGVjaW1hbCBJRCBHZW5lcmF0b3Jcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vLyAgRGVwZW5kZW5jaWVzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbnZhciBwaWQgPSB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5waWQgPyBwcm9jZXNzLnBpZC50b1N0cmluZygzNikgOiAnJyA7XG52YXIgYWRkcmVzcyA9ICcnO1xuaWYodHlwZW9mIF9fd2VicGFja19yZXF1aXJlX18gIT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHJlcXVpcmUgIT09ICd1bmRlZmluZWQnKXtcbiAgICB2YXIgbWFjID0gJycsIG9zID0gcmVxdWlyZSgnb3MnKTsgXG4gICAgaWYob3MubmV0d29ya0ludGVyZmFjZXMpIHZhciBuZXR3b3JrSW50ZXJmYWNlcyA9IG9zLm5ldHdvcmtJbnRlcmZhY2VzKCk7XG4gICAgaWYobmV0d29ya0ludGVyZmFjZXMpe1xuICAgICAgICBsb29wOlxuICAgICAgICBmb3IobGV0IGludGVyZmFjZV9rZXkgaW4gbmV0d29ya0ludGVyZmFjZXMpe1xuICAgICAgICAgICAgY29uc3QgbmV0d29ya0ludGVyZmFjZSA9IG5ldHdvcmtJbnRlcmZhY2VzW2ludGVyZmFjZV9rZXldO1xuICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gbmV0d29ya0ludGVyZmFjZS5sZW5ndGg7XG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIGlmKG5ldHdvcmtJbnRlcmZhY2VbaV0gIT09IHVuZGVmaW5lZCAmJiBuZXR3b3JrSW50ZXJmYWNlW2ldLm1hYyAmJiBuZXR3b3JrSW50ZXJmYWNlW2ldLm1hYyAhPSAnMDA6MDA6MDA6MDA6MDA6MDAnKXtcbiAgICAgICAgICAgICAgICAgICAgbWFjID0gbmV0d29ya0ludGVyZmFjZVtpXS5tYWM7IGJyZWFrIGxvb3A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFkZHJlc3MgPSBtYWMgPyBwYXJzZUludChtYWMucmVwbGFjZSgvXFw6fFxcRCsvZ2ksICcnKSkudG9TdHJpbmcoMzYpIDogJycgO1xuICAgIH1cbn0gXG5cbi8vICBFeHBvcnRzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbm1vZHVsZS5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uKHByZWZpeCwgc3VmZml4KXsgcmV0dXJuIChwcmVmaXggPyBwcmVmaXggOiAnJykgKyBhZGRyZXNzICsgcGlkICsgbm93KCkudG9TdHJpbmcoMzYpICsgKHN1ZmZpeCA/IHN1ZmZpeCA6ICcnKTsgfVxubW9kdWxlLmV4cG9ydHMucHJvY2VzcyA9IGZ1bmN0aW9uKHByZWZpeCwgc3VmZml4KXsgcmV0dXJuIChwcmVmaXggPyBwcmVmaXggOiAnJykgKyBwaWQgKyBub3coKS50b1N0cmluZygzNikgKyAoc3VmZml4ID8gc3VmZml4IDogJycpOyB9XG5tb2R1bGUuZXhwb3J0cy50aW1lICAgID0gZnVuY3Rpb24ocHJlZml4LCBzdWZmaXgpeyByZXR1cm4gKHByZWZpeCA/IHByZWZpeCA6ICcnKSArIG5vdygpLnRvU3RyaW5nKDM2KSArIChzdWZmaXggPyBzdWZmaXggOiAnJyk7IH1cblxuLy8gIEhlbHBlcnNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuZnVuY3Rpb24gbm93KCl7XG4gICAgdmFyIHRpbWUgPSBEYXRlLm5vdygpO1xuICAgIHZhciBsYXN0ID0gbm93Lmxhc3QgfHwgdGltZTtcbiAgICByZXR1cm4gbm93Lmxhc3QgPSB0aW1lID4gbGFzdCA/IHRpbWUgOiBsYXN0ICsgMTtcbn1cbiJdLCJuYW1lcyI6WyJzcmMiLCJhbHQiLCJpZCIsImxvYWRlZCIsInNldExvYWRlZCIsInVzZVN0YXRlIiwiaW1nIiwidXNlUmVmIiwiY2hpbGRyZW4iLCJyZWYiLCJvbkxvYWQiLCJzdHlsZSIsImRpc3BsYXkiLCJpZEluc3RhbmNlIiwib25DaGFuZ2UiLCJpbml0aWFsQW1vdW50IiwibGFuZyIsInJlc2V0IiwiYW1vdW50Iiwic2V0QW1vdW50IiwiY2hhbmdlQW1vdW50IiwibmV3QW1vdW50IiwiYW1vdW50VG9TZXQiLCJ1c2VFZmZlY3QiLCJjbGFzc05hbWUiLCJvbkNsaWNrIiwiZSIsInByZXZlbnREZWZhdWx0Iiwib25CbHVyIiwib25Gb2N1c091dCIsIk51bWJlciIsInRhcmdldCIsInZhbHVlIiwidHlwZSIsInByb3BzIiwiX2NvbnRhaW5lciIsInNldFN0YXR1c0xvYWRlZCIsIl9pbWciLCJJbWFnZSIsInBhdGgiLCJjdXJyZW50IiwiYXBwZW5kQ2hpbGQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbW92ZUNoaWxkIiwiZGVzY3IiLCJzdGF0dXMiLCJoZWFkZXIiLCJ0ZXh0IiwiYnV0dG9uVGV4dCIsImJ1dHRvbkFjdGlvbiIsIm1hcCIsImN1cnJlbnRUZXh0IiwiaW5kZXgiLCJ2aXNpYmxlIiwiZXNjRXhpdCIsImNsb3NlIiwiX21vZGFsIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIm1vZGFsS2V5TGlzdGVuZXIiLCJrZXlDb2RlIiwiY3JlYXRlUG9ydGFsIiwid2lkdGgiLCJoZWlnaHQiLCJ2aWV3Qm94IiwiZmlsbCIsInhtbG5zIiwiZmlsbFJ1bGUiLCJzdHJva2UiLCJjbGlwUnVsZSIsImQiLCJzdHJva2VXaWR0aCIsInN0cm9rZUxpbmVjYXAiLCJhY3Rpb25zTGlzdCIsImxvYWRQcm9kdWN0Iiwic3RhdGUiLCJwcm9kdWN0IiwiYmFzZSIsImRpc3BhdGNoIiwic2V0U3RhdGUiLCJfc3BsaWRlTWFpbiIsIl9zcGxpZGVUaHVtYnMiLCJzcGxpZGVNYWluIiwic3BsaWRlVGh1bWIiLCJtb2RhbCIsInNldE1vZGFsIiwib3B0aW9uc1RodW1icyIsImxhenlMb2FkIiwicGVyUGFnZSIsImdhcCIsInJld2luZCIsInBhZ2luYXRpb24iLCJpc05hdmlnYXRpb24iLCJmb2N1cyIsImRpcmVjdGlvbiIsIndoZWVsIiwicmVsZWFzZVdoZWVsIiwiYnJlYWtwb2ludHMiLCJvcHRpb25zTWFpbiIsInNwZWVkIiwid2hlZWxTbGVlcCIsInN5bmMiLCJtb3VudCIsImRlc3Ryb3kiLCJpbWdzIiwic2xpZGUiLCJpIiwiSW1nV2l0aFByZWxvYWRlciIsInVybCIsIm5hbWUiLCJNb2RhbCIsInVuaXFpZCIsImFjdGlvbnNMaXN0Q2FydCIsImFkZEl0ZW0iLCJjYXJ0IiwiZmliZXIiLCJjb2xvciIsIm1lc3NhZ2UiLCJzZXRNZXNzYWdlIiwiYW1vdW50Q2hhbmdlclJlc2V0Iiwic2V0QW1vdW50Q2hhbmdlclJlc2V0IiwiY2xvc2VNb2RhbCIsIkFtb3VudENoYW5nZXIiLCJpdGVtIiwidGl0bGUiLCJlcnJvcnNMaXN0IiwicHVzaCIsIm5ld0l0ZW0iLCJzYXZlQ2FydCIsIml0ZW1zIiwiYW1vdW50SXRlbXNJbkNhcnQiLCJyZWR1Y2UiLCJ0b3RhbCIsIk1lc3NhZ2VJbmZvIiwiY29sb3JzIiwib25TZWxlY3QiLCJjdXJyZW50Q29sb3IiLCJzZXRDdXJyZW50Q29sb3IiLCJleHBhbmRlZCIsInNldEV4cGFuZGVkIiwibW9kYWxJbWciLCJzZXRNb2RhbEltZyIsInByZXYiLCJvbk9wdGlvbkNsaWNrIiwiZmluZCIsInN0b3BQcm9wYWdhdGlvbiIsIm9uSW1hZ2VDbGljayIsImFjdGlvbnNMaXN0UHJvZHVjdCIsImFjdGlvbnNMaXN0Q29sb3JzIiwibG9hZENvbG9ycyIsImFjdGlvbnNMaXN0RmliZXJzIiwibG9hZEZpYmVycyIsInNlbGVjdGVkQ2F0ZWdvcnkiLCJjYXRhbG9nIiwiY2F0ZWdvcmllcyIsInNlbGVjdGVkUHJvZHVjdCIsImZpYmVycyIsImZpYmVyc0RldGFpbGVkIiwic2V0RmliZXJzRGV0YWlsZWQiLCJzZWxlY3RlZEZpYmVyIiwic2V0U2VsZWN0ZWRGaWJlciIsInNlbGVjdGVkQ29sb3IiLCJzZXRTZWxlY3RlZENvbG9yIiwic2VsZWN0ZWRUeXBlIiwic2V0U2VsZWN0ZWRUeXBlIiwidW5kZWZpbmVkIiwiX3R5cGUiLCJkYXRhTG9hZGluZyIsInByb2R1Y3RGaWJlciIsImZpYmVyc0xpc3QiLCJmaWJlckl0ZW0iLCJmaWx0ZXIiLCJwYXJ0IiwiZmVhdHVyZXMiLCJmZWF0dXJlIiwicHJpY2UiLCJtb2RzIiwibGVuZ3RoIiwiaHRtbEZvciIsImRlZmF1bHRWYWx1ZSIsImRpc2FibGVkIiwiaGlkZGVuIiwibW9kIiwidG8iLCJzaG9ydCIsImluY2x1ZGVzIiwiY29sb3JJZCIsImVuIiwicnUiLCJwYXJhbVByb2R1Y3RJZCIsInByb2R1Y3RJZCIsIlByZWxvYWRlciIsInNldExvYWREYXRhU3RhdHVzUHJvZHVjdCIsInBheWxvYWQiLCJTRVRfTE9BRF9EQVRBX1NUQVRVU19QUk9EVUNUIiwic2V0UHJvZHVjdCIsIlNFVF9EQVRBX1BST0RVQ1QiLCJhc3luYyIsIlByb21pc2UiLCJyZXMiLCJyZWoiLCJzZXRUaW1lb3V0IiwibWVzYXNhZ2UiLCJ0aGVuIiwiZGF0YSIsImNhdGNoIiwiZXJyIiwicGlkIiwicHJvY2VzcyIsInRvU3RyaW5nIiwibm93IiwidGltZSIsIkRhdGUiLCJsYXN0IiwibW9kdWxlIiwiZXhwb3J0cyIsInByZWZpeCIsInN1ZmZpeCJdLCJzb3VyY2VSb290IjoiIn0=